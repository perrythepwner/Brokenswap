{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import{darken}from'polished';import React,{useContext,useRef,useState}from'react';import styled,{ThemeContext}from'styled-components';import{TYPE}from'../../theme';import{AutoColumn}from'../Column';import QuestionHelper from'../QuestionHelper';import{RowBetween,RowFixed}from'../Row';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SlippageError=/*#__PURE__*/function(SlippageError){SlippageError[\"InvalidInput\"]=\"InvalidInput\";SlippageError[\"RiskyLow\"]=\"RiskyLow\";SlippageError[\"RiskyHigh\"]=\"RiskyHigh\";return SlippageError;}(SlippageError||{});var DeadlineError=/*#__PURE__*/function(DeadlineError){DeadlineError[\"InvalidInput\"]=\"InvalidInput\";return DeadlineError;}(DeadlineError||{});const FancyButton=styled.button(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  color: \",\";\\n  align-items: center;\\n  height: 2rem;\\n  border-radius: 36px;\\n  font-size: 1rem;\\n  width: auto;\\n  min-width: 3.5rem;\\n  border: 1px solid \",\";\\n  outline: none;\\n  background: \",\";\\n  :hover {\\n    border: 1px solid \",\";\\n  }\\n  :focus {\\n    border: 1px solid \",\";\\n  }\\n\"])),_ref=>{let{theme}=_ref;return theme.text1;},_ref2=>{let{theme}=_ref2;return theme.bg3;},_ref3=>{let{theme}=_ref3;return theme.bg1;},_ref4=>{let{theme}=_ref4;return theme.bg4;},_ref5=>{let{theme}=_ref5;return theme.primary1;});const Option=styled(FancyButton)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  margin-right: 8px;\\n  :hover {\\n    cursor: pointer;\\n  }\\n  background-color: \",\";\\n  color: \",\";\\n\"])),_ref6=>{let{active,theme}=_ref6;return active&&theme.primary1;},_ref7=>{let{active,theme}=_ref7;return active?theme.white:theme.text1;});const Input=styled.input(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  background: \",\";\\n  font-size: 16px;\\n  width: auto;\\n  outline: none;\\n  &::-webkit-outer-spin-button,\\n  &::-webkit-inner-spin-button {\\n    -webkit-appearance: none;\\n  }\\n  color: \",\";\\n  text-align: right;\\n\"])),_ref8=>{let{theme}=_ref8;return theme.bg1;},_ref9=>{let{theme,color}=_ref9;return color==='red'?theme.red1:theme.text1;});const OptionCustom=styled(FancyButton)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  height: 2rem;\\n  position: relative;\\n  padding: 0 0.75rem;\\n  flex: 1;\\n  border: \",\";\\n  :hover {\\n    border: \",\";\\n  }\\n\\n  input {\\n    width: 100%;\\n    height: 100%;\\n    border: 0px;\\n    border-radius: 2rem;\\n  }\\n\"])),_ref10=>{let{theme,active,warning}=_ref10;return active&&\"1px solid \".concat(warning?theme.red1:theme.primary1);},_ref11=>{let{theme,active,warning}=_ref11;return active&&\"1px solid \".concat(warning?darken(0.1,theme.red1):darken(0.1,theme.primary1));});const SlippageEmojiContainer=styled.span(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  color: #f3841e;\\n  \",\"\\n\"])),_ref12=>{let{theme}=_ref12;return theme.mediaWidth.upToSmall(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    display: none;\\n  \"])));});export default function SlippageTabs(_ref13){let{rawSlippage,setRawSlippage,deadline,setDeadline}=_ref13;const theme=useContext(ThemeContext);const inputRef=useRef();const[slippageInput,setSlippageInput]=useState('');const[deadlineInput,setDeadlineInput]=useState('');const slippageInputIsValid=slippageInput===''||(rawSlippage/100).toFixed(2)===Number.parseFloat(slippageInput).toFixed(2);const deadlineInputIsValid=deadlineInput===''||(deadline/60).toString()===deadlineInput;let slippageError;if(slippageInput!==''&&!slippageInputIsValid){slippageError=SlippageError.InvalidInput;}else if(slippageInputIsValid&&rawSlippage<50){slippageError=SlippageError.RiskyLow;}else if(slippageInputIsValid&&rawSlippage>500){slippageError=SlippageError.RiskyHigh;}else{slippageError=undefined;}let deadlineError;if(deadlineInput!==''&&!deadlineInputIsValid){deadlineError=DeadlineError.InvalidInput;}else{deadlineError=undefined;}function parseCustomSlippage(value){setSlippageInput(value);try{const valueAsIntFromRoundedFloat=Number.parseInt((Number.parseFloat(value)*100).toString());if(!Number.isNaN(valueAsIntFromRoundedFloat)&&valueAsIntFromRoundedFloat<5000){setRawSlippage(valueAsIntFromRoundedFloat);}// eslint-disable-next-line no-empty\n}catch(_unused){}}function parseCustomDeadline(value){setDeadlineInput(value);try{const valueAsInt=Number.parseInt(value)*60;if(!Number.isNaN(valueAsInt)&&valueAsInt>0){setDeadline(valueAsInt);}// eslint-disable-next-line no-empty\n}catch(_unused2){}}return/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsxs(AutoColumn,{gap:\"sm\",children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(TYPE.black,{fontWeight:400,fontSize:14,color:theme.text2,children:\"Slippage tolerance\"}),/*#__PURE__*/_jsx(QuestionHelper,{text:\"Your transaction will revert if the price changes unfavorably by more than this percentage.\"})]}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(Option,{onClick:()=>{setSlippageInput('');setRawSlippage(10);},active:rawSlippage===10,children:\"0.1%\"}),/*#__PURE__*/_jsx(Option,{onClick:()=>{setSlippageInput('');setRawSlippage(50);},active:rawSlippage===50,children:\"0.5%\"}),/*#__PURE__*/_jsx(Option,{onClick:()=>{setSlippageInput('');setRawSlippage(100);},active:rawSlippage===100,children:\"1%\"}),/*#__PURE__*/_jsx(OptionCustom,{active:![10,50,100].includes(rawSlippage),warning:!slippageInputIsValid,tabIndex:-1,children:/*#__PURE__*/_jsxs(RowBetween,{children:[!!slippageInput&&(slippageError===SlippageError.RiskyLow||slippageError===SlippageError.RiskyHigh)?/*#__PURE__*/_jsx(SlippageEmojiContainer,{children:/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"warning\",children:\"\\u26A0\\uFE0F\"})}):null,/*#__PURE__*/_jsx(Input,{ref:inputRef,placeholder:(rawSlippage/100).toFixed(2),value:slippageInput,onBlur:()=>{parseCustomSlippage((rawSlippage/100).toFixed(2));},onChange:e=>parseCustomSlippage(e.target.value),color:!slippageInputIsValid?'red':''}),\"%\"]})})]}),!!slippageError&&/*#__PURE__*/_jsx(RowBetween,{style:{fontSize:'14px',paddingTop:'7px',color:slippageError===SlippageError.InvalidInput?'red':'#F3841E'},children:slippageError===SlippageError.InvalidInput?'Enter a valid slippage percentage':slippageError===SlippageError.RiskyLow?'Your transaction may fail':'Your transaction may be frontrun'})]}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"sm\",children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(TYPE.black,{fontSize:14,fontWeight:400,color:theme.text2,children:\"Transaction deadline\"}),/*#__PURE__*/_jsx(QuestionHelper,{text:\"Your transaction will revert if it is pending for more than this long.\"})]}),/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(OptionCustom,{style:{width:'80px'},tabIndex:-1,children:/*#__PURE__*/_jsx(Input,{color:deadlineError?'red':undefined,onBlur:()=>{parseCustomDeadline((deadline/60).toString());},placeholder:(deadline/60).toString(),value:deadlineInput,onChange:e=>parseCustomDeadline(e.target.value)})}),/*#__PURE__*/_jsx(TYPE.body,{style:{paddingLeft:'8px'},fontSize:14,children:\"minutes\"})]})]})]});}","map":null,"metadata":{},"sourceType":"module"}