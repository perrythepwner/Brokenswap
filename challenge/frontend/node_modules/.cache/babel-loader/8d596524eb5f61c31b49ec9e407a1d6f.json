{"ast":null,"code":"import _taggedTemplateLiteral from \"/app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\nvar _jsxFileName = \"/app/src/components/SearchModal/CurrencyList.tsx\",\n  _templateObject,\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { Token } from '@ubeswap/sdk';\nimport React, { useCallback } from 'react';\nimport { FixedSizeList } from 'react-window';\nimport { Text } from 'rebass';\nimport styled from 'styled-components';\nimport { useAllInactiveTokens } from '../../hooks/Tokens';\nimport { useCombinedActiveList } from '../../state/lists/hooks';\nimport { useCurrencyBalance } from '../../state/wallet/hooks';\nimport { TYPE } from '../../theme';\nimport { isTokenOnList } from '../../utils';\nimport Column from '../Column';\nimport CurrencyLogo from '../CurrencyLogo';\nimport { RowFixed } from '../Row';\nimport ImportRow from './ImportRow';\nimport { MenuItem } from './styleds';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction currencyKey(currency) {\n  return currency instanceof Token ? currency.address : '';\n}\nconst StyledBalanceText = styled(Text)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  white-space: nowrap;\\n  overflow: hidden;\\n  max-width: 5rem;\\n  text-overflow: ellipsis;\\n\"])));\n_c = StyledBalanceText;\nfunction Balance(_ref) {\n  let {\n    balance\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(StyledBalanceText, {\n    title: balance.toExact(),\n    children: balance.toSignificant(4)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 10\n  }, this);\n}\n_c2 = Balance;\nfunction CurrencyRow(_ref2) {\n  _s();\n  let {\n    currency,\n    onSelect,\n    isSelected,\n    otherSelected,\n    style\n  } = _ref2;\n  const key = currencyKey(currency);\n  const selectedTokenList = useCombinedActiveList();\n  const isOnSelectedList = isTokenOnList(selectedTokenList, currency);\n  const balance = useCurrencyBalance(undefined, currency);\n\n  // only show add or remove buttons if not on selected list\n  return /*#__PURE__*/_jsxDEV(MenuItem, {\n    style: style,\n    className: \"token-item-\".concat(key),\n    onClick: () => isSelected ? null : onSelect(),\n    disabled: isSelected,\n    selected: otherSelected,\n    children: [/*#__PURE__*/_jsxDEV(CurrencyLogo, {\n      currency: currency,\n      size: '39px'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Column, {\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        title: currency.name,\n        fontWeight: 500,\n        children: currency.symbol\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TYPE.darkGray, {\n        ml: \"0px\",\n        fontSize: '12px',\n        fontWeight: 300,\n        children: [currency.name, \" \", !isOnSelectedList && '• Added by user']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RowFixed, {\n      style: {\n        justifySelf: 'flex-end'\n      },\n      children: balance ? /*#__PURE__*/_jsxDEV(Balance, {\n        balance: balance\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 64\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(CurrencyRow, \"ljd34LgWFjpGprb0NmV+vRxTmT4=\", false, function () {\n  return [useCombinedActiveList, useCurrencyBalance];\n});\n_c3 = CurrencyRow;\nexport default function CurrencyList(_ref3) {\n  _s2();\n  let {\n    height,\n    currencies,\n    selectedCurrency,\n    onCurrencySelect,\n    otherCurrency,\n    fixedListRef,\n    showImportView,\n    setImportToken\n  } = _ref3;\n  const itemData = currencies;\n  const inactiveTokens = useAllInactiveTokens();\n  const Row = useCallback(_ref4 => {\n    let {\n      data,\n      index,\n      style\n    } = _ref4;\n    const currency = data[index];\n    const isSelected = Boolean(selectedCurrency && selectedCurrency == currency);\n    const otherSelected = Boolean(otherCurrency && otherCurrency == currency);\n    const handleSelect = () => onCurrencySelect(currency);\n    const token = currency;\n    const showImport = inactiveTokens && token && Object.keys(inactiveTokens).includes(token.address);\n    if (showImport && token) {\n      return /*#__PURE__*/_jsxDEV(ImportRow, {\n        style: style,\n        token: token,\n        showImportView: showImportView,\n        setImportToken: setImportToken,\n        dim: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(CurrencyRow, {\n        style: style,\n        currency: currency,\n        isSelected: isSelected,\n        onSelect: handleSelect,\n        otherSelected: otherSelected\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this);\n    }\n  }, [inactiveTokens, onCurrencySelect, otherCurrency, selectedCurrency, setImportToken, showImportView]);\n  const itemKey = useCallback((index, data) => currencyKey(data[index]), []);\n  return /*#__PURE__*/_jsxDEV(FixedSizeList, {\n    height: height,\n    ref: fixedListRef,\n    width: \"100%\",\n    itemData: itemData,\n    itemCount: itemData.length,\n    itemSize: 56,\n    itemKey: itemKey,\n    children: Row\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n}\n_s2(CurrencyList, \"ZL/0CqsGCA9MOSMVFEV19oW0IsM=\", false, function () {\n  return [useAllInactiveTokens];\n});\n_c4 = CurrencyList;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"StyledBalanceText\");\n$RefreshReg$(_c2, \"Balance\");\n$RefreshReg$(_c3, \"CurrencyRow\");\n$RefreshReg$(_c4, \"CurrencyList\");","map":{"version":3,"names":["Token","React","useCallback","FixedSizeList","Text","styled","useAllInactiveTokens","useCombinedActiveList","useCurrencyBalance","TYPE","isTokenOnList","Column","CurrencyLogo","RowFixed","ImportRow","MenuItem","jsxDEV","_jsxDEV","currencyKey","currency","address","StyledBalanceText","_templateObject","_taggedTemplateLiteral","_c","Balance","_ref","balance","title","toExact","children","toSignificant","fileName","_jsxFileName","lineNumber","columnNumber","_c2","CurrencyRow","_ref2","_s","onSelect","isSelected","otherSelected","style","key","selectedTokenList","isOnSelectedList","undefined","className","concat","onClick","disabled","selected","size","name","fontWeight","symbol","darkGray","ml","fontSize","justifySelf","_c3","CurrencyList","_ref3","_s2","height","currencies","selectedCurrency","onCurrencySelect","otherCurrency","fixedListRef","showImportView","setImportToken","itemData","inactiveTokens","Row","_ref4","data","index","Boolean","handleSelect","token","showImport","Object","keys","includes","dim","itemKey","ref","width","itemCount","length","itemSize","_c4","$RefreshReg$"],"sources":["/app/src/components/SearchModal/CurrencyList.tsx"],"sourcesContent":["import { Token, TokenAmount } from '@ubeswap/sdk'\nimport React, { CSSProperties, MutableRefObject, useCallback } from 'react'\nimport { FixedSizeList } from 'react-window'\nimport { Text } from 'rebass'\nimport styled from 'styled-components'\n\nimport { useAllInactiveTokens } from '../../hooks/Tokens'\nimport { useCombinedActiveList } from '../../state/lists/hooks'\nimport { useCurrencyBalance } from '../../state/wallet/hooks'\nimport { TYPE } from '../../theme'\nimport { isTokenOnList } from '../../utils'\nimport Column from '../Column'\nimport CurrencyLogo from '../CurrencyLogo'\nimport { RowFixed } from '../Row'\nimport ImportRow from './ImportRow'\nimport { MenuItem } from './styleds'\n\nfunction currencyKey(currency: Token): string {\n  return currency instanceof Token ? currency.address : ''\n}\n\nconst StyledBalanceText = styled(Text)`\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 5rem;\n  text-overflow: ellipsis;\n`\n\nfunction Balance({ balance }: { balance: TokenAmount }) {\n  return <StyledBalanceText title={balance.toExact()}>{balance.toSignificant(4)}</StyledBalanceText>\n}\n\nfunction CurrencyRow({\n  currency,\n  onSelect,\n  isSelected,\n  otherSelected,\n  style,\n}: {\n  currency: Token\n  onSelect: () => void\n  isSelected: boolean\n  otherSelected: boolean\n  style: CSSProperties\n}) {\n  const key = currencyKey(currency)\n  const selectedTokenList = useCombinedActiveList()\n  const isOnSelectedList = isTokenOnList(selectedTokenList, currency)\n  const balance = useCurrencyBalance(undefined, currency)\n\n  // only show add or remove buttons if not on selected list\n  return (\n    <MenuItem\n      style={style}\n      className={`token-item-${key}`}\n      onClick={() => (isSelected ? null : onSelect())}\n      disabled={isSelected}\n      selected={otherSelected}\n    >\n      <CurrencyLogo currency={currency} size={'39px'} />\n      <Column>\n        <Text title={currency.name} fontWeight={500}>\n          {currency.symbol}\n        </Text>\n        <TYPE.darkGray ml=\"0px\" fontSize={'12px'} fontWeight={300}>\n          {currency.name} {!isOnSelectedList && '• Added by user'}\n        </TYPE.darkGray>\n      </Column>\n      <RowFixed style={{ justifySelf: 'flex-end' }}>{balance ? <Balance balance={balance} /> : null}</RowFixed>\n    </MenuItem>\n  )\n}\n\nexport default function CurrencyList({\n  height,\n  currencies,\n  selectedCurrency,\n  onCurrencySelect,\n  otherCurrency,\n  fixedListRef,\n  showImportView,\n  setImportToken,\n}: {\n  height: number\n  currencies: Token[]\n  selectedCurrency?: Token | null\n  onCurrencySelect: (currency: Token) => void\n  otherCurrency?: Token | null\n  fixedListRef?: MutableRefObject<FixedSizeList | undefined>\n  showETH: boolean\n  showImportView: () => void\n  setImportToken: (token: Token) => void\n}) {\n  const itemData = currencies\n\n  const inactiveTokens: {\n    [address: string]: Token\n  } = useAllInactiveTokens()\n\n  const Row = useCallback(\n    ({ data, index, style }) => {\n      const currency: Token = data[index]\n      const isSelected = Boolean(selectedCurrency && selectedCurrency == currency)\n      const otherSelected = Boolean(otherCurrency && otherCurrency == currency)\n      const handleSelect = () => onCurrencySelect(currency)\n\n      const token = currency\n\n      const showImport = inactiveTokens && token && Object.keys(inactiveTokens).includes(token.address)\n\n      if (showImport && token) {\n        return (\n          <ImportRow\n            style={style}\n            token={token}\n            showImportView={showImportView}\n            setImportToken={setImportToken}\n            dim={true}\n          />\n        )\n      } else {\n        return (\n          <CurrencyRow\n            style={style}\n            currency={currency}\n            isSelected={isSelected}\n            onSelect={handleSelect}\n            otherSelected={otherSelected}\n          />\n        )\n      }\n    },\n    [inactiveTokens, onCurrencySelect, otherCurrency, selectedCurrency, setImportToken, showImportView]\n  )\n\n  const itemKey = useCallback((index: number, data: any) => currencyKey(data[index]), [])\n\n  return (\n    <FixedSizeList\n      height={height}\n      ref={fixedListRef as any}\n      width=\"100%\"\n      itemData={itemData}\n      itemCount={itemData.length}\n      itemSize={56}\n      itemKey={itemKey}\n    >\n      {Row}\n    </FixedSizeList>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}