{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import{useCelo}from'@celo/react-celo';import React from'react';import{CheckCircle,Triangle}from'react-feather';import styled from'styled-components';import{useAllTransactions}from'../../state/transactions/hooks';import{ExternalLink}from'../../theme';import Loader from'../Loader';import{RowFixed}from'../Row';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const TransactionWrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\"])));const TransactionStatusText=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  margin-right: 0.5rem;\\n  display: flex;\\n  align-items: center;\\n  :hover {\\n    text-decoration: underline;\\n  }\\n\"])));const TransactionState=styled(ExternalLink)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  text-decoration: none !important;\\n  border-radius: 0.5rem;\\n  padding: 0.25rem 0rem;\\n  font-weight: 500;\\n  font-size: 0.825rem;\\n  color: \",\";\\n\"])),_ref=>{let{theme}=_ref;return theme.primary1;});const IconWrapper=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  color: \",\";\\n\"])),_ref2=>{let{pending,success,theme}=_ref2;return pending?theme.primary1:success?theme.green1:theme.red1;});export default function Transaction(_ref3){var _tx$receipt,_tx$receipt2;let{hash}=_ref3;const{network}=useCelo();const chainId=network.chainId;const allTransactions=useAllTransactions();const tx=allTransactions===null||allTransactions===void 0?void 0:allTransactions[hash];const summary=tx===null||tx===void 0?void 0:tx.summary;const pending=!(tx!==null&&tx!==void 0&&tx.receipt);const success=!pending&&tx&&(((_tx$receipt=tx.receipt)===null||_tx$receipt===void 0?void 0:_tx$receipt.status)===1||typeof((_tx$receipt2=tx.receipt)===null||_tx$receipt2===void 0?void 0:_tx$receipt2.status)==='undefined');if(!chainId)return null;return/*#__PURE__*/_jsx(TransactionWrapper,{children:/*#__PURE__*/_jsxs(TransactionState,{href:\"\".concat(network.explorer,\"/tx/\").concat(hash),pending:pending,success:success,children:[/*#__PURE__*/_jsx(RowFixed,{children:/*#__PURE__*/_jsxs(TransactionStatusText,{children:[summary!==null&&summary!==void 0?summary:hash,\" \\u2197\"]})}),/*#__PURE__*/_jsx(IconWrapper,{pending:pending,success:success,children:pending?/*#__PURE__*/_jsx(Loader,{}):success?/*#__PURE__*/_jsx(CheckCircle,{size:\"16\"}):/*#__PURE__*/_jsx(Triangle,{size:\"16\"})})]})});}","map":{"version":3,"names":["useCelo","React","CheckCircle","Triangle","styled","useAllTransactions","ExternalLink","Loader","RowFixed","jsxs","_jsxs","jsx","_jsx","TransactionWrapper","div","_templateObject","_taggedTemplateLiteral","TransactionStatusText","_templateObject2","TransactionState","_templateObject3","_ref","theme","primary1","IconWrapper","_templateObject4","_ref2","pending","success","green1","red1","Transaction","_ref3","_tx$receipt","_tx$receipt2","hash","network","chainId","allTransactions","tx","summary","receipt","status","children","href","concat","explorer","size"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/src/components/AccountDetails/Transaction.tsx"],"sourcesContent":["import { useCelo } from '@celo/react-celo'\nimport { ChainId } from '@ubeswap/sdk'\nimport React from 'react'\nimport { CheckCircle, Triangle } from 'react-feather'\nimport styled from 'styled-components'\n\nimport { useAllTransactions } from '../../state/transactions/hooks'\nimport { ExternalLink } from '../../theme'\nimport Loader from '../Loader'\nimport { RowFixed } from '../Row'\n\nconst TransactionWrapper = styled.div``\n\nconst TransactionStatusText = styled.div`\n  margin-right: 0.5rem;\n  display: flex;\n  align-items: center;\n  :hover {\n    text-decoration: underline;\n  }\n`\n\nconst TransactionState = styled(ExternalLink)<{ pending: boolean; success?: boolean }>`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-decoration: none !important;\n  border-radius: 0.5rem;\n  padding: 0.25rem 0rem;\n  font-weight: 500;\n  font-size: 0.825rem;\n  color: ${({ theme }) => theme.primary1};\n`\n\nconst IconWrapper = styled.div<{ pending: boolean; success?: boolean }>`\n  color: ${({ pending, success, theme }) => (pending ? theme.primary1 : success ? theme.green1 : theme.red1)};\n`\n\nexport default function Transaction({ hash }: { hash: string }) {\n  const { network } = useCelo()\n  const chainId = network.chainId as unknown as ChainId\n  const allTransactions = useAllTransactions()\n\n  const tx = allTransactions?.[hash]\n  const summary = tx?.summary\n  const pending = !tx?.receipt\n  const success = !pending && tx && (tx.receipt?.status === 1 || typeof tx.receipt?.status === 'undefined')\n\n  if (!chainId) return null\n\n  return (\n    <TransactionWrapper>\n      <TransactionState href={`${network.explorer}/tx/${hash}`} pending={pending} success={success}>\n        <RowFixed>\n          <TransactionStatusText>{summary ?? hash} â†—</TransactionStatusText>\n        </RowFixed>\n        <IconWrapper pending={pending} success={success}>\n          {pending ? <Loader /> : success ? <CheckCircle size=\"16\" /> : <Triangle size=\"16\" />}\n        </IconWrapper>\n      </TransactionState>\n    </TransactionWrapper>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}