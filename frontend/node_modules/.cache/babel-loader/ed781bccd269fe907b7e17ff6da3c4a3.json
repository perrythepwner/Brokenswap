{"ast":null,"code":"var _jsxFileName = \"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/src/components/SearchModal/CurrencySearchModal.tsx\",\n  _s = $RefreshSig$();\nimport usePrevious from 'hooks/usePrevious';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport useLast from '../../hooks/useLast';\nimport Modal from '../Modal';\nimport { CurrencySearch } from './CurrencySearch';\nimport { ImportList } from './ImportList';\nimport { ImportToken } from './ImportToken';\nimport Manage from './Manage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport let CurrencyModalView = /*#__PURE__*/function (CurrencyModalView) {\n  CurrencyModalView[CurrencyModalView[\"search\"] = 0] = \"search\";\n  CurrencyModalView[CurrencyModalView[\"manage\"] = 1] = \"manage\";\n  CurrencyModalView[CurrencyModalView[\"importToken\"] = 2] = \"importToken\";\n  CurrencyModalView[CurrencyModalView[\"importList\"] = 3] = \"importList\";\n  return CurrencyModalView;\n}({});\nexport default function CurrencySearchModal(_ref) {\n  _s();\n  let {\n    isOpen,\n    onDismiss,\n    onCurrencySelect,\n    selectedCurrency,\n    otherSelectedCurrency,\n    showCommonBases = false,\n    chainId\n  } = _ref;\n  const [modalView, setModalView] = useState(CurrencyModalView.manage);\n  const lastOpen = useLast(isOpen);\n  useEffect(() => {\n    if (isOpen && !lastOpen) {\n      setModalView(CurrencyModalView.search);\n    }\n  }, [isOpen, lastOpen]);\n  const handleCurrencySelect = useCallback(currency => {\n    onCurrencySelect(currency);\n    onDismiss();\n  }, [onDismiss, onCurrencySelect]);\n\n  // for token import view\n  const prevView = usePrevious(modalView);\n\n  // used for import token flow\n  const [importToken, setImportToken] = useState();\n\n  // used for import list\n  const [importList, setImportList] = useState();\n  const [listURL, setListUrl] = useState();\n\n  // change min height if not searching\n  const minHeight = modalView === CurrencyModalView.importToken || modalView === CurrencyModalView.importList ? 40 : 80;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onDismiss: onDismiss,\n    maxHeight: 80,\n    minHeight: minHeight,\n    children: modalView === CurrencyModalView.search ? /*#__PURE__*/_jsxDEV(CurrencySearch, {\n      isOpen: isOpen,\n      onDismiss: onDismiss,\n      onCurrencySelect: handleCurrencySelect,\n      selectedCurrency: selectedCurrency,\n      otherSelectedCurrency: otherSelectedCurrency,\n      showCommonBases: showCommonBases,\n      showImportView: () => setModalView(CurrencyModalView.importToken),\n      setImportToken: setImportToken,\n      showManageView: () => setModalView(CurrencyModalView.manage),\n      chainId: chainId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this) : modalView === CurrencyModalView.importToken && importToken ? /*#__PURE__*/_jsxDEV(ImportToken, {\n      tokens: [importToken],\n      onDismiss: onDismiss,\n      onBack: () => setModalView(prevView && prevView !== CurrencyModalView.importToken ? prevView : CurrencyModalView.search),\n      handleCurrencySelect: handleCurrencySelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this) : modalView === CurrencyModalView.importList && importList && listURL ? /*#__PURE__*/_jsxDEV(ImportList, {\n      list: importList,\n      listURL: listURL,\n      onDismiss: onDismiss,\n      setModalView: setModalView\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this) : modalView === CurrencyModalView.manage ? /*#__PURE__*/_jsxDEV(Manage, {\n      onDismiss: onDismiss,\n      setModalView: setModalView,\n      setImportToken: setImportToken,\n      setImportList: setImportList,\n      setListUrl: setListUrl\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this) : ''\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(CurrencySearchModal, \"ZawNF6WV4HM8cPwowXsdTi+MOtI=\", false, function () {\n  return [useLast, usePrevious];\n});\n_c = CurrencySearchModal;\nvar _c;\n$RefreshReg$(_c, \"CurrencySearchModal\");","map":{"version":3,"names":["usePrevious","React","useCallback","useEffect","useState","useLast","Modal","CurrencySearch","ImportList","ImportToken","Manage","jsxDEV","_jsxDEV","CurrencyModalView","CurrencySearchModal","_ref","_s","isOpen","onDismiss","onCurrencySelect","selectedCurrency","otherSelectedCurrency","showCommonBases","chainId","modalView","setModalView","manage","lastOpen","search","handleCurrencySelect","currency","prevView","importToken","setImportToken","importList","setImportList","listURL","setListUrl","minHeight","maxHeight","children","showImportView","showManageView","fileName","_jsxFileName","lineNumber","columnNumber","tokens","onBack","list","_c","$RefreshReg$"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/src/components/SearchModal/CurrencySearchModal.tsx"],"sourcesContent":["import { ChainId } from '@celo/react-celo'\nimport { Token } from '@ubeswap/sdk'\nimport { TokenList } from '@uniswap/token-lists'\nimport usePrevious from 'hooks/usePrevious'\nimport React, { useCallback, useEffect, useState } from 'react'\n\nimport useLast from '../../hooks/useLast'\nimport Modal from '../Modal'\nimport { CurrencySearch } from './CurrencySearch'\nimport { ImportList } from './ImportList'\nimport { ImportToken } from './ImportToken'\nimport Manage from './Manage'\n\ninterface CurrencySearchModalProps {\n  isOpen: boolean\n  onDismiss: () => void\n  selectedCurrency?: Token | null\n  onCurrencySelect: (currency: Token) => void\n  otherSelectedCurrency?: Token | null\n  showCommonBases?: boolean\n  chainId?: ChainId\n}\n\nexport enum CurrencyModalView {\n  search,\n  manage,\n  importToken,\n  importList,\n}\n\nexport default function CurrencySearchModal({\n  isOpen,\n  onDismiss,\n  onCurrencySelect,\n  selectedCurrency,\n  otherSelectedCurrency,\n  showCommonBases = false,\n  chainId,\n}: CurrencySearchModalProps) {\n  const [modalView, setModalView] = useState<CurrencyModalView>(CurrencyModalView.manage)\n  const lastOpen = useLast(isOpen)\n\n  useEffect(() => {\n    if (isOpen && !lastOpen) {\n      setModalView(CurrencyModalView.search)\n    }\n  }, [isOpen, lastOpen])\n\n  const handleCurrencySelect = useCallback(\n    (currency: Token) => {\n      onCurrencySelect(currency)\n      onDismiss()\n    },\n    [onDismiss, onCurrencySelect]\n  )\n\n  // for token import view\n  const prevView = usePrevious(modalView)\n\n  // used for import token flow\n  const [importToken, setImportToken] = useState<Token | undefined>()\n\n  // used for import list\n  const [importList, setImportList] = useState<TokenList | undefined>()\n  const [listURL, setListUrl] = useState<string | undefined>()\n\n  // change min height if not searching\n  const minHeight = modalView === CurrencyModalView.importToken || modalView === CurrencyModalView.importList ? 40 : 80\n\n  return (\n    <Modal isOpen={isOpen} onDismiss={onDismiss} maxHeight={80} minHeight={minHeight}>\n      {modalView === CurrencyModalView.search ? (\n        <CurrencySearch\n          isOpen={isOpen}\n          onDismiss={onDismiss}\n          onCurrencySelect={handleCurrencySelect}\n          selectedCurrency={selectedCurrency}\n          otherSelectedCurrency={otherSelectedCurrency}\n          showCommonBases={showCommonBases}\n          showImportView={() => setModalView(CurrencyModalView.importToken)}\n          setImportToken={setImportToken}\n          showManageView={() => setModalView(CurrencyModalView.manage)}\n          chainId={chainId}\n        />\n      ) : modalView === CurrencyModalView.importToken && importToken ? (\n        <ImportToken\n          tokens={[importToken]}\n          onDismiss={onDismiss}\n          onBack={() =>\n            setModalView(prevView && prevView !== CurrencyModalView.importToken ? prevView : CurrencyModalView.search)\n          }\n          handleCurrencySelect={handleCurrencySelect}\n        />\n      ) : modalView === CurrencyModalView.importList && importList && listURL ? (\n        <ImportList list={importList} listURL={listURL} onDismiss={onDismiss} setModalView={setModalView} />\n      ) : modalView === CurrencyModalView.manage ? (\n        <Manage\n          onDismiss={onDismiss}\n          setModalView={setModalView}\n          setImportToken={setImportToken}\n          setImportList={setImportList}\n          setListUrl={setListUrl}\n        />\n      ) : (\n        ''\n      )}\n    </Modal>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}