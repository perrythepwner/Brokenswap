{"ast":null,"code":"\"use strict\";\n\n/**\n  This QRCode generator is inspired from\n  https://github.com/rainbow-me/rainbow-button/blob/master/src/components/qrcode/QRCode.tsx\n  which is registered under the MIT license\n */\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst qrcode_1 = require(\"qrcode\");\nconst react_1 = __importStar(require(\"react\"));\nconst use_theme_1 = __importDefault(require(\"../hooks/use-theme\"));\nconst logger_1 = require(\"../utils/logger\");\nconst tailwind_1 = __importDefault(require(\"../utils/tailwind\"));\n// From https://github.com/soldair/node-qrcode#qr-code-capacity\nconst qrCodeCapacity = [\n// ['H', 1273],\n// ['Q', 1663],\n['M', 2331], ['L', 2953]];\nconst generateMatrix = value => {\n  const bytes = Buffer.from(value).byteLength;\n  let i = 0;\n  while (qrCodeCapacity[i][1] <= bytes) {\n    i++;\n  }\n  const qrcode = (0, qrcode_1.create)(value, {\n    errorCorrectionLevel: qrCodeCapacity[i][0]\n  });\n  const arr = Array.from(qrcode.modules.data);\n  const sqrt = Math.sqrt(arr.length);\n  return arr.reduce((rows, key, index) => {\n    if (index % sqrt === 0) {\n      rows.push([key]);\n    } else {\n      rows[rows.length - 1].push(key);\n    }\n    return rows;\n  }, []);\n};\nconst BORDER_RADIUS = 2;\nconst CORNER_SQUARES = 3;\nconst MASK_SIZE = 7;\nfunction matrixToCorners(matrix, size) {\n  const rects = [];\n  const cellSize = size / matrix.length;\n  const corners = [[0, 0], [1, 0], [0, 1]];\n  for (let index = 0; index < corners.length; index++) {\n    const [x, y] = corners[index];\n    const x1 = (matrix.length - MASK_SIZE) * cellSize * x;\n    const y1 = (matrix.length - MASK_SIZE) * cellSize * y;\n    for (let i = 0; i < CORNER_SQUARES; i++) {\n      rects.push(react_1.default.createElement(\"rect\", {\n        className: i % 2 !== 0 ? 'tw-fill-white' : 'tw-fill-black',\n        height: cellSize * (MASK_SIZE - i * 2),\n        key: \"corner-\".concat(x, \"-\").concat(y, \"-\").concat(i),\n        rx: (i - BORDER_RADIUS - 1) * -BORDER_RADIUS + (i === 0 ? 2 : 0),\n        ry: (i - BORDER_RADIUS - 1) * -BORDER_RADIUS + (i === 0 ? 2 : 0),\n        width: cellSize * (MASK_SIZE - i * 2),\n        x: x1 + cellSize * i,\n        y: y1 + cellSize * i\n      }));\n    }\n  }\n  return rects;\n}\nfunction matrixToDots(matrix, size) {\n  const dots = [];\n  const cellSize = size / matrix.length;\n  const matrixMiddleStart = matrix.length / 2;\n  const matrixMiddleEnd = matrix.length / 2 - 1;\n  for (let i = 0; i < matrix.length; i++) {\n    for (let j = 0; j < matrix[i].length; j++) {\n      const data = matrix[i][j];\n      if (!data) continue;\n      if (!(i < MASK_SIZE && j < MASK_SIZE || i > matrix.length - (MASK_SIZE + 1) && j < MASK_SIZE || i < MASK_SIZE && j > matrix.length - (MASK_SIZE + 1))) {\n        if (!(i > matrixMiddleStart && i < matrixMiddleEnd && j > matrixMiddleStart && j < matrixMiddleEnd && i < j && j < i + 1)) {\n          dots.push(react_1.default.createElement(\"circle\", {\n            cx: i * cellSize + cellSize / 3,\n            cy: j * cellSize + cellSize / 3,\n            className: \"tw-fill-black\",\n            key: \"circle-\".concat(i, \"-\").concat(j),\n            r: cellSize / 3\n          }));\n        }\n      }\n    }\n  }\n  return dots;\n}\nconst styles = (0, tailwind_1.default)({\n  container: \"\\n    tw-border\\n    tw-relative\\n    tw-select-none\\n    tw-p-5\\n    tw-rounded-lg\\n    tw-bg-white\"\n});\nconst PrettyQrCode = _ref => {\n  let {\n    size = 200,\n    value\n  } = _ref;\n  const theme = (0, use_theme_1.default)();\n  const matrix = (0, react_1.useMemo)(() => {\n    const _matrix = generateMatrix(value);\n    (0, logger_1.getApplicationLogger)().debug('[PrettyQrCode]', 'Generated matrix');\n    return _matrix;\n  }, [value]);\n  const corners = (0, react_1.useMemo)(() => matrixToCorners(matrix, size), [size, matrix]);\n  const dots = (0, react_1.useMemo)(() => matrixToDots(matrix, size), [size, matrix]);\n  return react_1.default.createElement(\"div\", {\n    className: styles.container,\n    style: {\n      borderColor: theme.muted\n    }\n  }, react_1.default.createElement(\"svg\", {\n    height: size,\n    style: {\n      all: 'revert'\n    },\n    width: size\n  }, react_1.default.createElement(\"rect\", {\n    fill: \"transparent\",\n    height: size,\n    width: size\n  }), corners, dots));\n};\nexports.default = PrettyQrCode;","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__importDefault","exports","qrcode_1","require","react_1","use_theme_1","logger_1","tailwind_1","qrCodeCapacity","generateMatrix","bytes","Buffer","from","byteLength","i","qrcode","errorCorrectionLevel","arr","Array","modules","data","sqrt","Math","length","reduce","rows","key","index","push","BORDER_RADIUS","CORNER_SQUARES","MASK_SIZE","matrixToCorners","matrix","size","rects","cellSize","corners","x","y","x1","y1","default","createElement","className","height","concat","rx","ry","width","matrixToDots","dots","matrixMiddleStart","matrixMiddleEnd","j","cx","cy","r","styles","container","PrettyQrCode","_ref","theme","useMemo","_matrix","getApplicationLogger","debug","style","borderColor","muted","all","fill"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@celo/react-celo/lib/components/qrcode.js"],"sourcesContent":["\"use strict\";\n/**\n  This QRCode generator is inspired from\n  https://github.com/rainbow-me/rainbow-button/blob/master/src/components/qrcode/QRCode.tsx\n  which is registered under the MIT license\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst qrcode_1 = require(\"qrcode\");\nconst react_1 = __importStar(require(\"react\"));\nconst use_theme_1 = __importDefault(require(\"../hooks/use-theme\"));\nconst logger_1 = require(\"../utils/logger\");\nconst tailwind_1 = __importDefault(require(\"../utils/tailwind\"));\n// From https://github.com/soldair/node-qrcode#qr-code-capacity\nconst qrCodeCapacity = [\n    // ['H', 1273],\n    // ['Q', 1663],\n    ['M', 2331],\n    ['L', 2953],\n];\nconst generateMatrix = (value) => {\n    const bytes = Buffer.from(value).byteLength;\n    let i = 0;\n    while (qrCodeCapacity[i][1] <= bytes) {\n        i++;\n    }\n    const qrcode = (0, qrcode_1.create)(value, {\n        errorCorrectionLevel: qrCodeCapacity[i][0],\n    });\n    const arr = Array.from(qrcode.modules.data);\n    const sqrt = Math.sqrt(arr.length);\n    return arr.reduce((rows, key, index) => {\n        if (index % sqrt === 0) {\n            rows.push([key]);\n        }\n        else {\n            rows[rows.length - 1].push(key);\n        }\n        return rows;\n    }, []);\n};\nconst BORDER_RADIUS = 2;\nconst CORNER_SQUARES = 3;\nconst MASK_SIZE = 7;\nfunction matrixToCorners(matrix, size) {\n    const rects = [];\n    const cellSize = size / matrix.length;\n    const corners = [\n        [0, 0],\n        [1, 0],\n        [0, 1],\n    ];\n    for (let index = 0; index < corners.length; index++) {\n        const [x, y] = corners[index];\n        const x1 = (matrix.length - MASK_SIZE) * cellSize * x;\n        const y1 = (matrix.length - MASK_SIZE) * cellSize * y;\n        for (let i = 0; i < CORNER_SQUARES; i++) {\n            rects.push(react_1.default.createElement(\"rect\", { className: i % 2 !== 0 ? 'tw-fill-white' : 'tw-fill-black', height: cellSize * (MASK_SIZE - i * 2), key: `corner-${x}-${y}-${i}`, rx: (i - BORDER_RADIUS - 1) * -BORDER_RADIUS + (i === 0 ? 2 : 0), ry: (i - BORDER_RADIUS - 1) * -BORDER_RADIUS + (i === 0 ? 2 : 0), width: cellSize * (MASK_SIZE - i * 2), x: x1 + cellSize * i, y: y1 + cellSize * i }));\n        }\n    }\n    return rects;\n}\nfunction matrixToDots(matrix, size) {\n    const dots = [];\n    const cellSize = size / matrix.length;\n    const matrixMiddleStart = matrix.length / 2;\n    const matrixMiddleEnd = matrix.length / 2 - 1;\n    for (let i = 0; i < matrix.length; i++) {\n        for (let j = 0; j < matrix[i].length; j++) {\n            const data = matrix[i][j];\n            if (!data)\n                continue;\n            if (!((i < MASK_SIZE && j < MASK_SIZE) ||\n                (i > matrix.length - (MASK_SIZE + 1) && j < MASK_SIZE) ||\n                (i < MASK_SIZE && j > matrix.length - (MASK_SIZE + 1)))) {\n                if (!(i > matrixMiddleStart &&\n                    i < matrixMiddleEnd &&\n                    j > matrixMiddleStart &&\n                    j < matrixMiddleEnd &&\n                    i < j &&\n                    j < i + 1)) {\n                    dots.push(react_1.default.createElement(\"circle\", { cx: i * cellSize + cellSize / 3, cy: j * cellSize + cellSize / 3, className: \"tw-fill-black\", key: `circle-${i}-${j}`, r: cellSize / 3 }));\n                }\n            }\n        }\n    }\n    return dots;\n}\nconst styles = (0, tailwind_1.default)({\n    container: `\n    tw-border\n    tw-relative\n    tw-select-none\n    tw-p-5\n    tw-rounded-lg\n    tw-bg-white`,\n});\nconst PrettyQrCode = ({ size = 200, value }) => {\n    const theme = (0, use_theme_1.default)();\n    const matrix = (0, react_1.useMemo)(() => {\n        const _matrix = generateMatrix(value);\n        (0, logger_1.getApplicationLogger)().debug('[PrettyQrCode]', 'Generated matrix');\n        return _matrix;\n    }, [value]);\n    const corners = (0, react_1.useMemo)(() => matrixToCorners(matrix, size), [size, matrix]);\n    const dots = (0, react_1.useMemo)(() => matrixToDots(matrix, size), [size, matrix]);\n    return (react_1.default.createElement(\"div\", { className: styles.container, style: { borderColor: theme.muted } },\n        react_1.default.createElement(\"svg\", { height: size, style: { all: 'revert' }, width: size },\n            react_1.default.createElement(\"rect\", { fill: \"transparent\", height: size, width: size }),\n            corners,\n            dots)));\n};\nexports.default = PrettyQrCode;\n//# sourceMappingURL=qrcode.js.map"],"mappings":"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"},"metadata":{},"sourceType":"script"}