{"ast":null,"code":"var _asyncToGenerator = require(\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nconst BaseFilter = require('./base-filter');\nconst getBlocksForRange = require('./getBlocksForRange');\nconst {\n  incrementHexInt\n} = require('./hexUtils');\nclass TxFilter extends BaseFilter {\n  constructor(_ref) {\n    let {\n      provider\n    } = _ref;\n    super();\n    this.type = 'tx';\n    this.provider = provider;\n  }\n  update(_ref2) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      let {\n        oldBlock\n      } = _ref2;\n      const toBlock = oldBlock;\n      const fromBlock = incrementHexInt(oldBlock);\n      const blocks = yield getBlocksForRange({\n        provider: _this.provider,\n        fromBlock,\n        toBlock\n      });\n      const blockTxHashes = [];\n      for (const block of blocks) {\n        blockTxHashes.push(...block.transactions);\n      }\n      // add to results\n      _this.addResults(blockTxHashes);\n    })();\n  }\n}\nmodule.exports = TxFilter;","map":null,"metadata":{},"sourceType":"script"}