{"ast":null,"code":"import usePrevious from'hooks/usePrevious';import React,{useCallback,useEffect,useState}from'react';import useLast from'../../hooks/useLast';import Modal from'../Modal';import{CurrencySearch}from'./CurrencySearch';import{ImportList}from'./ImportList';import{ImportToken}from'./ImportToken';import Manage from'./Manage';import{jsx as _jsx}from\"react/jsx-runtime\";export let CurrencyModalView=/*#__PURE__*/function(CurrencyModalView){CurrencyModalView[CurrencyModalView[\"search\"]=0]=\"search\";CurrencyModalView[CurrencyModalView[\"manage\"]=1]=\"manage\";CurrencyModalView[CurrencyModalView[\"importToken\"]=2]=\"importToken\";CurrencyModalView[CurrencyModalView[\"importList\"]=3]=\"importList\";return CurrencyModalView;}({});export default function CurrencySearchModal(_ref){let{isOpen,onDismiss,onCurrencySelect,selectedCurrency,otherSelectedCurrency,showCommonBases=false,chainId}=_ref;const[modalView,setModalView]=useState(CurrencyModalView.manage);const lastOpen=useLast(isOpen);useEffect(()=>{if(isOpen&&!lastOpen){setModalView(CurrencyModalView.search);}},[isOpen,lastOpen]);const handleCurrencySelect=useCallback(currency=>{onCurrencySelect(currency);onDismiss();},[onDismiss,onCurrencySelect]);// for token import view\nconst prevView=usePrevious(modalView);// used for import token flow\nconst[importToken,setImportToken]=useState();// used for import list\nconst[importList,setImportList]=useState();const[listURL,setListUrl]=useState();// change min height if not searching\nconst minHeight=modalView===CurrencyModalView.importToken||modalView===CurrencyModalView.importList?40:80;return/*#__PURE__*/_jsx(Modal,{isOpen:isOpen,onDismiss:onDismiss,maxHeight:80,minHeight:minHeight,children:modalView===CurrencyModalView.search?/*#__PURE__*/_jsx(CurrencySearch,{isOpen:isOpen,onDismiss:onDismiss,onCurrencySelect:handleCurrencySelect,selectedCurrency:selectedCurrency,otherSelectedCurrency:otherSelectedCurrency,showCommonBases:showCommonBases,showImportView:()=>setModalView(CurrencyModalView.importToken),setImportToken:setImportToken,showManageView:()=>setModalView(CurrencyModalView.manage),chainId:chainId}):modalView===CurrencyModalView.importToken&&importToken?/*#__PURE__*/_jsx(ImportToken,{tokens:[importToken],onDismiss:onDismiss,onBack:()=>setModalView(prevView&&prevView!==CurrencyModalView.importToken?prevView:CurrencyModalView.search),handleCurrencySelect:handleCurrencySelect}):modalView===CurrencyModalView.importList&&importList&&listURL?/*#__PURE__*/_jsx(ImportList,{list:importList,listURL:listURL,onDismiss:onDismiss,setModalView:setModalView}):modalView===CurrencyModalView.manage?/*#__PURE__*/_jsx(Manage,{onDismiss:onDismiss,setModalView:setModalView,setImportToken:setImportToken,setImportList:setImportList,setListUrl:setListUrl}):''});}","map":null,"metadata":{},"sourceType":"module"}