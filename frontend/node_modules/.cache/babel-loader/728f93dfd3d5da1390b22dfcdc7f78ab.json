{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractConnector = exports.ConnectorEvents = exports.updateFeeCurrency = exports.UnsupportedChainIdError = void 0;\nconst base_1 = require(\"@celo/contractkit/lib/base\");\nconst eventemitter3_1 = __importDefault(require(\"eventemitter3\"));\nconst logger_1 = require(\"../utils/logger\");\nclass UnsupportedChainIdError extends Error {\n  constructor(chainID) {\n    super(\"Unsupported chain ID: \".concat(chainID));\n    this.chainID = chainID;\n    this.name = UnsupportedChainIdError.NAME;\n  }\n}\nexports.UnsupportedChainIdError = UnsupportedChainIdError;\nUnsupportedChainIdError.NAME = 'UnsupportedChainIdError';\nfunction updateFeeCurrency(feeContract) {\n  return __awaiter(this, void 0, void 0, function* () {\n    if (!this.supportsFeeCurrency()) {\n      return;\n    }\n    this.feeCurrency = feeContract;\n    const address = feeContract === base_1.CeloContract.GoldToken ? undefined : yield this.kit.registry.addressFor(feeContract);\n    this.kit.connection.defaultFeeCurrency = address;\n  });\n}\nexports.updateFeeCurrency = updateFeeCurrency;\nvar ConnectorEvents;\n(function (ConnectorEvents) {\n  ConnectorEvents[\"CONNECTED\"] = \"CONNECTED\";\n  ConnectorEvents[\"DISCONNECTED\"] = \"DISCONNECTED\";\n  ConnectorEvents[\"ADDRESS_CHANGED\"] = \"ADDRESS_CHANGED\";\n  ConnectorEvents[\"NETWORK_CHANGED\"] = \"NETWORK_CHANGED\";\n  ConnectorEvents[\"NETWORK_CHANGE_FAILED\"] = \"NETWORK_CHANGE_FAILED\";\n  ConnectorEvents[\"WALLET_CHAIN_CHANGED\"] = \"WALLET_CHAIN_CHANGED\";\n  ConnectorEvents[\"WC_URI_RECEIVED\"] = \"WC_URI_RECEIVED\";\n  ConnectorEvents[\"WC_INITIALISED\"] = \"WC_INITIALISED\";\n  ConnectorEvents[\"WC_ERROR\"] = \"WC_ERROR\";\n})(ConnectorEvents = exports.ConnectorEvents || (exports.ConnectorEvents = {}));\nclass AbstractConnector {\n  constructor() {\n    this.emitter = new eventemitter3_1.default();\n    this.on = (event, fn) => {\n      this.emitter.on(event, fn);\n    };\n    this.emit = (event, data) => {\n      (0, logger_1.getApplicationLogger)().debug('[CONNECTOR EMIT]', this.type, event, data !== null && data !== void 0 ? data : '');\n      this.emitter.emit(event, data);\n    };\n  }\n  get account() {\n    var _a, _b;\n    return (_b = (_a = this.kit) === null || _a === void 0 ? void 0 : _a.connection) === null || _b === void 0 ? void 0 : _b.defaultAccount;\n  }\n  set account(address) {\n    this.kit.connection.defaultAccount = address;\n  }\n  supportsFeeCurrency() {\n    return false;\n  }\n  disconnect() {\n    this.emit(ConnectorEvents.DISCONNECTED);\n    this.emitter.removeAllListeners();\n  }\n}\nexports.AbstractConnector = AbstractConnector;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","Object","defineProperty","exports","AbstractConnector","ConnectorEvents","updateFeeCurrency","UnsupportedChainIdError","base_1","require","eventemitter3_1","logger_1","Error","constructor","chainID","concat","name","NAME","feeContract","supportsFeeCurrency","feeCurrency","address","CeloContract","GoldToken","undefined","kit","registry","addressFor","connection","defaultFeeCurrency","emitter","default","on","event","fn","emit","data","getApplicationLogger","debug","type","account","_a","_b","defaultAccount","disconnect","DISCONNECTED","removeAllListeners"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@celo/react-celo/lib/connectors/common.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractConnector = exports.ConnectorEvents = exports.updateFeeCurrency = exports.UnsupportedChainIdError = void 0;\nconst base_1 = require(\"@celo/contractkit/lib/base\");\nconst eventemitter3_1 = __importDefault(require(\"eventemitter3\"));\nconst logger_1 = require(\"../utils/logger\");\nclass UnsupportedChainIdError extends Error {\n    constructor(chainID) {\n        super(`Unsupported chain ID: ${chainID}`);\n        this.chainID = chainID;\n        this.name = UnsupportedChainIdError.NAME;\n    }\n}\nexports.UnsupportedChainIdError = UnsupportedChainIdError;\nUnsupportedChainIdError.NAME = 'UnsupportedChainIdError';\nfunction updateFeeCurrency(feeContract) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!this.supportsFeeCurrency()) {\n            return;\n        }\n        this.feeCurrency = feeContract;\n        const address = feeContract === base_1.CeloContract.GoldToken\n            ? undefined\n            : yield this.kit.registry.addressFor(feeContract);\n        this.kit.connection.defaultFeeCurrency = address;\n    });\n}\nexports.updateFeeCurrency = updateFeeCurrency;\nvar ConnectorEvents;\n(function (ConnectorEvents) {\n    ConnectorEvents[\"CONNECTED\"] = \"CONNECTED\";\n    ConnectorEvents[\"DISCONNECTED\"] = \"DISCONNECTED\";\n    ConnectorEvents[\"ADDRESS_CHANGED\"] = \"ADDRESS_CHANGED\";\n    ConnectorEvents[\"NETWORK_CHANGED\"] = \"NETWORK_CHANGED\";\n    ConnectorEvents[\"NETWORK_CHANGE_FAILED\"] = \"NETWORK_CHANGE_FAILED\";\n    ConnectorEvents[\"WALLET_CHAIN_CHANGED\"] = \"WALLET_CHAIN_CHANGED\";\n    ConnectorEvents[\"WC_URI_RECEIVED\"] = \"WC_URI_RECEIVED\";\n    ConnectorEvents[\"WC_INITIALISED\"] = \"WC_INITIALISED\";\n    ConnectorEvents[\"WC_ERROR\"] = \"WC_ERROR\";\n})(ConnectorEvents = exports.ConnectorEvents || (exports.ConnectorEvents = {}));\nclass AbstractConnector {\n    constructor() {\n        this.emitter = new eventemitter3_1.default();\n        this.on = (event, fn) => {\n            this.emitter.on(event, fn);\n        };\n        this.emit = (event, data) => {\n            (0, logger_1.getApplicationLogger)().debug('[CONNECTOR EMIT]', this.type, event, data !== null && data !== void 0 ? data : '');\n            this.emitter.emit(event, data);\n        };\n    }\n    get account() {\n        var _a, _b;\n        return (_b = (_a = this.kit) === null || _a === void 0 ? void 0 : _a.connection) === null || _b === void 0 ? void 0 : _b.defaultAccount;\n    }\n    set account(address) {\n        this.kit.connection.defaultAccount = address;\n    }\n    supportsFeeCurrency() {\n        return false;\n    }\n    disconnect() {\n        this.emit(ConnectorEvents.DISCONNECTED);\n        this.emitter.removeAllListeners();\n    }\n}\nexports.AbstractConnector = AbstractConnector;\n//# sourceMappingURL=common.js.map"],"mappings":"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"},"metadata":{},"sourceType":"script"}