{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import{ChainId}from'@celo/react-celo';import{cUSD}from'@ubeswap/sdk';import{ButtonLight}from'components/Button';import{useOnClickOutside}from'hooks/useOnClickOutside';import useTheme from'hooks/useTheme';import useToggle from'hooks/useToggle';import React,{useCallback,useEffect,useMemo,useRef,useState}from'react';import{Edit}from'react-feather';import AutoSizer from'react-virtualized-auto-sizer';import{Text}from'rebass';import styled from'styled-components';import{useAllTokens,useFoundOnInactiveList,useIsUserAddedToken,useToken}from'../../hooks/Tokens';import{ButtonText,CloseIcon,IconWrapper,TYPE}from'../../theme';import{isAddress}from'../../utils';import Column from'../Column';import Row,{RowBetween,RowFixed}from'../Row';import CommonBases from'./CommonBases';import CurrencyList from'./CurrencyList';import{filterTokens}from'./filtering';import ImportRow from'./ImportRow';import{useTokenComparator}from'./sorting';import{PaddedColumn,SearchInput,Separator}from'./styleds';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ContentWrapper=styled(Column)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  flex: 1 1;\\n  position: relative;\\n\"])));const Footer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  border-radius: 20px;\\n  padding: 20px;\\n  border-top-left-radius: 0;\\n  border-top-right-radius: 0;\\n  background-color: \",\";\\n  border-top: 1px solid \",\";\\n\"])),_ref=>{let{theme}=_ref;return theme.bg1;},_ref2=>{let{theme}=_ref2;return theme.bg2;});export function CurrencySearch(_ref3){let{selectedCurrency,onCurrencySelect,otherSelectedCurrency,showCommonBases,onDismiss,isOpen,showManageView,showImportView,setImportToken,chainId=ChainId.Mainnet}=_ref3;const theme=useTheme();// refs for fixed size lists\nconst fixedList=useRef();const[searchQuery,setSearchQuery]=useState('');const[invertSearchOrder]=useState(false);const allTokens=useAllTokens(chainId);// const inactiveTokens: Token[] | undefined = useFoundOnInactiveList(searchQuery)\n// if they input an address, use it\nconst searchToken=useToken(searchQuery);const searchTokenIsAdded=useIsUserAddedToken(searchToken);const showETH=useMemo(()=>{const s=searchQuery.toLowerCase().trim();return s===''||s==='e'||s==='et'||s==='eth';},[searchQuery]);const tokenComparator=useTokenComparator(invertSearchOrder);const filteredTokens=useMemo(()=>{return filterTokens(Object.values(allTokens),searchQuery);},[allTokens,searchQuery]);const filteredSortedTokens=useMemo(()=>{const sorted=filteredTokens.sort(tokenComparator);const symbolMatch=searchQuery.toLowerCase().split(/\\s+/).filter(s=>s.length>0);if(symbolMatch.length>1){return sorted;}return[// sort any exact symbol matches first\n...sorted.filter(token=>{var _token$symbol;return((_token$symbol=token.symbol)===null||_token$symbol===void 0?void 0:_token$symbol.toLowerCase())===symbolMatch[0];}),// sort by tokens whos symbols start with search substrng\n...sorted.filter(token=>{var _token$symbol2,_token$symbol3;return((_token$symbol2=token.symbol)===null||_token$symbol2===void 0?void 0:_token$symbol2.toLowerCase().startsWith(searchQuery.toLowerCase().trim()))&&((_token$symbol3=token.symbol)===null||_token$symbol3===void 0?void 0:_token$symbol3.toLowerCase())!==symbolMatch[0];}),// rest that dont match upove\n...sorted.filter(token=>{var _token$symbol4,_token$symbol5;return!((_token$symbol4=token.symbol)!==null&&_token$symbol4!==void 0&&_token$symbol4.toLowerCase().startsWith(searchQuery.toLowerCase().trim()))&&((_token$symbol5=token.symbol)===null||_token$symbol5===void 0?void 0:_token$symbol5.toLowerCase())!==symbolMatch[0];})];},[filteredTokens,searchQuery,tokenComparator]);const handleCurrencySelect=useCallback(currency=>{onCurrencySelect(currency);onDismiss();},[onDismiss,onCurrencySelect]);// clear the input on open\nuseEffect(()=>{if(isOpen)setSearchQuery('');},[isOpen]);// manage focus on modal show\nconst inputRef=useRef();const handleInput=useCallback(event=>{var _fixedList$current;const input=event.target.value;const checksummedInput=isAddress(input);setSearchQuery(checksummedInput||input);(_fixedList$current=fixedList.current)===null||_fixedList$current===void 0?void 0:_fixedList$current.scrollTo(0);},[]);const handleEnter=useCallback(e=>{if(e.key==='Enter'){const s=searchQuery.toLowerCase().trim();if(s==='cusd'){handleCurrencySelect(cUSD[chainId]);}else if(filteredSortedTokens.length>0){var _filteredSortedTokens;if(((_filteredSortedTokens=filteredSortedTokens[0].symbol)===null||_filteredSortedTokens===void 0?void 0:_filteredSortedTokens.toLowerCase())===searchQuery.trim().toLowerCase()||filteredSortedTokens.length===1){handleCurrencySelect(filteredSortedTokens[0]);}}}},[filteredSortedTokens,handleCurrencySelect,searchQuery,chainId]);// menu ui\nconst[open,toggle]=useToggle(false);const node=useRef();useOnClickOutside(node,open?toggle:undefined);// if no results on main list, show option to expand into inactive\nconst[showExpanded,setShowExpanded]=useState(false);const inactiveTokens=useFoundOnInactiveList(searchQuery);// reset expanded results on query reset\nuseEffect(()=>{if(searchQuery===''){setShowExpanded(false);}},[setShowExpanded,searchQuery]);return/*#__PURE__*/_jsxs(ContentWrapper,{children:[/*#__PURE__*/_jsxs(PaddedColumn,{gap:\"16px\",children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:16,children:'Select a token'}),/*#__PURE__*/_jsx(CloseIcon,{onClick:onDismiss})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(SearchInput,{type:\"text\",id:\"token-search-input\",placeholder:'Search name or paste address',autoComplete:\"off\",value:searchQuery,ref:inputRef,onChange:handleInput,onKeyDown:handleEnter})}),showCommonBases&&/*#__PURE__*/_jsx(CommonBases,{chainId:chainId,onSelect:handleCurrencySelect,selectedCurrency:selectedCurrency})]}),/*#__PURE__*/_jsx(Separator,{}),searchToken&&!searchTokenIsAdded?/*#__PURE__*/_jsx(Column,{style:{padding:'20px 0',height:'100%'},children:/*#__PURE__*/_jsx(ImportRow,{token:searchToken,showImportView:showImportView,setImportToken:setImportToken})}):(filteredSortedTokens===null||filteredSortedTokens===void 0?void 0:filteredSortedTokens.length)>0||showExpanded&&inactiveTokens&&inactiveTokens.length>0?/*#__PURE__*/_jsx(\"div\",{style:{flex:'1'},children:/*#__PURE__*/_jsx(AutoSizer,{disableWidth:true,children:_ref4=>{let{height}=_ref4;return/*#__PURE__*/_jsx(CurrencyList,{height:height,showETH:showETH,currencies:showExpanded&&inactiveTokens?filteredSortedTokens.concat(inactiveTokens):filteredSortedTokens,onCurrencySelect:handleCurrencySelect,otherCurrency:otherSelectedCurrency,selectedCurrency:selectedCurrency,fixedListRef:fixedList,showImportView:showImportView,setImportToken:setImportToken});}})}):/*#__PURE__*/_jsxs(Column,{style:{padding:'20px',height:'100%'},children:[/*#__PURE__*/_jsxs(TYPE.main,{color:theme.text3,textAlign:\"center\",mb:\"20px\",children:['No results found in active lists',\".\"]}),inactiveTokens&&inactiveTokens.length>0&&!(searchToken&&!searchTokenIsAdded)&&searchQuery.length>1&&(filteredSortedTokens===null||filteredSortedTokens===void 0?void 0:filteredSortedTokens.length)===0&&/*#__PURE__*/ // expand button in line with no results\n_jsx(Row,{align:\"center\",width:\"100%\",justify:\"center\",children:/*#__PURE__*/_jsx(ButtonLight,{width:\"fit-content\",borderRadius:\"12px\",padding:\"8px 12px\",onClick:()=>setShowExpanded(!showExpanded),children:!showExpanded?'Show'.concat(\" \",inactiveTokens.length,\" \",'more inactive',\" \").concat(inactiveTokens.length===1?'Token':'Tokens'):'Hide expanded search'})})]}),inactiveTokens&&inactiveTokens.length>0&&!(searchToken&&!searchTokenIsAdded)&&(searchQuery.length>1||showExpanded)&&((filteredSortedTokens===null||filteredSortedTokens===void 0?void 0:filteredSortedTokens.length)!==0||showExpanded)&&/*#__PURE__*/ // button fixed to bottom\n_jsx(Row,{align:\"center\",width:\"100%\",justify:\"center\",style:{position:'absolute',bottom:'80px',left:0},children:/*#__PURE__*/_jsx(ButtonLight,{width:\"fit-content\",borderRadius:\"12px\",padding:\"8px 12px\",onClick:()=>setShowExpanded(!showExpanded),children:!showExpanded?'Show'.concat(\" \",inactiveTokens.length,\" \",'more inactive',\" \").concat(inactiveTokens.length===1?'Token':'Tokens'):'Hide expanded search'})}),/*#__PURE__*/_jsx(Footer,{children:/*#__PURE__*/_jsx(Row,{justify:\"center\",children:/*#__PURE__*/_jsx(ButtonText,{onClick:showManageView,color:theme.blue1,className:\"list-token-manage-button\",children:/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(IconWrapper,{size:\"16px\",marginRight:\"6px\",children:/*#__PURE__*/_jsx(Edit,{})}),/*#__PURE__*/_jsx(TYPE.main,{color:theme.blue1,children:'Manage'})]})})})})]});}","map":{"version":3,"names":["ChainId","cUSD","ButtonLight","useOnClickOutside","useTheme","useToggle","React","useCallback","useEffect","useMemo","useRef","useState","Edit","AutoSizer","Text","styled","useAllTokens","useFoundOnInactiveList","useIsUserAddedToken","useToken","ButtonText","CloseIcon","IconWrapper","TYPE","isAddress","Column","Row","RowBetween","RowFixed","CommonBases","CurrencyList","filterTokens","ImportRow","useTokenComparator","PaddedColumn","SearchInput","Separator","jsx","_jsx","jsxs","_jsxs","ContentWrapper","_templateObject","_taggedTemplateLiteral","Footer","div","_templateObject2","_ref","theme","bg1","_ref2","bg2","CurrencySearch","_ref3","selectedCurrency","onCurrencySelect","otherSelectedCurrency","showCommonBases","onDismiss","isOpen","showManageView","showImportView","setImportToken","chainId","Mainnet","fixedList","searchQuery","setSearchQuery","invertSearchOrder","allTokens","searchToken","searchTokenIsAdded","showETH","s","toLowerCase","trim","tokenComparator","filteredTokens","Object","values","filteredSortedTokens","sorted","sort","symbolMatch","split","filter","length","token","_token$symbol","symbol","_token$symbol2","_token$symbol3","startsWith","_token$symbol4","_token$symbol5","handleCurrencySelect","currency","inputRef","handleInput","event","_fixedList$current","input","target","value","checksummedInput","current","scrollTo","handleEnter","e","key","_filteredSortedTokens","open","toggle","node","undefined","showExpanded","setShowExpanded","inactiveTokens","children","gap","fontWeight","fontSize","onClick","type","id","placeholder","autoComplete","ref","onChange","onKeyDown","onSelect","style","padding","height","flex","disableWidth","_ref4","currencies","concat","otherCurrency","fixedListRef","main","color","text3","textAlign","mb","align","width","justify","borderRadius","position","bottom","left","blue1","className","size","marginRight"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/src/components/SearchModal/CurrencySearch.tsx"],"sourcesContent":["import { ChainId } from '@celo/react-celo'\nimport { ChainId as UbeswapChainId, cUSD, Token } from '@ubeswap/sdk'\nimport { ButtonLight } from 'components/Button'\nimport { useOnClickOutside } from 'hooks/useOnClickOutside'\nimport useTheme from 'hooks/useTheme'\nimport useToggle from 'hooks/useToggle'\nimport React, { KeyboardEvent, RefObject, useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { Edit } from 'react-feather'\nimport AutoSizer from 'react-virtualized-auto-sizer'\nimport { FixedSizeList } from 'react-window'\nimport { Text } from 'rebass'\nimport styled from 'styled-components'\n\nimport { useAllTokens, useFoundOnInactiveList, useIsUserAddedToken, useToken } from '../../hooks/Tokens'\nimport { ButtonText, CloseIcon, IconWrapper, TYPE } from '../../theme'\nimport { isAddress } from '../../utils'\nimport Column from '../Column'\nimport Row, { RowBetween, RowFixed } from '../Row'\nimport CommonBases from './CommonBases'\nimport CurrencyList from './CurrencyList'\nimport { filterTokens } from './filtering'\nimport ImportRow from './ImportRow'\nimport { useTokenComparator } from './sorting'\nimport { PaddedColumn, SearchInput, Separator } from './styleds'\n\nconst ContentWrapper = styled(Column)`\n  width: 100%;\n  flex: 1 1;\n  position: relative;\n`\n\nconst Footer = styled.div`\n  width: 100%;\n  border-radius: 20px;\n  padding: 20px;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  background-color: ${({ theme }) => theme.bg1};\n  border-top: 1px solid ${({ theme }) => theme.bg2};\n`\n\ninterface CurrencySearchProps {\n  isOpen: boolean\n  onDismiss: () => void\n  selectedCurrency?: Token | null\n  onCurrencySelect: (currency: Token) => void\n  otherSelectedCurrency?: Token | null\n  showCommonBases?: boolean\n  showManageView: () => void\n  showImportView: () => void\n  setImportToken: (token: Token) => void\n  chainId?: ChainId\n}\n\nexport function CurrencySearch({\n  selectedCurrency,\n  onCurrencySelect,\n  otherSelectedCurrency,\n  showCommonBases,\n  onDismiss,\n  isOpen,\n  showManageView,\n  showImportView,\n  setImportToken,\n  chainId = ChainId.Mainnet,\n}: CurrencySearchProps) {\n  const theme = useTheme()\n\n  // refs for fixed size lists\n  const fixedList = useRef<FixedSizeList>()\n\n  const [searchQuery, setSearchQuery] = useState<string>('')\n  const [invertSearchOrder] = useState<boolean>(false)\n\n  const allTokens = useAllTokens(chainId)\n  // const inactiveTokens: Token[] | undefined = useFoundOnInactiveList(searchQuery)\n\n  // if they input an address, use it\n  const searchToken = useToken(searchQuery)\n  const searchTokenIsAdded = useIsUserAddedToken(searchToken)\n\n  const showETH: boolean = useMemo(() => {\n    const s = searchQuery.toLowerCase().trim()\n    return s === '' || s === 'e' || s === 'et' || s === 'eth'\n  }, [searchQuery])\n\n  const tokenComparator = useTokenComparator(invertSearchOrder)\n\n  const filteredTokens: Token[] = useMemo(() => {\n    return filterTokens(Object.values(allTokens), searchQuery)\n  }, [allTokens, searchQuery])\n\n  const filteredSortedTokens: Token[] = useMemo(() => {\n    const sorted = filteredTokens.sort(tokenComparator)\n    const symbolMatch = searchQuery\n      .toLowerCase()\n      .split(/\\s+/)\n      .filter((s) => s.length > 0)\n\n    if (symbolMatch.length > 1) {\n      return sorted\n    }\n\n    return [\n      // sort any exact symbol matches first\n      ...sorted.filter((token) => token.symbol?.toLowerCase() === symbolMatch[0]),\n\n      // sort by tokens whos symbols start with search substrng\n      ...sorted.filter(\n        (token) =>\n          token.symbol?.toLowerCase().startsWith(searchQuery.toLowerCase().trim()) &&\n          token.symbol?.toLowerCase() !== symbolMatch[0]\n      ),\n\n      // rest that dont match upove\n      ...sorted.filter(\n        (token) =>\n          !token.symbol?.toLowerCase().startsWith(searchQuery.toLowerCase().trim()) &&\n          token.symbol?.toLowerCase() !== symbolMatch[0]\n      ),\n    ]\n  }, [filteredTokens, searchQuery, tokenComparator])\n\n  const handleCurrencySelect = useCallback(\n    (currency: Token) => {\n      onCurrencySelect(currency)\n      onDismiss()\n    },\n    [onDismiss, onCurrencySelect]\n  )\n\n  // clear the input on open\n  useEffect(() => {\n    if (isOpen) setSearchQuery('')\n  }, [isOpen])\n\n  // manage focus on modal show\n  const inputRef = useRef<HTMLInputElement>()\n  const handleInput = useCallback((event) => {\n    const input = event.target.value\n    const checksummedInput = isAddress(input)\n    setSearchQuery(checksummedInput || input)\n    fixedList.current?.scrollTo(0)\n  }, [])\n\n  const handleEnter = useCallback(\n    (e: KeyboardEvent<HTMLInputElement>) => {\n      if (e.key === 'Enter') {\n        const s = searchQuery.toLowerCase().trim()\n        if (s === 'cusd') {\n          handleCurrencySelect(cUSD[chainId as unknown as UbeswapChainId])\n        } else if (filteredSortedTokens.length > 0) {\n          if (\n            filteredSortedTokens[0].symbol?.toLowerCase() === searchQuery.trim().toLowerCase() ||\n            filteredSortedTokens.length === 1\n          ) {\n            handleCurrencySelect(filteredSortedTokens[0])\n          }\n        }\n      }\n    },\n    [filteredSortedTokens, handleCurrencySelect, searchQuery, chainId]\n  )\n\n  // menu ui\n  const [open, toggle] = useToggle(false)\n  const node = useRef<HTMLDivElement>()\n  useOnClickOutside(node, open ? toggle : undefined)\n\n  // if no results on main list, show option to expand into inactive\n  const [showExpanded, setShowExpanded] = useState(false)\n  const inactiveTokens = useFoundOnInactiveList(searchQuery)\n\n  // reset expanded results on query reset\n  useEffect(() => {\n    if (searchQuery === '') {\n      setShowExpanded(false)\n    }\n  }, [setShowExpanded, searchQuery])\n\n  return (\n    <ContentWrapper>\n      <PaddedColumn gap=\"16px\">\n        <RowBetween>\n          <Text fontWeight={500} fontSize={16}>\n            {'Select a token'}\n          </Text>\n          <CloseIcon onClick={onDismiss} />\n        </RowBetween>\n        <Row>\n          <SearchInput\n            type=\"text\"\n            id=\"token-search-input\"\n            placeholder={'Search name or paste address'}\n            autoComplete=\"off\"\n            value={searchQuery}\n            ref={inputRef as RefObject<HTMLInputElement>}\n            onChange={handleInput}\n            onKeyDown={handleEnter}\n          />\n        </Row>\n        {showCommonBases && (\n          <CommonBases\n            chainId={chainId as unknown as UbeswapChainId}\n            onSelect={handleCurrencySelect}\n            selectedCurrency={selectedCurrency}\n          />\n        )}\n      </PaddedColumn>\n      <Separator />\n      {searchToken && !searchTokenIsAdded ? (\n        <Column style={{ padding: '20px 0', height: '100%' }}>\n          <ImportRow token={searchToken} showImportView={showImportView} setImportToken={setImportToken} />\n        </Column>\n      ) : filteredSortedTokens?.length > 0 || (showExpanded && inactiveTokens && inactiveTokens.length > 0) ? (\n        <div style={{ flex: '1' }}>\n          <AutoSizer disableWidth>\n            {({ height }) => (\n              <CurrencyList\n                height={height}\n                showETH={showETH}\n                currencies={\n                  showExpanded && inactiveTokens ? filteredSortedTokens.concat(inactiveTokens) : filteredSortedTokens\n                }\n                onCurrencySelect={handleCurrencySelect}\n                otherCurrency={otherSelectedCurrency}\n                selectedCurrency={selectedCurrency}\n                fixedListRef={fixedList}\n                showImportView={showImportView}\n                setImportToken={setImportToken}\n              />\n            )}\n          </AutoSizer>\n        </div>\n      ) : (\n        <Column style={{ padding: '20px', height: '100%' }}>\n          <TYPE.main color={theme.text3} textAlign=\"center\" mb=\"20px\">\n            {'No results found in active lists'}.\n          </TYPE.main>\n          {inactiveTokens &&\n            inactiveTokens.length > 0 &&\n            !(searchToken && !searchTokenIsAdded) &&\n            searchQuery.length > 1 &&\n            filteredSortedTokens?.length === 0 && (\n              // expand button in line with no results\n              <Row align=\"center\" width=\"100%\" justify=\"center\">\n                <ButtonLight\n                  width=\"fit-content\"\n                  borderRadius=\"12px\"\n                  padding=\"8px 12px\"\n                  onClick={() => setShowExpanded(!showExpanded)}\n                >\n                  {!showExpanded\n                    ? `${'Show'} ${inactiveTokens.length} ${'more inactive'} ${\n                        inactiveTokens.length === 1 ? 'Token' : 'Tokens'\n                      }`\n                    : `${'Hide expanded search'}`}\n                </ButtonLight>\n              </Row>\n            )}\n        </Column>\n      )}\n\n      {inactiveTokens &&\n        inactiveTokens.length > 0 &&\n        !(searchToken && !searchTokenIsAdded) &&\n        (searchQuery.length > 1 || showExpanded) &&\n        (filteredSortedTokens?.length !== 0 || showExpanded) && (\n          // button fixed to bottom\n          <Row align=\"center\" width=\"100%\" justify=\"center\" style={{ position: 'absolute', bottom: '80px', left: 0 }}>\n            <ButtonLight\n              width=\"fit-content\"\n              borderRadius=\"12px\"\n              padding=\"8px 12px\"\n              onClick={() => setShowExpanded(!showExpanded)}\n            >\n              {!showExpanded\n                ? `${'Show'} ${inactiveTokens.length} ${'more inactive'} ${\n                    inactiveTokens.length === 1 ? 'Token' : 'Tokens'\n                  }`\n                : `${'Hide expanded search'}`}\n            </ButtonLight>\n          </Row>\n        )}\n      <Footer>\n        <Row justify=\"center\">\n          <ButtonText onClick={showManageView} color={theme.blue1} className=\"list-token-manage-button\">\n            <RowFixed>\n              <IconWrapper size=\"16px\" marginRight=\"6px\">\n                <Edit />\n              </IconWrapper>\n              <TYPE.main color={theme.blue1}>{'Manage'}</TYPE.main>\n            </RowFixed>\n          </ButtonText>\n        </Row>\n      </Footer>\n    </ContentWrapper>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}