{"ast":null,"code":"import _objectSpread from\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import Portal from'@reach/portal';import{transparentize}from'polished';import React,{useCallback,useState}from'react';import{usePopper}from'react-popper';import styled from'styled-components';import useInterval from'../../hooks/useInterval';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const PopoverContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  z-index: 9999;\\n\\n  visibility: \",\";\\n  opacity: \",\";\\n  transition: visibility 150ms linear, opacity 150ms linear;\\n\\n  background: \",\";\\n  border: 1px solid \",\";\\n  box-shadow: 0 4px 8px 0 \",\";\\n  color: \",\";\\n  border-radius: 8px;\\n\"])),props=>props.show?'visible':'hidden',props=>props.show?1:0,_ref=>{let{theme}=_ref;return theme.bg2;},_ref2=>{let{theme}=_ref2;return theme.bg3;},_ref3=>{let{theme}=_ref3;return transparentize(0.9,theme.shadow1);},_ref4=>{let{theme}=_ref4;return theme.text2;});const ReferenceElement=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: inline-block;\\n\"])));const Arrow=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 8px;\\n  height: 8px;\\n  z-index: 9998;\\n\\n  ::before {\\n    position: absolute;\\n    width: 8px;\\n    height: 8px;\\n    z-index: 9998;\\n\\n    content: '';\\n    border: 1px solid \",\";\\n    transform: rotate(45deg);\\n    background: \",\";\\n  }\\n\\n  &.arrow-top {\\n    bottom: -5px;\\n    ::before {\\n      border-top: none;\\n      border-left: none;\\n    }\\n  }\\n\\n  &.arrow-bottom {\\n    top: -5px;\\n    ::before {\\n      border-bottom: none;\\n      border-right: none;\\n    }\\n  }\\n\\n  &.arrow-left {\\n    right: -5px;\\n\\n    ::before {\\n      border-bottom: none;\\n      border-left: none;\\n    }\\n  }\\n\\n  &.arrow-right {\\n    left: -5px;\\n    ::before {\\n      border-right: none;\\n      border-top: none;\\n    }\\n  }\\n\"])),_ref5=>{let{theme}=_ref5;return theme.bg3;},_ref6=>{let{theme}=_ref6;return theme.bg2;});export default function Popover(_ref7){var _attributes$popper$da,_attributes$popper;let{content,show,children,placement='auto'}=_ref7;const[referenceElement,setReferenceElement]=useState(null);const[popperElement,setPopperElement]=useState(null);const[arrowElement,setArrowElement]=useState(null);const{styles,update,attributes}=usePopper(referenceElement,popperElement,{placement,strategy:'fixed',modifiers:[{name:'offset',options:{offset:[8,8]}},{name:'arrow',options:{element:arrowElement}}]});const updateCallback=useCallback(()=>{update&&update();},[update]);useInterval(updateCallback,show?100:null);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ReferenceElement,{ref:setReferenceElement,children:children}),/*#__PURE__*/_jsx(Portal,{children:/*#__PURE__*/_jsxs(PopoverContainer,_objectSpread(_objectSpread({show:show,ref:setPopperElement,style:styles.popper},attributes.popper),{},{children:[content,/*#__PURE__*/_jsx(Arrow,_objectSpread({className:\"arrow-\".concat((_attributes$popper$da=(_attributes$popper=attributes.popper)===null||_attributes$popper===void 0?void 0:_attributes$popper['data-popper-placement'])!==null&&_attributes$popper$da!==void 0?_attributes$popper$da:''),ref:setArrowElement,style:styles.arrow},attributes.arrow))]}))})]});}","map":{"version":3,"names":["Portal","transparentize","React","useCallback","useState","usePopper","styled","useInterval","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PopoverContainer","div","_templateObject","_taggedTemplateLiteral","props","show","_ref","theme","bg2","_ref2","bg3","_ref3","shadow1","_ref4","text2","ReferenceElement","_templateObject2","Arrow","_templateObject3","_ref5","_ref6","Popover","_ref7","_attributes$popper$da","_attributes$popper","content","children","placement","referenceElement","setReferenceElement","popperElement","setPopperElement","arrowElement","setArrowElement","styles","update","attributes","strategy","modifiers","name","options","offset","element","updateCallback","ref","_objectSpread","style","popper","className","concat","arrow"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/src/components/Popover/index.tsx"],"sourcesContent":["import { Placement } from '@popperjs/core'\nimport Portal from '@reach/portal'\nimport { transparentize } from 'polished'\nimport React, { useCallback, useState } from 'react'\nimport { usePopper } from 'react-popper'\nimport styled from 'styled-components'\n\nimport useInterval from '../../hooks/useInterval'\n\nconst PopoverContainer = styled.div<{ show: boolean }>`\n  z-index: 9999;\n\n  visibility: ${(props) => (props.show ? 'visible' : 'hidden')};\n  opacity: ${(props) => (props.show ? 1 : 0)};\n  transition: visibility 150ms linear, opacity 150ms linear;\n\n  background: ${({ theme }) => theme.bg2};\n  border: 1px solid ${({ theme }) => theme.bg3};\n  box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.9, theme.shadow1)};\n  color: ${({ theme }) => theme.text2};\n  border-radius: 8px;\n`\n\nconst ReferenceElement = styled.div`\n  display: inline-block;\n`\n\nconst Arrow = styled.div`\n  width: 8px;\n  height: 8px;\n  z-index: 9998;\n\n  ::before {\n    position: absolute;\n    width: 8px;\n    height: 8px;\n    z-index: 9998;\n\n    content: '';\n    border: 1px solid ${({ theme }) => theme.bg3};\n    transform: rotate(45deg);\n    background: ${({ theme }) => theme.bg2};\n  }\n\n  &.arrow-top {\n    bottom: -5px;\n    ::before {\n      border-top: none;\n      border-left: none;\n    }\n  }\n\n  &.arrow-bottom {\n    top: -5px;\n    ::before {\n      border-bottom: none;\n      border-right: none;\n    }\n  }\n\n  &.arrow-left {\n    right: -5px;\n\n    ::before {\n      border-bottom: none;\n      border-left: none;\n    }\n  }\n\n  &.arrow-right {\n    left: -5px;\n    ::before {\n      border-right: none;\n      border-top: none;\n    }\n  }\n`\n\nexport interface PopoverProps {\n  content: React.ReactNode\n  show: boolean\n  children: React.ReactNode\n  placement?: Placement\n}\n\nexport default function Popover({ content, show, children, placement = 'auto' }: PopoverProps) {\n  const [referenceElement, setReferenceElement] = useState<HTMLDivElement | null>(null)\n  const [popperElement, setPopperElement] = useState<HTMLDivElement | null>(null)\n  const [arrowElement, setArrowElement] = useState<HTMLDivElement | null>(null)\n  const { styles, update, attributes } = usePopper(referenceElement, popperElement, {\n    placement,\n    strategy: 'fixed',\n    modifiers: [\n      { name: 'offset', options: { offset: [8, 8] } },\n      { name: 'arrow', options: { element: arrowElement } },\n    ],\n  })\n  const updateCallback = useCallback(() => {\n    update && update()\n  }, [update])\n  useInterval(updateCallback, show ? 100 : null)\n\n  return (\n    <>\n      <ReferenceElement ref={setReferenceElement as any}>{children}</ReferenceElement>\n      <Portal>\n        <PopoverContainer show={show} ref={setPopperElement as any} style={styles.popper} {...attributes.popper}>\n          {content}\n          <Arrow\n            className={`arrow-${attributes.popper?.['data-popper-placement'] ?? ''}`}\n            ref={setArrowElement as any}\n            style={styles.arrow}\n            {...attributes.arrow}\n          />\n        </PopoverContainer>\n      </Portal>\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}