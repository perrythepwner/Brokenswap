{"ast":null,"code":"/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file contract.js\n *\n * To initialize a contract use:\n *\n *  var Contract = require('web3-eth-contract');\n *  Contract.setProvider('ws://localhost:8546');\n *  var contract = new Contract(abi, address, ...);\n *\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\n\nvar _objectSpread = require(\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\nvar core = require('web3-core');\nvar Method = require('web3-core-method');\nvar utils = require('web3-utils');\nvar Subscription = require('web3-core-subscriptions').subscription;\nvar formatters = require('web3-core-helpers').formatters;\nvar errors = require('web3-core-helpers').errors;\nvar promiEvent = require('web3-core-promievent');\nvar abi = require('web3-eth-abi');\n/**\n * Should be called to create new contract instance\n *\n * @method Contract\n * @constructor\n * @param {Array} jsonInterface\n * @param {String} address\n * @param {Object} options\n */\nvar Contract = function Contract(jsonInterface, address, options) {\n  var _this = this,\n    args = Array.prototype.slice.call(arguments);\n  if (!(this instanceof Contract)) {\n    throw new Error('Please use the \"new\" keyword to instantiate a web3.eth.Contract() object!');\n  }\n  this.setProvider = function () {\n    core.packageInit(_this, arguments);\n    _this.clearSubscriptions = _this._requestManager.clearSubscriptions;\n  };\n  // sets _requestmanager\n  core.packageInit(this, [this.constructor]);\n  this.clearSubscriptions = this._requestManager.clearSubscriptions;\n  if (!jsonInterface || !Array.isArray(jsonInterface)) {\n    throw errors.ContractMissingABIError();\n  }\n  // create the options object\n  this.options = {};\n  var lastArg = args[args.length - 1];\n  if (!!lastArg && typeof lastArg === 'object' && !Array.isArray(lastArg)) {\n    options = lastArg;\n    this.options = _objectSpread(_objectSpread({}, this.options), this._getOrSetDefaultOptions(options));\n    if (!!address && typeof address === 'object') {\n      address = null;\n    }\n  }\n  // set address\n  Object.defineProperty(this.options, 'address', {\n    set: function set(value) {\n      if (value) {\n        _this._address = utils.toChecksumAddress(formatters.inputAddressFormatter(value));\n      }\n    },\n    get: function get() {\n      return _this._address;\n    },\n    enumerable: true\n  });\n  // add method and event signatures, when the jsonInterface gets set\n  Object.defineProperty(this.options, 'jsonInterface', {\n    set: function set(value) {\n      _this.methods = {};\n      _this.events = {};\n      _this._jsonInterface = value.map(function (method) {\n        var func, funcName;\n        // make constant and payable backwards compatible\n        method.constant = method.stateMutability === \"view\" || method.stateMutability === \"pure\" || method.constant;\n        method.payable = method.stateMutability === \"payable\" || method.payable;\n        if (method.name) {\n          funcName = utils._jsonInterfaceMethodToString(method);\n        }\n        // function\n        if (method.type === 'function') {\n          method.signature = abi.encodeFunctionSignature(funcName);\n          func = _this._createTxObject.bind({\n            method: method,\n            parent: _this\n          });\n          // add method only if not one already exists\n          if (!_this.methods[method.name]) {\n            _this.methods[method.name] = func;\n          } else {\n            var cascadeFunc = _this._createTxObject.bind({\n              method: method,\n              parent: _this,\n              nextMethod: _this.methods[method.name]\n            });\n            _this.methods[method.name] = cascadeFunc;\n          }\n          // definitely add the method based on its signature\n          _this.methods[method.signature] = func;\n          // add method by name\n          _this.methods[funcName] = func;\n          // event\n        } else if (method.type === 'event') {\n          method.signature = abi.encodeEventSignature(funcName);\n          var event = _this._on.bind(_this, method.signature);\n          // add method only if not already exists\n          if (!_this.events[method.name] || _this.events[method.name].name === 'bound ') _this.events[method.name] = event;\n          // definitely add the method based on its signature\n          _this.events[method.signature] = event;\n          // add event by name\n          _this.events[funcName] = event;\n        }\n        return method;\n      });\n      // add allEvents\n      _this.events.allEvents = _this._on.bind(_this, 'allevents');\n      return _this._jsonInterface;\n    },\n    get: function get() {\n      return _this._jsonInterface;\n    },\n    enumerable: true\n  });\n  // get default account from the Class\n  var defaultAccount = this.constructor.defaultAccount;\n  var defaultBlock = this.constructor.defaultBlock || 'latest';\n  Object.defineProperty(this, 'handleRevert', {\n    get: function get() {\n      if (_this.options.handleRevert === false || _this.options.handleRevert === true) {\n        return _this.options.handleRevert;\n      }\n      return this.constructor.handleRevert;\n    },\n    set: function set(val) {\n      _this.options.handleRevert = val;\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'defaultCommon', {\n    get: function get() {\n      return _this.options.common || this.constructor.defaultCommon;\n    },\n    set: function set(val) {\n      _this.options.common = val;\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'defaultHardfork', {\n    get: function get() {\n      return _this.options.hardfork || this.constructor.defaultHardfork;\n    },\n    set: function set(val) {\n      _this.options.hardfork = val;\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'defaultChain', {\n    get: function get() {\n      return _this.options.chain || this.constructor.defaultChain;\n    },\n    set: function set(val) {\n      _this.options.chain = val;\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'transactionPollingTimeout', {\n    get: function get() {\n      if (_this.options.transactionPollingTimeout === 0) {\n        return _this.options.transactionPollingTimeout;\n      }\n      return _this.options.transactionPollingTimeout || this.constructor.transactionPollingTimeout;\n    },\n    set: function set(val) {\n      _this.options.transactionPollingTimeout = val;\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'transactionPollingInterval', {\n    get: function get() {\n      if (_this.options.transactionPollingInterval === 0) {\n        return _this.options.transactionPollingInterval;\n      }\n      return _this.options.transactionPollingInterval || this.constructor.transactionPollingInterval;\n    },\n    set: function set(val) {\n      _this.options.transactionPollingInterval = val;\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'transactionConfirmationBlocks', {\n    get: function get() {\n      if (_this.options.transactionConfirmationBlocks === 0) {\n        return _this.options.transactionConfirmationBlocks;\n      }\n      return _this.options.transactionConfirmationBlocks || this.constructor.transactionConfirmationBlocks;\n    },\n    set: function set(val) {\n      _this.options.transactionConfirmationBlocks = val;\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'transactionBlockTimeout', {\n    get: function get() {\n      if (_this.options.transactionBlockTimeout === 0) {\n        return _this.options.transactionBlockTimeout;\n      }\n      return _this.options.transactionBlockTimeout || this.constructor.transactionBlockTimeout;\n    },\n    set: function set(val) {\n      _this.options.transactionBlockTimeout = val;\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'blockHeaderTimeout', {\n    get: function get() {\n      if (_this.options.blockHeaderTimeout === 0) {\n        return _this.options.blockHeaderTimeout;\n      }\n      return _this.options.blockHeaderTimeout || this.constructor.blockHeaderTimeout;\n    },\n    set: function set(val) {\n      _this.options.blockHeaderTimeout = val;\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'defaultAccount', {\n    get: function get() {\n      return defaultAccount;\n    },\n    set: function set(val) {\n      if (val) {\n        defaultAccount = utils.toChecksumAddress(formatters.inputAddressFormatter(val));\n      }\n      return val;\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'defaultBlock', {\n    get: function get() {\n      return defaultBlock;\n    },\n    set: function set(val) {\n      defaultBlock = val;\n      return val;\n    },\n    enumerable: true\n  });\n  // properties\n  this.methods = {};\n  this.events = {};\n  this._address = null;\n  this._jsonInterface = [];\n  // set getter/setter properties\n  this.options.address = address;\n  this.options.jsonInterface = jsonInterface;\n};\n/**\n * Sets the new provider, creates a new requestManager, registers the \"data\" listener on the provider and sets the\n * accounts module for the Contract class.\n *\n * @method setProvider\n *\n * @param {string|provider} provider\n * @param {Accounts} accounts\n *\n * @returns void\n */\nContract.setProvider = function (provider, accounts) {\n  // Contract.currentProvider = provider;\n  core.packageInit(this, [provider]);\n  this._ethAccounts = accounts;\n};\n/**\n * Get the callback and modify the array if necessary\n *\n * @method _getCallback\n * @param {Array} args\n * @return {Function} the callback\n */\nContract.prototype._getCallback = function getCallback(args) {\n  if (args && !!args[args.length - 1] && typeof args[args.length - 1] === 'function') {\n    return args.pop(); // modify the args array!\n  }\n};\n/**\n * Checks that no listener with name \"newListener\" or \"removeListener\" is added.\n *\n * @method _checkListener\n * @param {String} type\n * @param {String} event\n * @return {Object} the contract instance\n */\nContract.prototype._checkListener = function (type, event) {\n  if (event === type) {\n    throw errors.ContractReservedEventError(type);\n  }\n};\n/**\n * Use default values, if options are not available\n *\n * @method _getOrSetDefaultOptions\n * @param {Object} options the options gived by the user\n * @return {Object} the options with gaps filled by defaults\n */\nContract.prototype._getOrSetDefaultOptions = function getOrSetDefaultOptions(options) {\n  var _options = _objectSpread({}, options);\n  var gasPrice = _options.gasPrice ? String(_options.gasPrice) : null;\n  var from = _options.from ? utils.toChecksumAddress(formatters.inputAddressFormatter(_options.from)) : null;\n  _options.data = _options.data || this.options.data;\n  _options.from = from || this.options.from;\n  _options.gasPrice = gasPrice || this.options.gasPrice;\n  _options.gas = _options.gas || _options.gasLimit || this.options.gas;\n  // TODO replace with only gasLimit?\n  delete _options.gasLimit;\n  return _options;\n};\n/**\n * Should be used to encode indexed params and options to one final object\n *\n * @method _encodeEventABI\n * @param {Object} event\n * @param {Object} options\n * @return {Object} everything combined together and encoded\n */\nContract.prototype._encodeEventABI = function (event, options) {\n  options = options || {};\n  var filter = options.filter || {},\n    result = {};\n  ['fromBlock', 'toBlock'].filter(function (f) {\n    return options[f] !== undefined;\n  }).forEach(function (f) {\n    result[f] = formatters.inputBlockNumberFormatter(options[f]);\n  });\n  let topics = [];\n  if (options.topics && Array.isArray(options.topics)) {\n    topics = [...options.topics];\n  } else {\n    topics = [];\n    // add event signature\n    if (event && !event.anonymous && event.name !== 'ALLEVENTS') {\n      topics.push(event.signature || abi.encodeEventSignature(utils.jsonInterfaceMethodToString(event)));\n    }\n    // add event topics (indexed arguments)\n    if (event.name !== 'ALLEVENTS' && event.inputs) {\n      for (const input of event.inputs) {\n        if (!input.indexed) {\n          continue;\n        }\n        const value = filter[input.name];\n        if (!value) {\n          // eslint-disable-next-line no-null/no-null\n          topics.push(null);\n          continue;\n        }\n        if (Array.isArray(value)) {\n          topics.push(value.map(v => abi.encodeParameter(input.type, v)));\n        } else {\n          topics.push(abi.encodeParameter(input.type, value));\n        }\n      }\n    }\n  }\n  if (topics.length) {\n    result.topics = topics;\n  }\n  if (this.options.address) {\n    result.address = this.options.address.toLowerCase();\n  }\n  return result;\n};\n/**\n * Should be used to decode indexed params and options\n *\n * @method _decodeEventABI\n * @param {Object} data\n * @return {Object} result object with decoded indexed && not indexed params\n */\nContract.prototype._decodeEventABI = function (data) {\n  var event = this;\n  data.data = data.data || '';\n  data.topics = data.topics || [];\n  var result = formatters.outputLogFormatter(data);\n  // if allEvents get the right event\n  if (event.name === 'ALLEVENTS') {\n    event = event.jsonInterface.find(function (intf) {\n      return intf.signature === data.topics[0];\n    }) || {\n      anonymous: true\n    };\n  }\n  // create empty inputs if none are present (e.g. anonymous events on allEvents)\n  event.inputs = event.inputs || [];\n  // Handle case where an event signature shadows the current ABI with non-identical\n  // arg indexing. If # of topics doesn't match, event is anon.\n  if (!event.anonymous) {\n    let indexedInputs = 0;\n    event.inputs.forEach(input => input.indexed ? indexedInputs++ : null);\n    if (indexedInputs > 0 && data.topics.length !== indexedInputs + 1) {\n      event = {\n        anonymous: true,\n        inputs: []\n      };\n    }\n  }\n  var argTopics = event.anonymous ? data.topics : data.topics.slice(1);\n  result.returnValues = abi.decodeLog(event.inputs, data.data, argTopics);\n  delete result.returnValues.__length__;\n  // add name\n  result.event = event.name;\n  // add signature\n  result.signature = event.anonymous || !data.topics[0] ? null : data.topics[0];\n  // move the data and topics to \"raw\"\n  result.raw = {\n    data: result.data,\n    topics: result.topics\n  };\n  delete result.data;\n  delete result.topics;\n  return result;\n};\n/**\n * Encodes an ABI for a method, including signature or the method.\n * Or when constructor encodes only the constructor parameters.\n *\n * @method _encodeMethodABI\n * @param {Mixed} args the arguments to encode\n * @param {String} the encoded ABI\n */\nContract.prototype._encodeMethodABI = function _encodeMethodABI() {\n  var methodSignature = this._method.signature,\n    args = this.arguments || [];\n  var signature = false,\n    paramsABI = this._parent.options.jsonInterface.filter(function (json) {\n      return methodSignature === 'constructor' && json.type === methodSignature || (json.signature === methodSignature || json.signature === methodSignature.replace('0x', '') || json.name === methodSignature) && json.type === 'function';\n    }).map(function (json) {\n      var inputLength = Array.isArray(json.inputs) ? json.inputs.length : 0;\n      if (inputLength !== args.length) {\n        throw new Error('The number of arguments is not matching the methods required number. You need to pass ' + inputLength + ' arguments.');\n      }\n      if (json.type === 'function') {\n        signature = json.signature;\n      }\n      return Array.isArray(json.inputs) ? json.inputs : [];\n    }).map(function (inputs) {\n      return abi.encodeParameters(inputs, args).replace('0x', '');\n    })[0] || '';\n  // return constructor\n  if (methodSignature === 'constructor') {\n    if (!this._deployData) throw new Error('The contract has no contract data option set. This is necessary to append the constructor parameters.');\n    if (!this._deployData.startsWith('0x')) {\n      this._deployData = '0x' + this._deployData;\n    }\n    return this._deployData + paramsABI;\n  }\n  // return method\n  var returnValue = signature ? signature + paramsABI : paramsABI;\n  if (!returnValue) {\n    throw new Error('Couldn\\'t find a matching contract method named \"' + this._method.name + '\".');\n  }\n  return returnValue;\n};\n/**\n * Decode method return values\n *\n * @method _decodeMethodReturn\n * @param {Array} outputs\n * @param {String} returnValues\n * @return {Object} decoded output return values\n */\nContract.prototype._decodeMethodReturn = function (outputs, returnValues) {\n  if (!returnValues) {\n    return null;\n  }\n  returnValues = returnValues.length >= 2 ? returnValues.slice(2) : returnValues;\n  var result = abi.decodeParameters(outputs, returnValues);\n  if (result.__length__ === 1) {\n    return result[0];\n  }\n  delete result.__length__;\n  return result;\n};\n/**\n * Deploys a contract and fire events based on its state: transactionHash, receipt\n *\n * All event listeners will be removed, once the last possible event is fired (\"error\", or \"receipt\")\n *\n * @method deploy\n * @param {Object} options\n * @param {Function} callback\n * @return {Object} EventEmitter possible events are \"error\", \"transactionHash\" and \"receipt\"\n */\nContract.prototype.deploy = function (options, callback) {\n  options = options || {};\n  options.arguments = options.arguments || [];\n  options = this._getOrSetDefaultOptions(options);\n  // throw error, if no \"data\" is specified\n  if (!options.data) {\n    if (typeof callback === 'function') {\n      return callback(errors.ContractMissingDeployDataError());\n    }\n    throw errors.ContractMissingDeployDataError();\n  }\n  var constructor = this.options.jsonInterface.find(method => {\n    return method.type === 'constructor';\n  }) || {};\n  constructor.signature = 'constructor';\n  return this._createTxObject.apply({\n    method: constructor,\n    parent: this,\n    deployData: options.data,\n    _ethAccounts: this.constructor._ethAccounts\n  }, options.arguments);\n};\n/**\n * Gets the event signature and outputFormatters\n *\n * @method _generateEventOptions\n * @param {Object} event\n * @param {Object} options\n * @param {Function} callback\n * @return {Object} the event options object\n */\nContract.prototype._generateEventOptions = function () {\n  var args = Array.prototype.slice.call(arguments);\n  // get the callback\n  var callback = this._getCallback(args);\n  // get the options\n  var options = (!!args[args.length - 1] && typeof args[args.length - 1]) === 'object' ? args.pop() : {};\n  var eventName = typeof args[0] === 'string' ? args[0] : 'allevents';\n  var event = eventName.toLowerCase() === 'allevents' ? {\n    name: 'ALLEVENTS',\n    jsonInterface: this.options.jsonInterface\n  } : this.options.jsonInterface.find(function (json) {\n    return json.type === 'event' && (json.name === eventName || json.signature === '0x' + eventName.replace('0x', ''));\n  });\n  if (!event) {\n    throw errors.ContractEventDoesNotExistError(eventName);\n  }\n  if (!utils.isAddress(this.options.address)) {\n    throw errors.ContractNoAddressDefinedError();\n  }\n  return {\n    params: this._encodeEventABI(event, options),\n    event: event,\n    filter: options.filter || {},\n    callback: callback\n  };\n};\n/**\n * Adds event listeners and creates a subscription, and remove it once its fired.\n *\n * @method clone\n * @return {Object} the event subscription\n */\nContract.prototype.clone = function () {\n  return new this.constructor(this.options.jsonInterface, this.options.address, this.options);\n};\n/**\n * Adds event listeners and creates a subscription, and remove it once its fired.\n *\n * @method once\n * @param {String} event\n * @param {Object} options\n * @param {Function} callback\n * @return {Object} the event subscription\n */\nContract.prototype.once = function (event, options, callback) {\n  var args = Array.prototype.slice.call(arguments);\n  // get the callback\n  callback = this._getCallback(args);\n  if (!callback) {\n    throw errors.ContractOnceRequiresCallbackError();\n  }\n  // don't allow fromBlock\n  if (options) delete options.fromBlock;\n  // don't return as once shouldn't provide \"on\"\n  this._on(event, options, function (err, res, sub) {\n    sub.unsubscribe();\n    if (typeof callback === 'function') {\n      callback(err, res, sub);\n    }\n  });\n  return undefined;\n};\n/**\n * Adds event listeners and creates a subscription.\n *\n * @method _on\n *\n * @param {String} event\n * @param {Object} options\n * @param {Function} callback\n *\n * @return {Object} the event subscription\n */\nContract.prototype._on = function () {\n  var subOptions = this._generateEventOptions.apply(this, arguments);\n  if (subOptions.params && subOptions.params.toBlock) {\n    delete subOptions.params.toBlock;\n    console.warn('Invalid option: toBlock. Use getPastEvents for specific range.');\n  }\n  // prevent the event \"newListener\" and \"removeListener\" from being overwritten\n  this._checkListener('newListener', subOptions.event.name);\n  this._checkListener('removeListener', subOptions.event.name);\n  // TODO check if listener already exists? and reuse subscription if options are the same.\n  // create new subscription\n  var subscription = new Subscription({\n    subscription: {\n      params: 1,\n      inputFormatter: [formatters.inputLogFormatter],\n      outputFormatter: this._decodeEventABI.bind(subOptions.event),\n      // DUBLICATE, also in web3-eth\n      subscriptionHandler: function subscriptionHandler(output) {\n        if (output.removed) {\n          this.emit('changed', output);\n        } else {\n          this.emit('data', output);\n        }\n        if (typeof this.callback === 'function') {\n          this.callback(null, output, this);\n        }\n      }\n    },\n    type: 'eth',\n    requestManager: this._requestManager\n  });\n  subscription.subscribe('logs', subOptions.params, subOptions.callback || function () {});\n  return subscription;\n};\nconst filterAllEventsResults = (subOptions, data) => {\n  if (subOptions.event && subOptions.event.name === 'ALLEVENTS' && Array.isArray(data)) {\n    const filter = subOptions.filter || {};\n    const filterKeys = Object.keys(filter);\n    return filterKeys.length > 0 ? data.filter(log => typeof log === 'string' ? true : filterKeys.every(k => Array.isArray(filter[k]) ? filter[k].some(v => String(log.returnValues[k]).toUpperCase() === String(v).toUpperCase()) : String(log.returnValues[k]).toUpperCase() === String(filter[k]).toUpperCase())) : data;\n  }\n  return data;\n};\n/**\n * Get past events from contracts\n *\n * @method getPastEvents\n * @param {String} event\n * @param {Object} options\n * @param {Function} callback\n * @return {Object} the promievent\n */\nContract.prototype.getPastEvents = function () {\n  var subOptions = this._generateEventOptions.apply(this, arguments);\n  var getPastLogs = new Method({\n    name: 'getPastLogs',\n    call: 'eth_getLogs',\n    params: 1,\n    inputFormatter: [formatters.inputLogFormatter],\n    outputFormatter: this._decodeEventABI.bind(subOptions.event)\n  });\n  getPastLogs.setRequestManager(this._requestManager);\n  var call = getPastLogs.buildCall();\n  getPastLogs = null;\n  return call(subOptions.params, (err, data) => {\n    if (typeof subOptions.callback === 'function') {\n      subOptions.callback(err, filterAllEventsResults(subOptions, data));\n    }\n  }).then(filterAllEventsResults.bind(this, subOptions));\n};\n/**\n * returns the an object with call, send, estimate functions\n *\n * @method _createTxObject\n * @returns {Object} an object with functions to call the methods\n */\nContract.prototype._createTxObject = function _createTxObject() {\n  var args = Array.prototype.slice.call(arguments);\n  var txObject = {};\n  if (this.method.type === 'function') {\n    txObject.call = this.parent._executeMethod.bind(txObject, 'call');\n    txObject.call.request = this.parent._executeMethod.bind(txObject, 'call', true); // to make batch requests\n  }\n\n  txObject.send = this.parent._executeMethod.bind(txObject, 'send');\n  txObject.send.request = this.parent._executeMethod.bind(txObject, 'send', true); // to make batch requests\n  txObject.encodeABI = this.parent._encodeMethodABI.bind(txObject);\n  txObject.estimateGas = this.parent._executeMethod.bind(txObject, 'estimate');\n  txObject.createAccessList = this.parent._executeMethod.bind(txObject, 'createAccessList');\n  if (args && this.method.inputs && args.length !== this.method.inputs.length) {\n    if (this.nextMethod) {\n      return this.nextMethod.apply(null, args);\n    }\n    throw errors.InvalidNumberOfParams(args.length, this.method.inputs.length, this.method.name);\n  }\n  txObject.arguments = args || [];\n  txObject._method = this.method;\n  txObject._parent = this.parent;\n  txObject._ethAccounts = this.parent.constructor._ethAccounts || this._ethAccounts;\n  if (this.deployData) {\n    txObject._deployData = this.deployData;\n  }\n  return txObject;\n};\n/**\n * Generates the options for the execute call\n *\n * @method _processExecuteArguments\n * @param {Array} args\n * @param {Promise} defer\n */\nContract.prototype._processExecuteArguments = function _processExecuteArguments(args, defer) {\n  var processedArgs = {};\n  processedArgs.type = args.shift();\n  // get the callback\n  processedArgs.callback = this._parent._getCallback(args);\n  // get block number to use for call\n  if (processedArgs.type === 'call' && args[args.length - 1] !== true && (typeof args[args.length - 1] === 'string' || isFinite(args[args.length - 1]))) processedArgs.defaultBlock = args.pop();\n  // get the options\n  processedArgs.options = (!!args[args.length - 1] && typeof args[args.length - 1]) === 'object' ? args.pop() : {};\n  // get the generateRequest argument for batch requests\n  processedArgs.generateRequest = args[args.length - 1] === true ? args.pop() : false;\n  processedArgs.options = this._parent._getOrSetDefaultOptions(processedArgs.options);\n  processedArgs.options.data = this.encodeABI();\n  // add contract address\n  if (!this._deployData && !utils.isAddress(this._parent.options.address)) throw errors.ContractNoAddressDefinedError();\n  if (!this._deployData) processedArgs.options.to = this._parent.options.address;\n  // return error, if no \"data\" is specified\n  if (!processedArgs.options.data) return utils._fireError(new Error('Couldn\\'t find a matching contract method, or the number of parameters is wrong.'), defer.eventEmitter, defer.reject, processedArgs.callback);\n  return processedArgs;\n};\n/**\n * Executes a call, transact or estimateGas on a contract function\n *\n * @method _executeMethod\n * @param {String} type the type this execute function should execute\n * @param {Boolean} makeRequest if true, it simply returns the request parameters, rather than executing it\n */\nContract.prototype._executeMethod = function _executeMethod() {\n  var _this = this,\n    args = this._parent._processExecuteArguments.call(this, Array.prototype.slice.call(arguments), defer),\n    defer = promiEvent(args.type !== 'send'),\n    ethAccounts = _this.constructor._ethAccounts || _this._ethAccounts;\n  // simple return request for batch requests\n  if (args.generateRequest) {\n    var payload = {\n      params: [formatters.inputCallFormatter.call(this._parent, args.options)],\n      callback: args.callback\n    };\n    if (args.type === 'call') {\n      payload.params.push(formatters.inputDefaultBlockNumberFormatter.call(this._parent, args.defaultBlock));\n      payload.method = 'eth_call';\n      payload.format = this._parent._decodeMethodReturn.bind(null, this._method.outputs);\n    } else {\n      payload.method = 'eth_sendTransaction';\n    }\n    return payload;\n  }\n  switch (args.type) {\n    case 'createAccessList':\n      // return error, if no \"from\" is specified\n      if (!utils.isAddress(args.options.from)) {\n        return utils._fireError(errors.ContractNoFromAddressDefinedError(), defer.eventEmitter, defer.reject, args.callback);\n      }\n      var createAccessList = new Method({\n        name: 'createAccessList',\n        call: 'eth_createAccessList',\n        params: 2,\n        inputFormatter: [formatters.inputTransactionFormatter, formatters.inputDefaultBlockNumberFormatter],\n        requestManager: _this._parent._requestManager,\n        accounts: ethAccounts,\n        defaultAccount: _this._parent.defaultAccount,\n        defaultBlock: _this._parent.defaultBlock\n      }).createFunction();\n      return createAccessList(args.options, args.callback);\n    case 'estimate':\n      var estimateGas = new Method({\n        name: 'estimateGas',\n        call: 'eth_estimateGas',\n        params: 1,\n        inputFormatter: [formatters.inputCallFormatter],\n        outputFormatter: utils.hexToNumber,\n        requestManager: _this._parent._requestManager,\n        accounts: ethAccounts,\n        defaultAccount: _this._parent.defaultAccount,\n        defaultBlock: _this._parent.defaultBlock\n      }).createFunction();\n      return estimateGas(args.options, args.callback);\n    case 'call':\n      // TODO check errors: missing \"from\" should give error on deploy and send, call ?\n      var call = new Method({\n        name: 'call',\n        call: 'eth_call',\n        params: 2,\n        inputFormatter: [formatters.inputCallFormatter, formatters.inputDefaultBlockNumberFormatter],\n        // add output formatter for decoding\n        outputFormatter: function outputFormatter(result) {\n          return _this._parent._decodeMethodReturn(_this._method.outputs, result);\n        },\n        requestManager: _this._parent._requestManager,\n        accounts: ethAccounts,\n        defaultAccount: _this._parent.defaultAccount,\n        defaultBlock: _this._parent.defaultBlock,\n        handleRevert: _this._parent.handleRevert,\n        abiCoder: abi\n      }).createFunction();\n      return call(args.options, args.defaultBlock, args.callback);\n    case 'send':\n      // return error, if no \"from\" is specified\n      if (!utils.isAddress(args.options.from)) {\n        return utils._fireError(errors.ContractNoFromAddressDefinedError(), defer.eventEmitter, defer.reject, args.callback);\n      }\n      if (typeof this._method.payable === 'boolean' && !this._method.payable && args.options.value && args.options.value > 0) {\n        return utils._fireError(new Error('Can not send value to non-payable contract method or constructor'), defer.eventEmitter, defer.reject, args.callback);\n      }\n      // make sure receipt logs are decoded\n      var extraFormatters = {\n        receiptFormatter: function receiptFormatter(receipt) {\n          if (Array.isArray(receipt.logs)) {\n            // decode logs\n            var events = receipt.logs.map(log => {\n              return _this._parent._decodeEventABI.call({\n                name: 'ALLEVENTS',\n                jsonInterface: _this._parent.options.jsonInterface\n              }, log);\n            });\n            // make log names keys\n            receipt.events = {};\n            var count = 0;\n            events.forEach(function (ev) {\n              if (ev.event) {\n                // if > 1 of the same event, don't overwrite any existing events\n                if (receipt.events[ev.event]) {\n                  if (Array.isArray(receipt.events[ev.event])) {\n                    receipt.events[ev.event].push(ev);\n                  } else {\n                    receipt.events[ev.event] = [receipt.events[ev.event], ev];\n                  }\n                } else {\n                  receipt.events[ev.event] = ev;\n                }\n              } else {\n                receipt.events[count] = ev;\n                count++;\n              }\n            });\n            delete receipt.logs;\n          }\n          return receipt;\n        },\n        contractDeployFormatter: function contractDeployFormatter(receipt) {\n          var newContract = _this._parent.clone();\n          newContract.options.address = receipt.contractAddress;\n          return newContract;\n        }\n      };\n      var sendTransaction = new Method({\n        name: 'sendTransaction',\n        call: 'eth_sendTransaction',\n        params: 1,\n        inputFormatter: [formatters.inputTransactionFormatter],\n        requestManager: _this._parent._requestManager,\n        accounts: _this.constructor._ethAccounts || _this._ethAccounts,\n        defaultAccount: _this._parent.defaultAccount,\n        defaultBlock: _this._parent.defaultBlock,\n        transactionBlockTimeout: _this._parent.transactionBlockTimeout,\n        transactionConfirmationBlocks: _this._parent.transactionConfirmationBlocks,\n        transactionPollingTimeout: _this._parent.transactionPollingTimeout,\n        transactionPollingInterval: _this._parent.transactionPollingInterval,\n        defaultCommon: _this._parent.defaultCommon,\n        defaultChain: _this._parent.defaultChain,\n        defaultHardfork: _this._parent.defaultHardfork,\n        handleRevert: _this._parent.handleRevert,\n        extraFormatters: extraFormatters,\n        abiCoder: abi\n      }).createFunction();\n      return sendTransaction(args.options, args.callback);\n    default:\n      throw new Error('Method \"' + args.type + '\" not implemented.');\n  }\n};\nmodule.exports = Contract;","map":{"version":3,"names":["_objectSpread","require","default","core","Method","utils","Subscription","subscription","formatters","errors","promiEvent","abi","Contract","jsonInterface","address","options","_this","args","Array","prototype","slice","call","arguments","Error","setProvider","packageInit","clearSubscriptions","_requestManager","constructor","isArray","ContractMissingABIError","lastArg","length","_getOrSetDefaultOptions","Object","defineProperty","set","value","_address","toChecksumAddress","inputAddressFormatter","get","enumerable","methods","events","_jsonInterface","map","method","func","funcName","constant","stateMutability","payable","name","_jsonInterfaceMethodToString","type","signature","encodeFunctionSignature","_createTxObject","bind","parent","cascadeFunc","nextMethod","encodeEventSignature","event","_on","allEvents","defaultAccount","defaultBlock","handleRevert","val","common","defaultCommon","hardfork","defaultHardfork","chain","defaultChain","transactionPollingTimeout","transactionPollingInterval","transactionConfirmationBlocks","transactionBlockTimeout","blockHeaderTimeout","provider","accounts","_ethAccounts","_getCallback","getCallback","pop","_checkListener","ContractReservedEventError","getOrSetDefaultOptions","_options","gasPrice","String","from","data","gas","gasLimit","_encodeEventABI","filter","result","f","undefined","forEach","inputBlockNumberFormatter","topics","anonymous","push","jsonInterfaceMethodToString","inputs","input","indexed","v","encodeParameter","toLowerCase","_decodeEventABI","outputLogFormatter","find","intf","indexedInputs","argTopics","returnValues","decodeLog","__length__","raw","_encodeMethodABI","methodSignature","_method","paramsABI","_parent","json","replace","inputLength","encodeParameters","_deployData","startsWith","returnValue","_decodeMethodReturn","outputs","decodeParameters","deploy","callback","ContractMissingDeployDataError","apply","deployData","_generateEventOptions","eventName","ContractEventDoesNotExistError","isAddress","ContractNoAddressDefinedError","params","clone","once","ContractOnceRequiresCallbackError","fromBlock","err","res","sub","unsubscribe","subOptions","toBlock","console","warn","inputFormatter","inputLogFormatter","outputFormatter","subscriptionHandler","output","removed","emit","requestManager","subscribe","filterAllEventsResults","filterKeys","keys","log","every","k","some","toUpperCase","getPastEvents","getPastLogs","setRequestManager","buildCall","then","txObject","_executeMethod","request","send","encodeABI","estimateGas","createAccessList","InvalidNumberOfParams","_processExecuteArguments","defer","processedArgs","shift","isFinite","generateRequest","to","_fireError","eventEmitter","reject","ethAccounts","payload","inputCallFormatter","inputDefaultBlockNumberFormatter","format","ContractNoFromAddressDefinedError","inputTransactionFormatter","createFunction","hexToNumber","abiCoder","extraFormatters","receiptFormatter","receipt","logs","count","ev","contractDeployFormatter","newContract","contractAddress","sendTransaction","module","exports"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/web3-eth-contract/lib/index.js"],"sourcesContent":["/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file contract.js\n *\n * To initialize a contract use:\n *\n *  var Contract = require('web3-eth-contract');\n *  Contract.setProvider('ws://localhost:8546');\n *  var contract = new Contract(abi, address, ...);\n *\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nvar core = require('web3-core');\nvar Method = require('web3-core-method');\nvar utils = require('web3-utils');\nvar Subscription = require('web3-core-subscriptions').subscription;\nvar formatters = require('web3-core-helpers').formatters;\nvar errors = require('web3-core-helpers').errors;\nvar promiEvent = require('web3-core-promievent');\nvar abi = require('web3-eth-abi');\n/**\n * Should be called to create new contract instance\n *\n * @method Contract\n * @constructor\n * @param {Array} jsonInterface\n * @param {String} address\n * @param {Object} options\n */\nvar Contract = function Contract(jsonInterface, address, options) {\n    var _this = this, args = Array.prototype.slice.call(arguments);\n    if (!(this instanceof Contract)) {\n        throw new Error('Please use the \"new\" keyword to instantiate a web3.eth.Contract() object!');\n    }\n    this.setProvider = function () {\n        core.packageInit(_this, arguments);\n        _this.clearSubscriptions = _this._requestManager.clearSubscriptions;\n    };\n    // sets _requestmanager\n    core.packageInit(this, [this.constructor]);\n    this.clearSubscriptions = this._requestManager.clearSubscriptions;\n    if (!jsonInterface || !(Array.isArray(jsonInterface))) {\n        throw errors.ContractMissingABIError();\n    }\n    // create the options object\n    this.options = {};\n    var lastArg = args[args.length - 1];\n    if (!!lastArg && typeof lastArg === 'object' && !Array.isArray(lastArg)) {\n        options = lastArg;\n        this.options = { ...this.options, ...this._getOrSetDefaultOptions(options) };\n        if (!!address && typeof address === 'object') {\n            address = null;\n        }\n    }\n    // set address\n    Object.defineProperty(this.options, 'address', {\n        set: function (value) {\n            if (value) {\n                _this._address = utils.toChecksumAddress(formatters.inputAddressFormatter(value));\n            }\n        },\n        get: function () {\n            return _this._address;\n        },\n        enumerable: true\n    });\n    // add method and event signatures, when the jsonInterface gets set\n    Object.defineProperty(this.options, 'jsonInterface', {\n        set: function (value) {\n            _this.methods = {};\n            _this.events = {};\n            _this._jsonInterface = value.map(function (method) {\n                var func, funcName;\n                // make constant and payable backwards compatible\n                method.constant = (method.stateMutability === \"view\" || method.stateMutability === \"pure\" || method.constant);\n                method.payable = (method.stateMutability === \"payable\" || method.payable);\n                if (method.name) {\n                    funcName = utils._jsonInterfaceMethodToString(method);\n                }\n                // function\n                if (method.type === 'function') {\n                    method.signature = abi.encodeFunctionSignature(funcName);\n                    func = _this._createTxObject.bind({\n                        method: method,\n                        parent: _this\n                    });\n                    // add method only if not one already exists\n                    if (!_this.methods[method.name]) {\n                        _this.methods[method.name] = func;\n                    }\n                    else {\n                        var cascadeFunc = _this._createTxObject.bind({\n                            method: method,\n                            parent: _this,\n                            nextMethod: _this.methods[method.name]\n                        });\n                        _this.methods[method.name] = cascadeFunc;\n                    }\n                    // definitely add the method based on its signature\n                    _this.methods[method.signature] = func;\n                    // add method by name\n                    _this.methods[funcName] = func;\n                    // event\n                }\n                else if (method.type === 'event') {\n                    method.signature = abi.encodeEventSignature(funcName);\n                    var event = _this._on.bind(_this, method.signature);\n                    // add method only if not already exists\n                    if (!_this.events[method.name] || _this.events[method.name].name === 'bound ')\n                        _this.events[method.name] = event;\n                    // definitely add the method based on its signature\n                    _this.events[method.signature] = event;\n                    // add event by name\n                    _this.events[funcName] = event;\n                }\n                return method;\n            });\n            // add allEvents\n            _this.events.allEvents = _this._on.bind(_this, 'allevents');\n            return _this._jsonInterface;\n        },\n        get: function () {\n            return _this._jsonInterface;\n        },\n        enumerable: true\n    });\n    // get default account from the Class\n    var defaultAccount = this.constructor.defaultAccount;\n    var defaultBlock = this.constructor.defaultBlock || 'latest';\n    Object.defineProperty(this, 'handleRevert', {\n        get: function () {\n            if (_this.options.handleRevert === false || _this.options.handleRevert === true) {\n                return _this.options.handleRevert;\n            }\n            return this.constructor.handleRevert;\n        },\n        set: function (val) {\n            _this.options.handleRevert = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultCommon', {\n        get: function () {\n            return _this.options.common || this.constructor.defaultCommon;\n        },\n        set: function (val) {\n            _this.options.common = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultHardfork', {\n        get: function () {\n            return _this.options.hardfork || this.constructor.defaultHardfork;\n        },\n        set: function (val) {\n            _this.options.hardfork = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultChain', {\n        get: function () {\n            return _this.options.chain || this.constructor.defaultChain;\n        },\n        set: function (val) {\n            _this.options.chain = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'transactionPollingTimeout', {\n        get: function () {\n            if (_this.options.transactionPollingTimeout === 0) {\n                return _this.options.transactionPollingTimeout;\n            }\n            return _this.options.transactionPollingTimeout || this.constructor.transactionPollingTimeout;\n        },\n        set: function (val) {\n            _this.options.transactionPollingTimeout = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'transactionPollingInterval', {\n        get: function () {\n            if (_this.options.transactionPollingInterval === 0) {\n                return _this.options.transactionPollingInterval;\n            }\n            return _this.options.transactionPollingInterval || this.constructor.transactionPollingInterval;\n        },\n        set: function (val) {\n            _this.options.transactionPollingInterval = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'transactionConfirmationBlocks', {\n        get: function () {\n            if (_this.options.transactionConfirmationBlocks === 0) {\n                return _this.options.transactionConfirmationBlocks;\n            }\n            return _this.options.transactionConfirmationBlocks || this.constructor.transactionConfirmationBlocks;\n        },\n        set: function (val) {\n            _this.options.transactionConfirmationBlocks = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'transactionBlockTimeout', {\n        get: function () {\n            if (_this.options.transactionBlockTimeout === 0) {\n                return _this.options.transactionBlockTimeout;\n            }\n            return _this.options.transactionBlockTimeout || this.constructor.transactionBlockTimeout;\n        },\n        set: function (val) {\n            _this.options.transactionBlockTimeout = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'blockHeaderTimeout', {\n        get: function () {\n            if (_this.options.blockHeaderTimeout === 0) {\n                return _this.options.blockHeaderTimeout;\n            }\n            return _this.options.blockHeaderTimeout || this.constructor.blockHeaderTimeout;\n        },\n        set: function (val) {\n            _this.options.blockHeaderTimeout = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultAccount', {\n        get: function () {\n            return defaultAccount;\n        },\n        set: function (val) {\n            if (val) {\n                defaultAccount = utils.toChecksumAddress(formatters.inputAddressFormatter(val));\n            }\n            return val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultBlock', {\n        get: function () {\n            return defaultBlock;\n        },\n        set: function (val) {\n            defaultBlock = val;\n            return val;\n        },\n        enumerable: true\n    });\n    // properties\n    this.methods = {};\n    this.events = {};\n    this._address = null;\n    this._jsonInterface = [];\n    // set getter/setter properties\n    this.options.address = address;\n    this.options.jsonInterface = jsonInterface;\n};\n/**\n * Sets the new provider, creates a new requestManager, registers the \"data\" listener on the provider and sets the\n * accounts module for the Contract class.\n *\n * @method setProvider\n *\n * @param {string|provider} provider\n * @param {Accounts} accounts\n *\n * @returns void\n */\nContract.setProvider = function (provider, accounts) {\n    // Contract.currentProvider = provider;\n    core.packageInit(this, [provider]);\n    this._ethAccounts = accounts;\n};\n/**\n * Get the callback and modify the array if necessary\n *\n * @method _getCallback\n * @param {Array} args\n * @return {Function} the callback\n */\nContract.prototype._getCallback = function getCallback(args) {\n    if (args && !!args[args.length - 1] && typeof args[args.length - 1] === 'function') {\n        return args.pop(); // modify the args array!\n    }\n};\n/**\n * Checks that no listener with name \"newListener\" or \"removeListener\" is added.\n *\n * @method _checkListener\n * @param {String} type\n * @param {String} event\n * @return {Object} the contract instance\n */\nContract.prototype._checkListener = function (type, event) {\n    if (event === type) {\n        throw errors.ContractReservedEventError(type);\n    }\n};\n/**\n * Use default values, if options are not available\n *\n * @method _getOrSetDefaultOptions\n * @param {Object} options the options gived by the user\n * @return {Object} the options with gaps filled by defaults\n */\nContract.prototype._getOrSetDefaultOptions = function getOrSetDefaultOptions(options) {\n    var _options = { ...options };\n    var gasPrice = _options.gasPrice ? String(_options.gasPrice) : null;\n    var from = _options.from ? utils.toChecksumAddress(formatters.inputAddressFormatter(_options.from)) : null;\n    _options.data = _options.data || this.options.data;\n    _options.from = from || this.options.from;\n    _options.gasPrice = gasPrice || this.options.gasPrice;\n    _options.gas = _options.gas || _options.gasLimit || this.options.gas;\n    // TODO replace with only gasLimit?\n    delete _options.gasLimit;\n    return _options;\n};\n/**\n * Should be used to encode indexed params and options to one final object\n *\n * @method _encodeEventABI\n * @param {Object} event\n * @param {Object} options\n * @return {Object} everything combined together and encoded\n */\nContract.prototype._encodeEventABI = function (event, options) {\n    options = options || {};\n    var filter = options.filter || {}, result = {};\n    ['fromBlock', 'toBlock'].filter(function (f) {\n        return options[f] !== undefined;\n    }).forEach(function (f) {\n        result[f] = formatters.inputBlockNumberFormatter(options[f]);\n    });\n    let topics = [];\n    if (options.topics && Array.isArray(options.topics)) {\n        topics = [...options.topics];\n    }\n    else {\n        topics = [];\n        // add event signature\n        if (event && !event.anonymous && event.name !== 'ALLEVENTS') {\n            topics.push(event.signature || abi.encodeEventSignature(utils.jsonInterfaceMethodToString(event)));\n        }\n        // add event topics (indexed arguments)\n        if (event.name !== 'ALLEVENTS' && event.inputs) {\n            for (const input of event.inputs) {\n                if (!input.indexed) {\n                    continue;\n                }\n                const value = filter[input.name];\n                if (!value) {\n                    // eslint-disable-next-line no-null/no-null\n                    topics.push(null);\n                    continue;\n                }\n                if (Array.isArray(value)) {\n                    topics.push(value.map(v => abi.encodeParameter(input.type, v)));\n                }\n                else {\n                    topics.push(abi.encodeParameter(input.type, value));\n                }\n            }\n        }\n    }\n    if (topics.length) {\n        result.topics = topics;\n    }\n    if (this.options.address) {\n        result.address = this.options.address.toLowerCase();\n    }\n    return result;\n};\n/**\n * Should be used to decode indexed params and options\n *\n * @method _decodeEventABI\n * @param {Object} data\n * @return {Object} result object with decoded indexed && not indexed params\n */\nContract.prototype._decodeEventABI = function (data) {\n    var event = this;\n    data.data = data.data || '';\n    data.topics = data.topics || [];\n    var result = formatters.outputLogFormatter(data);\n    // if allEvents get the right event\n    if (event.name === 'ALLEVENTS') {\n        event = event.jsonInterface.find(function (intf) {\n            return (intf.signature === data.topics[0]);\n        }) || { anonymous: true };\n    }\n    // create empty inputs if none are present (e.g. anonymous events on allEvents)\n    event.inputs = event.inputs || [];\n    // Handle case where an event signature shadows the current ABI with non-identical\n    // arg indexing. If # of topics doesn't match, event is anon.\n    if (!event.anonymous) {\n        let indexedInputs = 0;\n        event.inputs.forEach(input => input.indexed ? indexedInputs++ : null);\n        if (indexedInputs > 0 && (data.topics.length !== indexedInputs + 1)) {\n            event = {\n                anonymous: true,\n                inputs: []\n            };\n        }\n    }\n    var argTopics = event.anonymous ? data.topics : data.topics.slice(1);\n    result.returnValues = abi.decodeLog(event.inputs, data.data, argTopics);\n    delete result.returnValues.__length__;\n    // add name\n    result.event = event.name;\n    // add signature\n    result.signature = (event.anonymous || !data.topics[0]) ? null : data.topics[0];\n    // move the data and topics to \"raw\"\n    result.raw = {\n        data: result.data,\n        topics: result.topics\n    };\n    delete result.data;\n    delete result.topics;\n    return result;\n};\n/**\n * Encodes an ABI for a method, including signature or the method.\n * Or when constructor encodes only the constructor parameters.\n *\n * @method _encodeMethodABI\n * @param {Mixed} args the arguments to encode\n * @param {String} the encoded ABI\n */\nContract.prototype._encodeMethodABI = function _encodeMethodABI() {\n    var methodSignature = this._method.signature, args = this.arguments || [];\n    var signature = false, paramsABI = this._parent.options.jsonInterface.filter(function (json) {\n        return ((methodSignature === 'constructor' && json.type === methodSignature) ||\n            ((json.signature === methodSignature || json.signature === methodSignature.replace('0x', '') || json.name === methodSignature) && json.type === 'function'));\n    }).map(function (json) {\n        var inputLength = (Array.isArray(json.inputs)) ? json.inputs.length : 0;\n        if (inputLength !== args.length) {\n            throw new Error('The number of arguments is not matching the methods required number. You need to pass ' + inputLength + ' arguments.');\n        }\n        if (json.type === 'function') {\n            signature = json.signature;\n        }\n        return Array.isArray(json.inputs) ? json.inputs : [];\n    }).map(function (inputs) {\n        return abi.encodeParameters(inputs, args).replace('0x', '');\n    })[0] || '';\n    // return constructor\n    if (methodSignature === 'constructor') {\n        if (!this._deployData)\n            throw new Error('The contract has no contract data option set. This is necessary to append the constructor parameters.');\n        if (!this._deployData.startsWith('0x')) {\n            this._deployData = '0x' + this._deployData;\n        }\n        return this._deployData + paramsABI;\n    }\n    // return method\n    var returnValue = (signature) ? signature + paramsABI : paramsABI;\n    if (!returnValue) {\n        throw new Error('Couldn\\'t find a matching contract method named \"' + this._method.name + '\".');\n    }\n    return returnValue;\n};\n/**\n * Decode method return values\n *\n * @method _decodeMethodReturn\n * @param {Array} outputs\n * @param {String} returnValues\n * @return {Object} decoded output return values\n */\nContract.prototype._decodeMethodReturn = function (outputs, returnValues) {\n    if (!returnValues) {\n        return null;\n    }\n    returnValues = returnValues.length >= 2 ? returnValues.slice(2) : returnValues;\n    var result = abi.decodeParameters(outputs, returnValues);\n    if (result.__length__ === 1) {\n        return result[0];\n    }\n    delete result.__length__;\n    return result;\n};\n/**\n * Deploys a contract and fire events based on its state: transactionHash, receipt\n *\n * All event listeners will be removed, once the last possible event is fired (\"error\", or \"receipt\")\n *\n * @method deploy\n * @param {Object} options\n * @param {Function} callback\n * @return {Object} EventEmitter possible events are \"error\", \"transactionHash\" and \"receipt\"\n */\nContract.prototype.deploy = function (options, callback) {\n    options = options || {};\n    options.arguments = options.arguments || [];\n    options = this._getOrSetDefaultOptions(options);\n    // throw error, if no \"data\" is specified\n    if (!options.data) {\n        if (typeof callback === 'function') {\n            return callback(errors.ContractMissingDeployDataError());\n        }\n        throw errors.ContractMissingDeployDataError();\n    }\n    var constructor = this.options.jsonInterface.find((method) => {\n        return (method.type === 'constructor');\n    }) || {};\n    constructor.signature = 'constructor';\n    return this._createTxObject.apply({\n        method: constructor,\n        parent: this,\n        deployData: options.data,\n        _ethAccounts: this.constructor._ethAccounts\n    }, options.arguments);\n};\n/**\n * Gets the event signature and outputFormatters\n *\n * @method _generateEventOptions\n * @param {Object} event\n * @param {Object} options\n * @param {Function} callback\n * @return {Object} the event options object\n */\nContract.prototype._generateEventOptions = function () {\n    var args = Array.prototype.slice.call(arguments);\n    // get the callback\n    var callback = this._getCallback(args);\n    // get the options\n    var options = (!!args[args.length - 1] && typeof args[args.length - 1]) === 'object' ? args.pop() : {};\n    var eventName = (typeof args[0] === 'string') ? args[0] : 'allevents';\n    var event = (eventName.toLowerCase() === 'allevents') ? {\n        name: 'ALLEVENTS',\n        jsonInterface: this.options.jsonInterface\n    } : this.options.jsonInterface.find(function (json) {\n        return (json.type === 'event' && (json.name === eventName || json.signature === '0x' + eventName.replace('0x', '')));\n    });\n    if (!event) {\n        throw errors.ContractEventDoesNotExistError(eventName);\n    }\n    if (!utils.isAddress(this.options.address)) {\n        throw errors.ContractNoAddressDefinedError();\n    }\n    return {\n        params: this._encodeEventABI(event, options),\n        event: event,\n        filter: options.filter || {},\n        callback: callback\n    };\n};\n/**\n * Adds event listeners and creates a subscription, and remove it once its fired.\n *\n * @method clone\n * @return {Object} the event subscription\n */\nContract.prototype.clone = function () {\n    return new this.constructor(this.options.jsonInterface, this.options.address, this.options);\n};\n/**\n * Adds event listeners and creates a subscription, and remove it once its fired.\n *\n * @method once\n * @param {String} event\n * @param {Object} options\n * @param {Function} callback\n * @return {Object} the event subscription\n */\nContract.prototype.once = function (event, options, callback) {\n    var args = Array.prototype.slice.call(arguments);\n    // get the callback\n    callback = this._getCallback(args);\n    if (!callback) {\n        throw errors.ContractOnceRequiresCallbackError();\n    }\n    // don't allow fromBlock\n    if (options)\n        delete options.fromBlock;\n    // don't return as once shouldn't provide \"on\"\n    this._on(event, options, function (err, res, sub) {\n        sub.unsubscribe();\n        if (typeof callback === 'function') {\n            callback(err, res, sub);\n        }\n    });\n    return undefined;\n};\n/**\n * Adds event listeners and creates a subscription.\n *\n * @method _on\n *\n * @param {String} event\n * @param {Object} options\n * @param {Function} callback\n *\n * @return {Object} the event subscription\n */\nContract.prototype._on = function () {\n    var subOptions = this._generateEventOptions.apply(this, arguments);\n    if (subOptions.params && subOptions.params.toBlock) {\n        delete subOptions.params.toBlock;\n        console.warn('Invalid option: toBlock. Use getPastEvents for specific range.');\n    }\n    // prevent the event \"newListener\" and \"removeListener\" from being overwritten\n    this._checkListener('newListener', subOptions.event.name);\n    this._checkListener('removeListener', subOptions.event.name);\n    // TODO check if listener already exists? and reuse subscription if options are the same.\n    // create new subscription\n    var subscription = new Subscription({\n        subscription: {\n            params: 1,\n            inputFormatter: [formatters.inputLogFormatter],\n            outputFormatter: this._decodeEventABI.bind(subOptions.event),\n            // DUBLICATE, also in web3-eth\n            subscriptionHandler: function (output) {\n                if (output.removed) {\n                    this.emit('changed', output);\n                }\n                else {\n                    this.emit('data', output);\n                }\n                if (typeof this.callback === 'function') {\n                    this.callback(null, output, this);\n                }\n            }\n        },\n        type: 'eth',\n        requestManager: this._requestManager\n    });\n    subscription.subscribe('logs', subOptions.params, subOptions.callback || function () { });\n    return subscription;\n};\nconst filterAllEventsResults = (subOptions, data) => {\n    if (subOptions.event && subOptions.event.name === 'ALLEVENTS' && Array.isArray(data)) {\n        const filter = subOptions.filter || {};\n        const filterKeys = Object.keys(filter);\n        return filterKeys.length > 0\n            ? data.filter(log => typeof log === 'string' ? true : filterKeys.every((k) => Array.isArray(filter[k]) ? (filter[k]).some((v) => String(log.returnValues[k]).toUpperCase() ===\n                String(v).toUpperCase()) : (String(log.returnValues[k]).toUpperCase() ===\n                String(filter[k]).toUpperCase())))\n            : data;\n    }\n    return data;\n};\n/**\n * Get past events from contracts\n *\n * @method getPastEvents\n * @param {String} event\n * @param {Object} options\n * @param {Function} callback\n * @return {Object} the promievent\n */\nContract.prototype.getPastEvents = function () {\n    var subOptions = this._generateEventOptions.apply(this, arguments);\n    var getPastLogs = new Method({\n        name: 'getPastLogs',\n        call: 'eth_getLogs',\n        params: 1,\n        inputFormatter: [formatters.inputLogFormatter],\n        outputFormatter: this._decodeEventABI.bind(subOptions.event)\n    });\n    getPastLogs.setRequestManager(this._requestManager);\n    var call = getPastLogs.buildCall();\n    getPastLogs = null;\n    return call(subOptions.params, (err, data) => {\n        if (typeof subOptions.callback === 'function') {\n            subOptions.callback(err, filterAllEventsResults(subOptions, data));\n        }\n    }).then(filterAllEventsResults.bind(this, subOptions));\n};\n/**\n * returns the an object with call, send, estimate functions\n *\n * @method _createTxObject\n * @returns {Object} an object with functions to call the methods\n */\nContract.prototype._createTxObject = function _createTxObject() {\n    var args = Array.prototype.slice.call(arguments);\n    var txObject = {};\n    if (this.method.type === 'function') {\n        txObject.call = this.parent._executeMethod.bind(txObject, 'call');\n        txObject.call.request = this.parent._executeMethod.bind(txObject, 'call', true); // to make batch requests\n    }\n    txObject.send = this.parent._executeMethod.bind(txObject, 'send');\n    txObject.send.request = this.parent._executeMethod.bind(txObject, 'send', true); // to make batch requests\n    txObject.encodeABI = this.parent._encodeMethodABI.bind(txObject);\n    txObject.estimateGas = this.parent._executeMethod.bind(txObject, 'estimate');\n    txObject.createAccessList = this.parent._executeMethod.bind(txObject, 'createAccessList');\n    if (args && this.method.inputs && args.length !== this.method.inputs.length) {\n        if (this.nextMethod) {\n            return this.nextMethod.apply(null, args);\n        }\n        throw errors.InvalidNumberOfParams(args.length, this.method.inputs.length, this.method.name);\n    }\n    txObject.arguments = args || [];\n    txObject._method = this.method;\n    txObject._parent = this.parent;\n    txObject._ethAccounts = this.parent.constructor._ethAccounts || this._ethAccounts;\n    if (this.deployData) {\n        txObject._deployData = this.deployData;\n    }\n    return txObject;\n};\n/**\n * Generates the options for the execute call\n *\n * @method _processExecuteArguments\n * @param {Array} args\n * @param {Promise} defer\n */\nContract.prototype._processExecuteArguments = function _processExecuteArguments(args, defer) {\n    var processedArgs = {};\n    processedArgs.type = args.shift();\n    // get the callback\n    processedArgs.callback = this._parent._getCallback(args);\n    // get block number to use for call\n    if (processedArgs.type === 'call' && args[args.length - 1] !== true && (typeof args[args.length - 1] === 'string' || isFinite(args[args.length - 1])))\n        processedArgs.defaultBlock = args.pop();\n    // get the options\n    processedArgs.options = (!!args[args.length - 1] && typeof args[args.length - 1]) === 'object' ? args.pop() : {};\n    // get the generateRequest argument for batch requests\n    processedArgs.generateRequest = (args[args.length - 1] === true) ? args.pop() : false;\n    processedArgs.options = this._parent._getOrSetDefaultOptions(processedArgs.options);\n    processedArgs.options.data = this.encodeABI();\n    // add contract address\n    if (!this._deployData && !utils.isAddress(this._parent.options.address))\n        throw errors.ContractNoAddressDefinedError();\n    if (!this._deployData)\n        processedArgs.options.to = this._parent.options.address;\n    // return error, if no \"data\" is specified\n    if (!processedArgs.options.data)\n        return utils._fireError(new Error('Couldn\\'t find a matching contract method, or the number of parameters is wrong.'), defer.eventEmitter, defer.reject, processedArgs.callback);\n    return processedArgs;\n};\n/**\n * Executes a call, transact or estimateGas on a contract function\n *\n * @method _executeMethod\n * @param {String} type the type this execute function should execute\n * @param {Boolean} makeRequest if true, it simply returns the request parameters, rather than executing it\n */\nContract.prototype._executeMethod = function _executeMethod() {\n    var _this = this, args = this._parent._processExecuteArguments.call(this, Array.prototype.slice.call(arguments), defer), defer = promiEvent((args.type !== 'send')), ethAccounts = _this.constructor._ethAccounts || _this._ethAccounts;\n    // simple return request for batch requests\n    if (args.generateRequest) {\n        var payload = {\n            params: [formatters.inputCallFormatter.call(this._parent, args.options)],\n            callback: args.callback\n        };\n        if (args.type === 'call') {\n            payload.params.push(formatters.inputDefaultBlockNumberFormatter.call(this._parent, args.defaultBlock));\n            payload.method = 'eth_call';\n            payload.format = this._parent._decodeMethodReturn.bind(null, this._method.outputs);\n        }\n        else {\n            payload.method = 'eth_sendTransaction';\n        }\n        return payload;\n    }\n    switch (args.type) {\n        case 'createAccessList':\n            // return error, if no \"from\" is specified\n            if (!utils.isAddress(args.options.from)) {\n                return utils._fireError(errors.ContractNoFromAddressDefinedError(), defer.eventEmitter, defer.reject, args.callback);\n            }\n            var createAccessList = (new Method({\n                name: 'createAccessList',\n                call: 'eth_createAccessList',\n                params: 2,\n                inputFormatter: [formatters.inputTransactionFormatter, formatters.inputDefaultBlockNumberFormatter],\n                requestManager: _this._parent._requestManager,\n                accounts: ethAccounts,\n                defaultAccount: _this._parent.defaultAccount,\n                defaultBlock: _this._parent.defaultBlock\n            })).createFunction();\n            return createAccessList(args.options, args.callback);\n        case 'estimate':\n            var estimateGas = (new Method({\n                name: 'estimateGas',\n                call: 'eth_estimateGas',\n                params: 1,\n                inputFormatter: [formatters.inputCallFormatter],\n                outputFormatter: utils.hexToNumber,\n                requestManager: _this._parent._requestManager,\n                accounts: ethAccounts,\n                defaultAccount: _this._parent.defaultAccount,\n                defaultBlock: _this._parent.defaultBlock\n            })).createFunction();\n            return estimateGas(args.options, args.callback);\n        case 'call':\n            // TODO check errors: missing \"from\" should give error on deploy and send, call ?\n            var call = (new Method({\n                name: 'call',\n                call: 'eth_call',\n                params: 2,\n                inputFormatter: [formatters.inputCallFormatter, formatters.inputDefaultBlockNumberFormatter],\n                // add output formatter for decoding\n                outputFormatter: function (result) {\n                    return _this._parent._decodeMethodReturn(_this._method.outputs, result);\n                },\n                requestManager: _this._parent._requestManager,\n                accounts: ethAccounts,\n                defaultAccount: _this._parent.defaultAccount,\n                defaultBlock: _this._parent.defaultBlock,\n                handleRevert: _this._parent.handleRevert,\n                abiCoder: abi\n            })).createFunction();\n            return call(args.options, args.defaultBlock, args.callback);\n        case 'send':\n            // return error, if no \"from\" is specified\n            if (!utils.isAddress(args.options.from)) {\n                return utils._fireError(errors.ContractNoFromAddressDefinedError(), defer.eventEmitter, defer.reject, args.callback);\n            }\n            if (typeof this._method.payable === 'boolean' && !this._method.payable && args.options.value && args.options.value > 0) {\n                return utils._fireError(new Error('Can not send value to non-payable contract method or constructor'), defer.eventEmitter, defer.reject, args.callback);\n            }\n            // make sure receipt logs are decoded\n            var extraFormatters = {\n                receiptFormatter: function (receipt) {\n                    if (Array.isArray(receipt.logs)) {\n                        // decode logs\n                        var events = receipt.logs.map((log) => {\n                            return _this._parent._decodeEventABI.call({\n                                name: 'ALLEVENTS',\n                                jsonInterface: _this._parent.options.jsonInterface\n                            }, log);\n                        });\n                        // make log names keys\n                        receipt.events = {};\n                        var count = 0;\n                        events.forEach(function (ev) {\n                            if (ev.event) {\n                                // if > 1 of the same event, don't overwrite any existing events\n                                if (receipt.events[ev.event]) {\n                                    if (Array.isArray(receipt.events[ev.event])) {\n                                        receipt.events[ev.event].push(ev);\n                                    }\n                                    else {\n                                        receipt.events[ev.event] = [receipt.events[ev.event], ev];\n                                    }\n                                }\n                                else {\n                                    receipt.events[ev.event] = ev;\n                                }\n                            }\n                            else {\n                                receipt.events[count] = ev;\n                                count++;\n                            }\n                        });\n                        delete receipt.logs;\n                    }\n                    return receipt;\n                },\n                contractDeployFormatter: function (receipt) {\n                    var newContract = _this._parent.clone();\n                    newContract.options.address = receipt.contractAddress;\n                    return newContract;\n                }\n            };\n            var sendTransaction = (new Method({\n                name: 'sendTransaction',\n                call: 'eth_sendTransaction',\n                params: 1,\n                inputFormatter: [formatters.inputTransactionFormatter],\n                requestManager: _this._parent._requestManager,\n                accounts: _this.constructor._ethAccounts || _this._ethAccounts,\n                defaultAccount: _this._parent.defaultAccount,\n                defaultBlock: _this._parent.defaultBlock,\n                transactionBlockTimeout: _this._parent.transactionBlockTimeout,\n                transactionConfirmationBlocks: _this._parent.transactionConfirmationBlocks,\n                transactionPollingTimeout: _this._parent.transactionPollingTimeout,\n                transactionPollingInterval: _this._parent.transactionPollingInterval,\n                defaultCommon: _this._parent.defaultCommon,\n                defaultChain: _this._parent.defaultChain,\n                defaultHardfork: _this._parent.defaultHardfork,\n                handleRevert: _this._parent.handleRevert,\n                extraFormatters: extraFormatters,\n                abiCoder: abi\n            })).createFunction();\n            return sendTransaction(args.options, args.callback);\n        default:\n            throw new Error('Method \"' + args.type + '\" not implemented.');\n    }\n};\nmodule.exports = Contract;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}