{"ast":null,"code":"import _asyncToGenerator from \"/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _s = $RefreshSig$();\nimport { nanoid } from '@reduxjs/toolkit';\nimport { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { fetchTokenList } from '../state/lists/actions';\nimport getTokenList from '../utils/getTokenList';\nexport function useFetchListCallback() {\n  _s();\n  const dispatch = useDispatch();\n\n  // note: prevent dispatch if using for list search or unsupported list\n  return useCallback( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(function* (listUrl) {\n      let sendDispatch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      const requestId = nanoid();\n      sendDispatch && dispatch(fetchTokenList.pending({\n        requestId,\n        url: listUrl\n      }));\n      return getTokenList(listUrl).then(tokenList => {\n        sendDispatch && dispatch(fetchTokenList.fulfilled({\n          url: listUrl,\n          tokenList,\n          requestId\n        }));\n        return tokenList;\n      }).catch(error => {\n        console.debug(\"Failed to get list at url \".concat(listUrl), error);\n        sendDispatch && dispatch(fetchTokenList.rejected({\n          url: listUrl,\n          requestId,\n          errorMessage: error.message\n        }));\n        throw error;\n      });\n    });\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), [dispatch]);\n}\n_s(useFetchListCallback, \"nhyv+fhSuBJ7yx/uYuCmtG3KTzU=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"names":["nanoid","useCallback","useDispatch","fetchTokenList","getTokenList","useFetchListCallback","_s","dispatch","_ref","_asyncToGenerator","listUrl","sendDispatch","arguments","length","undefined","requestId","pending","url","then","tokenList","fulfilled","catch","error","console","debug","concat","rejected","errorMessage","message","_x","apply"],"sources":["/app/src/hooks/useFetchListCallback.ts"],"sourcesContent":["import { nanoid } from '@reduxjs/toolkit'\nimport { TokenList } from '@uniswap/token-lists'\nimport { useCallback } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { AppDispatch } from '../state'\nimport { fetchTokenList } from '../state/lists/actions'\nimport getTokenList from '../utils/getTokenList'\n\nexport function useFetchListCallback(): (listUrl: string, sendDispatch?: boolean) => Promise<TokenList> {\n  const dispatch = useDispatch<AppDispatch>()\n\n  // note: prevent dispatch if using for list search or unsupported list\n  return useCallback(\n    async (listUrl: string, sendDispatch = true) => {\n      const requestId = nanoid()\n      sendDispatch && dispatch(fetchTokenList.pending({ requestId, url: listUrl }))\n      return getTokenList(listUrl)\n        .then((tokenList) => {\n          sendDispatch && dispatch(fetchTokenList.fulfilled({ url: listUrl, tokenList, requestId }))\n          return tokenList\n        })\n        .catch((error) => {\n          console.debug(`Failed to get list at url ${listUrl}`, error)\n          sendDispatch && dispatch(fetchTokenList.rejected({ url: listUrl, requestId, errorMessage: error.message }))\n          throw error\n        })\n    },\n    [dispatch]\n  )\n}\n"],"mappings":";;AAAA,SAASA,MAAM,QAAQ,kBAAkB;AAEzC,SAASC,WAAW,QAAQ,OAAO;AACnC,SAASC,WAAW,QAAQ,aAAa;AAGzC,SAASC,cAAc,QAAQ,wBAAwB;AACvD,OAAOC,YAAY,MAAM,uBAAuB;AAEhD,OAAO,SAASC,oBAAoBA,CAAA,EAAoE;EAAAC,EAAA;EACtG,MAAMC,QAAQ,GAAGL,WAAW,CAAc,CAAC;;EAE3C;EACA,OAAOD,WAAW;IAAA,IAAAO,IAAA,GAAAC,iBAAA,CAChB,WAAOC,OAAe,EAA0B;MAAA,IAAxBC,YAAY,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;MACzC,MAAMG,SAAS,GAAGf,MAAM,CAAC,CAAC;MAC1BW,YAAY,IAAIJ,QAAQ,CAACJ,cAAc,CAACa,OAAO,CAAC;QAAED,SAAS;QAAEE,GAAG,EAAEP;MAAQ,CAAC,CAAC,CAAC;MAC7E,OAAON,YAAY,CAACM,OAAO,CAAC,CACzBQ,IAAI,CAAEC,SAAS,IAAK;QACnBR,YAAY,IAAIJ,QAAQ,CAACJ,cAAc,CAACiB,SAAS,CAAC;UAAEH,GAAG,EAAEP,OAAO;UAAES,SAAS;UAAEJ;QAAU,CAAC,CAAC,CAAC;QAC1F,OAAOI,SAAS;MAClB,CAAC,CAAC,CACDE,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,KAAK,8BAAAC,MAAA,CAA8Bf,OAAO,GAAIY,KAAK,CAAC;QAC5DX,YAAY,IAAIJ,QAAQ,CAACJ,cAAc,CAACuB,QAAQ,CAAC;UAAET,GAAG,EAAEP,OAAO;UAAEK,SAAS;UAAEY,YAAY,EAAEL,KAAK,CAACM;QAAQ,CAAC,CAAC,CAAC;QAC3G,MAAMN,KAAK;MACb,CAAC,CAAC;IACN,CAAC;IAAA,iBAAAO,EAAA;MAAA,OAAArB,IAAA,CAAAsB,KAAA,OAAAlB,SAAA;IAAA;EAAA,KACD,CAACL,QAAQ,CACX,CAAC;AACH;AAACD,EAAA,CArBeD,oBAAoB;EAAA,QACjBH,WAAW;AAAA"},"metadata":{},"sourceType":"module"}