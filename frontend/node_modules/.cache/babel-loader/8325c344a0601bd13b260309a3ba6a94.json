{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useCeloState = void 0;\nconst base_1 = require(\"@celo/contractkit/lib/base\");\nconst react_1 = require(\"react\");\nconst connectors_1 = require(\"./connectors\");\nconst constants_1 = require(\"./constants\");\nconst use_is_mounted_1 = require(\"./hooks/use-is-mounted\");\nconst react_celo_reducer_1 = require(\"./react-celo-reducer\");\nconst get_initial_network_1 = require(\"./utils/get-initial-network\");\nconst helpers_1 = require(\"./utils/helpers\");\nconst resurrector_1 = require(\"./utils/resurrector\");\nconst initialState = {\n  connector: new connectors_1.UnauthenticatedConnector(constants_1.Mainnet),\n  connectorInitError: null,\n  manualNetworkMode: false,\n  dapp: {\n    name: 'Celo dApp',\n    description: 'Celo dApp',\n    url: 'https://celo.org',\n    icon: 'https://celo.org/favicon.ico'\n  },\n  walletChainId: null,\n  network: constants_1.Mainnet,\n  networks: constants_1.DEFAULT_NETWORKS,\n  pendingActionCount: 0,\n  address: null,\n  connectionCallback: null,\n  feeCurrency: base_1.CeloContract.GoldToken,\n  theme: null\n};\nfunction useDispatch(dispatch) {\n  const isMountedRef = (0, use_is_mounted_1.useIsMounted)();\n  return (0, react_1.useCallback)(function (type) {\n    if (isMountedRef.current) {\n      dispatch({\n        type,\n        payload: arguments.length <= 1 ? undefined : arguments[1]\n      });\n    }\n  }, [dispatch, isMountedRef]);\n}\nfunction useCeloState(_ref) {\n  let {\n    dapp,\n    network,\n    defaultNetwork,\n    manualNetworkMode,\n    theme,\n    networks,\n    feeCurrency\n  } = _ref;\n  var _a;\n  const stateFromLocalStorage = (0, react_1.useMemo)(() => (0, helpers_1.loadPreviousState)(),\n  // We only want this to run on mount so the deps array is empty.\n  // This is OK because the stateFromLocalStorage is only used to create the initial reducer state\n  /* eslint-disable-next-line */\n  []);\n  const connector = (0, react_1.useMemo)(() => {\n    return (0, resurrector_1.resurrector)(networks, dapp, manualNetworkMode !== null && manualNetworkMode !== void 0 ? manualNetworkMode : initialState.manualNetworkMode);\n    /* eslint-disable-next-line */\n  }, []);\n  const initialNetwork = (0, get_initial_network_1.getInitialNetwork)(networks, defaultNetwork, network, stateFromLocalStorage.networkName);\n  const [state, _dispatch] = (0, react_1.useReducer)(react_celo_reducer_1.celoReactReducer, Object.assign(Object.assign({}, initialState), {\n    manualNetworkMode: manualNetworkMode !== null && manualNetworkMode !== void 0 ? manualNetworkMode : initialState.manualNetworkMode,\n    address: stateFromLocalStorage.address,\n    connector: connector || initialState.connector,\n    network: initialNetwork,\n    feeCurrency: stateFromLocalStorage.feeCurrency || feeCurrency || base_1.CeloContract.GoldToken,\n    networks,\n    theme,\n    dapp: Object.assign(Object.assign({}, dapp), {\n      icon: (_a = dapp.icon) !== null && _a !== void 0 ? _a : \"\".concat(dapp.url, \"/favicon.ico\")\n    })\n  }));\n  const dispatch = useDispatch(_dispatch);\n  return [state, dispatch];\n}\nexports.useCeloState = useCeloState;","map":{"version":3,"names":["Object","defineProperty","exports","value","useCeloState","base_1","require","react_1","connectors_1","constants_1","use_is_mounted_1","react_celo_reducer_1","get_initial_network_1","helpers_1","resurrector_1","initialState","connector","UnauthenticatedConnector","Mainnet","connectorInitError","manualNetworkMode","dapp","name","description","url","icon","walletChainId","network","networks","DEFAULT_NETWORKS","pendingActionCount","address","connectionCallback","feeCurrency","CeloContract","GoldToken","theme","useDispatch","dispatch","isMountedRef","useIsMounted","useCallback","type","current","payload","arguments","length","undefined","_ref","defaultNetwork","_a","stateFromLocalStorage","useMemo","loadPreviousState","resurrector","initialNetwork","getInitialNetwork","networkName","state","_dispatch","useReducer","celoReactReducer","assign","concat"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@celo/react-celo/lib/react-celo-provider-state.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useCeloState = void 0;\nconst base_1 = require(\"@celo/contractkit/lib/base\");\nconst react_1 = require(\"react\");\nconst connectors_1 = require(\"./connectors\");\nconst constants_1 = require(\"./constants\");\nconst use_is_mounted_1 = require(\"./hooks/use-is-mounted\");\nconst react_celo_reducer_1 = require(\"./react-celo-reducer\");\nconst get_initial_network_1 = require(\"./utils/get-initial-network\");\nconst helpers_1 = require(\"./utils/helpers\");\nconst resurrector_1 = require(\"./utils/resurrector\");\nconst initialState = {\n    connector: new connectors_1.UnauthenticatedConnector(constants_1.Mainnet),\n    connectorInitError: null,\n    manualNetworkMode: false,\n    dapp: {\n        name: 'Celo dApp',\n        description: 'Celo dApp',\n        url: 'https://celo.org',\n        icon: 'https://celo.org/favicon.ico',\n    },\n    walletChainId: null,\n    network: constants_1.Mainnet,\n    networks: constants_1.DEFAULT_NETWORKS,\n    pendingActionCount: 0,\n    address: null,\n    connectionCallback: null,\n    feeCurrency: base_1.CeloContract.GoldToken,\n    theme: null,\n};\nfunction useDispatch(dispatch) {\n    const isMountedRef = (0, use_is_mounted_1.useIsMounted)();\n    return (0, react_1.useCallback)((type, ...payload) => {\n        if (isMountedRef.current) {\n            dispatch({ type, payload: payload[0] });\n        }\n    }, [dispatch, isMountedRef]);\n}\nfunction useCeloState({ dapp, network, defaultNetwork, manualNetworkMode, theme, networks, feeCurrency, }) {\n    var _a;\n    const stateFromLocalStorage = (0, react_1.useMemo)(() => (0, helpers_1.loadPreviousState)(), \n    // We only want this to run on mount so the deps array is empty.\n    // This is OK because the stateFromLocalStorage is only used to create the initial reducer state\n    /* eslint-disable-next-line */\n    []);\n    const connector = (0, react_1.useMemo)(() => {\n        return (0, resurrector_1.resurrector)(networks, dapp, manualNetworkMode !== null && manualNetworkMode !== void 0 ? manualNetworkMode : initialState.manualNetworkMode);\n        /* eslint-disable-next-line */\n    }, []);\n    const initialNetwork = (0, get_initial_network_1.getInitialNetwork)(networks, defaultNetwork, network, stateFromLocalStorage.networkName);\n    const [state, _dispatch] = (0, react_1.useReducer)(react_celo_reducer_1.celoReactReducer, Object.assign(Object.assign({}, initialState), { manualNetworkMode: manualNetworkMode !== null && manualNetworkMode !== void 0 ? manualNetworkMode : initialState.manualNetworkMode, address: stateFromLocalStorage.address, connector: connector || initialState.connector, network: initialNetwork, feeCurrency: stateFromLocalStorage.feeCurrency ||\n            feeCurrency ||\n            base_1.CeloContract.GoldToken, networks,\n        theme, dapp: Object.assign(Object.assign({}, dapp), { icon: (_a = dapp.icon) !== null && _a !== void 0 ? _a : `${dapp.url}/favicon.ico` }) }));\n    const dispatch = useDispatch(_dispatch);\n    return [state, dispatch];\n}\nexports.useCeloState = useCeloState;\n//# sourceMappingURL=react-celo-provider-state.js.map"],"mappings":"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"},"metadata":{},"sourceType":"script"}