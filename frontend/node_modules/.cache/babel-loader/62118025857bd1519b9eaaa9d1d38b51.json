{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18;import{useCelo,WalletTypes}from'@celo/react-celo';import React,{useCallback,useContext}from'react';import{ExternalLink as LinkIcon}from'react-feather';import{useDispatch}from'react-redux';import{useCloseModals}from'state/application/hooks';import styled,{ThemeContext}from'styled-components';import{ReactComponent as Close}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/images/x.svg\";import{clearAllTransactions}from'../../state/transactions/actions';import{ExternalLink,LinkStyledButton,TYPE}from'../../theme';import{shortenAddress}from'../../utils';import{ButtonSecondary}from'../Button';import Identicon from'../Identicon';import{AutoRow}from'../Row';import Copy from'./Copy';import Transaction from'./Transaction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const HeaderRow=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  \",\";\\n  padding: 1rem 1rem;\\n  font-weight: 500;\\n  color: \",\";\\n  \",\";\\n\"])),_ref=>{let{theme}=_ref;return theme.flexRowNoWrap;},props=>props.color==='blue'?_ref2=>{let{theme}=_ref2;return theme.primary1;}:'inherit',_ref3=>{let{theme}=_ref3;return theme.mediaWidth.upToMedium(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    padding: 1rem;\\n  \"])));});const UpperSection=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  position: relative;\\n\\n  h5 {\\n    margin: 0;\\n    margin-bottom: 0.5rem;\\n    font-size: 1rem;\\n    font-weight: 400;\\n  }\\n\\n  h5:last-child {\\n    margin-bottom: 0px;\\n  }\\n\\n  h4 {\\n    margin-top: 0;\\n    font-weight: 500;\\n  }\\n\"])));const InfoCard=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  padding: 1rem;\\n  border: 1px solid \",\";\\n  border-radius: 20px;\\n  position: relative;\\n  display: grid;\\n  grid-row-gap: 12px;\\n  margin-bottom: 20px;\\n\"])),_ref4=>{let{theme}=_ref4;return theme.bg3;});const AccountGroupingRow=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  \",\";\\n  justify-content: space-between;\\n  align-items: center;\\n  font-weight: 400;\\n  color: \",\";\\n\\n  div {\\n    \",\"\\n    align-items: center;\\n  }\\n\"])),_ref5=>{let{theme}=_ref5;return theme.flexRowNoWrap;},_ref6=>{let{theme}=_ref6;return theme.text1;},_ref7=>{let{theme}=_ref7;return theme.flexRowNoWrap;});const AccountSection=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  padding: 0rem 1rem;\\n  \",\";\\n\"])),_ref8=>{let{theme}=_ref8;return theme.bg1;},_ref9=>{let{theme}=_ref9;return theme.mediaWidth.upToMedium(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"padding: 0rem 1rem 1.5rem 1rem;\"])));});const YourAccount=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  h5 {\\n    margin: 0 0 1rem 0;\\n    font-weight: 400;\\n  }\\n\\n  h4 {\\n    margin: 0;\\n    font-weight: 500;\\n  }\\n\"])));const LowerSection=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  \",\"\\n  padding: 1.5rem;\\n  flex-grow: 1;\\n  overflow: auto;\\n  background-color: \",\";\\n  border-bottom-left-radius: 20px;\\n  border-bottom-right-radius: 20px;\\n\\n  h5 {\\n    margin: 0;\\n    font-weight: 400;\\n    color: \",\";\\n  }\\n\"])),_ref10=>{let{theme}=_ref10;return theme.flexColumnNoWrap;},_ref11=>{let{theme}=_ref11;return theme.bg2;},_ref12=>{let{theme}=_ref12;return theme.text3;});const AccountControl=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  min-width: 0;\\n  width: 100%;\\n\\n  font-weight: 500;\\n  font-size: 1.25rem;\\n\\n  a:hover {\\n    text-decoration: underline;\\n  }\\n\\n  p {\\n    min-width: 0;\\n    margin: 0;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n  }\\n\"])));const AddressLink=styled(ExternalLink)(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  font-size: 0.825rem;\\n  color: \",\";\\n  margin-left: 1rem;\\n  font-size: 0.825rem;\\n  display: flex;\\n  :hover {\\n    color: \",\";\\n  }\\n\"])),_ref13=>{let{theme}=_ref13;return theme.text3;},_ref14=>{let{theme}=_ref14;return theme.text2;});const CloseIcon=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  right: 1rem;\\n  top: 14px;\\n  &:hover {\\n    cursor: pointer;\\n    opacity: 0.6;\\n  }\\n\"])));const CloseColor=styled(Close)(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  path {\\n    stroke: \",\";\\n  }\\n\"])),_ref15=>{let{theme}=_ref15;return theme.text4;});const WalletName=styled.div(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  width: initial;\\n  font-size: 0.825rem;\\n  font-weight: 500;\\n  color: \",\";\\n\"])),_ref16=>{let{theme}=_ref16;return theme.text3;});const IconWrapper=styled.div(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  \",\";\\n  align-items: center;\\n  justify-content: center;\\n  margin-right: 8px;\\n  & > img,\\n  span {\\n    height: \",\";\\n    width: \",\";\\n  }\\n  \",\";\\n\"])),_ref17=>{let{theme}=_ref17;return theme.flexColumnNoWrap;},_ref18=>{let{size}=_ref18;return size?size+'px':'32px';},_ref19=>{let{size}=_ref19;return size?size+'px':'32px';},_ref20=>{let{theme}=_ref20;return theme.mediaWidth.upToMedium(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n    align-items: flex-end;\\n  \"])));});const TransactionListWrapper=styled.div(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  \",\";\\n\"])),_ref21=>{let{theme}=_ref21;return theme.flexColumnNoWrap;});const WalletAction=styled(ButtonSecondary)(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  width: fit-content;\\n  font-weight: 400;\\n  margin-left: 8px;\\n  font-size: 0.825rem;\\n  padding: 4px 6px;\\n  :hover {\\n    cursor: pointer;\\n    text-decoration: underline;\\n  }\\n\"])));function renderTransactions(transactions){return/*#__PURE__*/_jsx(TransactionListWrapper,{children:transactions.map((hash,i)=>{return/*#__PURE__*/_jsx(Transaction,{hash:hash},i);})});}export default function AccountDetails(_ref22){let{toggleWalletModal,pendingTransactions,confirmedTransactions,ENSName}=_ref22;const{connect,destroy,address,walletType,network}=useCelo();const chainId=network.chainId;const closeModals=useCloseModals();const theme=useContext(ThemeContext);const dispatch=useDispatch();function formatConnectorName(){if(walletType===WalletTypes.Unauthenticated){return null;}// TODO(igm): should be valora??\n// const name = walletType === WalletTypes.? SupportedProviders.Valora : SupportedProviders[walletType]\nreturn/*#__PURE__*/_jsxs(WalletName,{children:['Connected with',\" \",walletType]});}function getStatusIcon(){if(walletType===WalletTypes.MetaMask){return/*#__PURE__*/_jsx(IconWrapper,{size:16,children:/*#__PURE__*/_jsx(Identicon,{})});}return null;}const clearAllTransactionsCallback=useCallback(()=>{if(chainId)dispatch(clearAllTransactions({chainId}));},[dispatch,chainId]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(UpperSection,{children:[/*#__PURE__*/_jsx(CloseIcon,{onClick:toggleWalletModal,children:/*#__PURE__*/_jsx(CloseColor,{})}),/*#__PURE__*/_jsx(HeaderRow,{children:\"Account\"}),/*#__PURE__*/_jsx(AccountSection,{children:/*#__PURE__*/_jsx(YourAccount,{children:/*#__PURE__*/_jsxs(InfoCard,{children:[/*#__PURE__*/_jsxs(AccountGroupingRow,{children:[formatConnectorName(),/*#__PURE__*/_jsxs(\"div\",{children:[address&&/*#__PURE__*/_jsx(WalletAction,{style:{fontSize:'.825rem',fontWeight:400,marginRight:'8px'},onClick:destroy,children:'Disconnect'}),/*#__PURE__*/_jsx(WalletAction,{style:{fontSize:'.825rem',fontWeight:400},onClick:()=>{closeModals();connect();},children:'Change'})]})]}),/*#__PURE__*/_jsx(AccountGroupingRow,{id:\"web3-account-identifier-row\",children:/*#__PURE__*/_jsx(AccountControl,{children:/*#__PURE__*/_jsxs(\"div\",{children:[getStatusIcon(),ENSName?/*#__PURE__*/_jsxs(\"p\",{children:[\" \",ENSName]}):/*#__PURE__*/_jsxs(\"p\",{children:[\" \",address&&shortenAddress(address)]})]})})}),/*#__PURE__*/_jsx(AccountGroupingRow,{children:ENSName?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(AccountControl,{children:/*#__PURE__*/_jsxs(\"div\",{children:[address&&/*#__PURE__*/_jsx(Copy,{toCopy:address,children:/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'4px'},children:'Copy address'})}),chainId&&address&&/*#__PURE__*/_jsxs(AddressLink,{hasENS:!!ENSName,isENS:true,href:\"\".concat(network.explorer,\"/address/\").concat(address),children:[/*#__PURE__*/_jsx(LinkIcon,{size:16}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'4px'},children:'View on Celo Explorer'})]})]})})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(AccountControl,{children:/*#__PURE__*/_jsxs(\"div\",{children:[address&&/*#__PURE__*/_jsx(Copy,{toCopy:address,children:/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'4px'},children:'Copy address'})}),chainId&&address&&/*#__PURE__*/_jsxs(AddressLink,{hasENS:!!ENSName,isENS:false,href:\"\".concat(network.explorer,\"/address/\").concat(address),children:[/*#__PURE__*/_jsx(LinkIcon,{size:16}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'4px'},children:'View on Celo Explorer'})]})]})})})})]})})})]}),!!pendingTransactions.length||!!confirmedTransactions.length?/*#__PURE__*/_jsxs(LowerSection,{children:[/*#__PURE__*/_jsxs(AutoRow,{mb:'1rem',style:{justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(TYPE.body,{children:'Recent transactions'}),/*#__PURE__*/_jsxs(LinkStyledButton,{onClick:clearAllTransactionsCallback,children:[\"(\",'Clear all',\")\"]})]}),renderTransactions(pendingTransactions),renderTransactions(confirmedTransactions)]}):/*#__PURE__*/_jsx(LowerSection,{children:/*#__PURE__*/_jsx(TYPE.body,{color:theme.text1,children:'Your transactions will appear here...'})})]});}","map":null,"metadata":{},"sourceType":"module"}