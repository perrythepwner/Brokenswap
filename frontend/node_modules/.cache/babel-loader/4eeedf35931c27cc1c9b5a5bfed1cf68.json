{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KeyValueStorage = void 0;\nconst tslib_1 = require(\"tslib\");\nconst safe_json_utils_1 = require(\"safe-json-utils\");\nconst localStorage_1 = tslib_1.__importDefault(require(\"./lib/localStorage\"));\nconst shared_1 = require(\"../shared\");\nclass KeyValueStorage {\n  constructor() {\n    this.localStorage = localStorage_1.default;\n  }\n  getKeys() {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return Object.keys(this.localStorage);\n    });\n  }\n  getEntries() {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return Object.entries(this.localStorage).map(shared_1.parseEntry);\n    });\n  }\n  getItem(key) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      const item = this.localStorage.getItem(key);\n      if (item === null) {\n        return undefined;\n      }\n      return safe_json_utils_1.safeJsonParse(item);\n    });\n  }\n  setItem(key, value) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.localStorage.setItem(key, safe_json_utils_1.safeJsonStringify(value));\n    });\n  }\n  removeItem(key) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.localStorage.removeItem(key);\n    });\n  }\n}\nexports.KeyValueStorage = KeyValueStorage;\nexports.default = KeyValueStorage;","map":{"version":3,"sources":["../../../src/browser/index.ts"],"names":[],"mappings":";;;;;;;AAAA,MAAA,iBAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;AACA,MAAA,cAAA,GAAA,OAAA,CAAA,eAAA,CAAA,OAAA,CAAA,oBAAA,CAAA,CAAA;AAEA,MAAA,QAAA,GAAA,OAAA,CAAA,WAAA,CAAA;AAEA,MAAa,eAAe,CAAA;EAA5B,WAAA,CAAA,EAAA;IACmB,IAAA,CAAA,YAAY,GAAY,cAAA,CAAA,OAAY;EA0BvD;EAxBe,OAAO,CAAA,EAAA;;MAClB,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;IACvC,CAAC,CAAA;EAAA;EAEY,UAAU,CAAA,EAAA;;MACrB,OAAO,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,QAAA,CAAA,UAAU,CAAC;IAC1D,CAAC,CAAA;EAAA;EAEY,OAAO,CAAU,GAAW,EAAA;;MACvC,MAAM,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC;MAC3C,IAAI,IAAI,KAAK,IAAI,EAAE;QACjB,OAAO,SAAS;MACjB;MAED,OAAO,iBAAA,CAAA,aAAa,CAAC,IAAI,CAAM;IACjC,CAAC,CAAA;EAAA;EAEY,OAAO,CAAU,GAAW,EAAE,KAAQ,EAAA;;MACjD,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,iBAAA,CAAA,iBAAiB,CAAC,KAAK,CAAC,CAAC;IAC1D,CAAC,CAAA;EAAA;EAEY,UAAU,CAAC,GAAW,EAAA;;MACjC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC;IACnC,CAAC,CAAA;EAAA;AACF;AA3BD,OAAA,CAAA,eAAA,GAAA,eAAA;AA6BA,OAAA,CAAA,OAAA,GAAe,eAAe","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeyValueStorage = void 0;\nconst tslib_1 = require(\"tslib\");\nconst safe_json_utils_1 = require(\"safe-json-utils\");\nconst localStorage_1 = tslib_1.__importDefault(require(\"./lib/localStorage\"));\nconst shared_1 = require(\"../shared\");\nclass KeyValueStorage {\n    constructor() {\n        this.localStorage = localStorage_1.default;\n    }\n    getKeys() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            return Object.keys(this.localStorage);\n        });\n    }\n    getEntries() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            return Object.entries(this.localStorage).map(shared_1.parseEntry);\n        });\n    }\n    getItem(key) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const item = this.localStorage.getItem(key);\n            if (item === null) {\n                return undefined;\n            }\n            return safe_json_utils_1.safeJsonParse(item);\n        });\n    }\n    setItem(key, value) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.localStorage.setItem(key, safe_json_utils_1.safeJsonStringify(value));\n        });\n    }\n    removeItem(key) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.localStorage.removeItem(key);\n        });\n    }\n}\nexports.KeyValueStorage = KeyValueStorage;\nexports.default = KeyValueStorage;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}