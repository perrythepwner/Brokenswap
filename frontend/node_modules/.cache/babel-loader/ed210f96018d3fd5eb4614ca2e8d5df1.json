{"ast":null,"code":"\"use strict\";\n\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BrowserRandomSource = void 0;\nconst QUOTA = 65536;\nclass BrowserRandomSource {\n  constructor() {\n    this.isAvailable = false;\n    this.isInstantiated = false;\n    const browserCrypto = typeof self !== 'undefined' ? self.crypto || self.msCrypto // IE11 has msCrypto\n    : null;\n    if (browserCrypto && browserCrypto.getRandomValues !== undefined) {\n      this._crypto = browserCrypto;\n      this.isAvailable = true;\n      this.isInstantiated = true;\n    }\n  }\n  randomBytes(length) {\n    if (!this.isAvailable || !this._crypto) {\n      throw new Error(\"Browser random byte generator is not available.\");\n    }\n    const out = new Uint8Array(length);\n    for (let i = 0; i < out.length; i += QUOTA) {\n      this._crypto.getRandomValues(out.subarray(i, i + Math.min(out.length - i, QUOTA)));\n    }\n    return out;\n  }\n}\nexports.BrowserRandomSource = BrowserRandomSource;","map":{"version":3,"sources":["../../source/browser.ts"],"names":[],"mappings":";;AAAA;AACA;;;;;AAIA,MAAM,KAAK,GAAG,KAAK;AAEnB,MAAa,mBAAmB,CAAA;EAM5B,WAAA,CAAA,EAAA;IALA,IAAA,CAAA,WAAW,GAAG,KAAK;IACnB,IAAA,CAAA,cAAc,GAAG,KAAK;IAKlB,MAAM,aAAa,GAAG,OAAO,IAAI,KAAK,WAAW,GAC1C,IAAI,CAAC,MAAM,IAAK,IAA2B,CAAC,QAAQ,CAAE;IAAA,EACvD,IAAI;IAEV,IAAI,aAAa,IAAI,aAAa,CAAC,eAAe,KAAK,SAAS,EAAE;MAC9D,IAAI,CAAC,OAAO,GAAG,aAAa;MAC5B,IAAI,CAAC,WAAW,GAAG,IAAI;MACvB,IAAI,CAAC,cAAc,GAAG,IAAI;IAC7B;EACL;EAEA,WAAW,CAAC,MAAc,EAAA;IACtB,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;MACpC,MAAM,IAAI,KAAK,CAAC,iDAAiD,CAAC;IACrE;IACD,MAAM,GAAG,GAAG,IAAI,UAAU,CAAC,MAAM,CAAC;IAClC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,IAAI,KAAK,EAAE;MACxC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;IACrF;IACD,OAAO,GAAG;EACd;AACH;AA5BD,OAAA,CAAA,mBAAA,GAAA,mBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserRandomSource = void 0;\nconst QUOTA = 65536;\nclass BrowserRandomSource {\n    constructor() {\n        this.isAvailable = false;\n        this.isInstantiated = false;\n        const browserCrypto = typeof self !== 'undefined'\n            ? (self.crypto || self.msCrypto) // IE11 has msCrypto\n            : null;\n        if (browserCrypto && browserCrypto.getRandomValues !== undefined) {\n            this._crypto = browserCrypto;\n            this.isAvailable = true;\n            this.isInstantiated = true;\n        }\n    }\n    randomBytes(length) {\n        if (!this.isAvailable || !this._crypto) {\n            throw new Error(\"Browser random byte generator is not available.\");\n        }\n        const out = new Uint8Array(length);\n        for (let i = 0; i < out.length; i += QUOTA) {\n            this._crypto.getRandomValues(out.subarray(i, i + Math.min(out.length - i, QUOTA)));\n        }\n        return out;\n    }\n}\nexports.BrowserRandomSource = BrowserRandomSource;\n//# sourceMappingURL=browser.js.map"]},"metadata":{},"sourceType":"script"}