{"ast":null,"code":"import _asyncToGenerator from\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8;import Card from'components/Card';import{UNSUPPORTED_LIST_URLS}from'constants/lists';import{useListColor}from'hooks/useColor';import React,{memo,useCallback,useEffect,useMemo,useRef,useState}from'react';import{CheckCircle,Settings}from'react-feather';import ReactGA from'react-ga';import{usePopper}from'react-popper';import{useDispatch,useSelector}from'react-redux';import styled from'styled-components';import{useFetchListCallback}from'../../hooks/useFetchListCallback';import{useOnClickOutside}from'../../hooks/useOnClickOutside';import useTheme from'../../hooks/useTheme';import useToggle from'../../hooks/useToggle';import{acceptListUpdate,disableList,enableList,removeList}from'../../state/lists/actions';import{useActiveListUrls,useAllLists,useIsListActive}from'../../state/lists/hooks';import{ExternalLink,IconWrapper,LinkStyledButton,TYPE}from'../../theme';import listVersionLabel from'../../utils/listVersionLabel';import{parseENSAddress}from'../../utils/parseENSAddress';import uriToHttp from'../../utils/uriToHttp';import{ButtonEmpty,ButtonPrimary}from'../Button';import Column,{AutoColumn}from'../Column';import ListLogo from'../ListLogo';import Row,{RowBetween,RowFixed}from'../Row';import ListToggle from'../Toggle/ListToggle';import{CurrencyModalView}from'./CurrencySearchModal';import{PaddedColumn,SearchInput,Separator,SeparatorDark}from'./styleds';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Wrapper=styled(Column)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n\"])));const UnpaddedLinkStyledButton=styled(LinkStyledButton)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  padding: 0;\\n  font-size: 1rem;\\n  opacity: \",\";\\n\"])),_ref=>{let{disabled}=_ref;return disabled?'0.4':'1';});const PopoverContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  z-index: 100;\\n  visibility: \",\";\\n  opacity: \",\";\\n  transition: visibility 150ms linear, opacity 150ms linear;\\n  background: \",\";\\n  border: 1px solid \",\";\\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\\n    0px 24px 32px rgba(0, 0, 0, 0.01);\\n  color: \",\";\\n  border-radius: 0.5rem;\\n  padding: 1rem;\\n  display: grid;\\n  grid-template-rows: 1fr;\\n  grid-gap: 8px;\\n  font-size: 1rem;\\n  text-align: left;\\n\"])),props=>props.show?'visible':'hidden',props=>props.show?1:0,_ref2=>{let{theme}=_ref2;return theme.bg2;},_ref3=>{let{theme}=_ref3;return theme.bg3;},_ref4=>{let{theme}=_ref4;return theme.text2;});const StyledMenu=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  position: relative;\\n  border: none;\\n\"])));const StyledTitleText=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-size: 16px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  font-weight: 600;\\n  color: \",\";\\n\"])),_ref5=>{let{theme,active}=_ref5;return active?theme.white:theme.text2;});const StyledListUrlText=styled(TYPE.main)(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  font-size: 12px;\\n  color: \",\";\\n\"])),_ref6=>{let{theme,active}=_ref6;return active?theme.white:theme.text2;});const RowWrapper=styled(Row)(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  transition: 200ms;\\n  align-items: center;\\n  padding: 1rem;\\n  border-radius: 20px;\\n\"])),_ref7=>{let{bgColor,active,theme}=_ref7;return active?bgColor!==null&&bgColor!==void 0?bgColor:'transparent':theme.bg2;});function listUrlRowHTMLId(listUrl){return\"list-row-\".concat(listUrl.replace(/\\./g,'-'));}const ListRow=/*#__PURE__*/memo(function ListRow(_ref8){let{listUrl}=_ref8;const listsByUrl=useSelector(state=>state.lists.byUrl);const dispatch=useDispatch();const{current:list,pendingUpdate:pending}=listsByUrl[listUrl];const theme=useTheme();const listColor=useListColor(list===null||list===void 0?void 0:list.logoURI);const isActive=useIsListActive(listUrl);const[open,toggle]=useToggle(false);const node=useRef();const[referenceElement,setReferenceElement]=useState();const[popperElement,setPopperElement]=useState();const{styles,attributes}=usePopper(referenceElement,popperElement,{placement:'auto',strategy:'fixed',modifiers:[{name:'offset',options:{offset:[8,8]}}]});useOnClickOutside(node,open?toggle:undefined);const handleAcceptListUpdate=useCallback(()=>{if(!pending)return;ReactGA.event({category:'Lists',action:'Update List from List Select',label:listUrl});dispatch(acceptListUpdate(listUrl));},[dispatch,listUrl,pending]);const handleRemoveList=useCallback(()=>{ReactGA.event({category:'Lists',action:'Start Remove List',label:listUrl});if(window.prompt(\"Please confirm you would like to remove this list by typing REMOVE\")===\"REMOVE\"){ReactGA.event({category:'Lists',action:'Confirm Remove List',label:listUrl});dispatch(removeList(listUrl));}},[dispatch,listUrl]);const handleEnableList=useCallback(()=>{ReactGA.event({category:'Lists',action:'Enable List',label:listUrl});dispatch(enableList(listUrl));},[dispatch,listUrl]);const handleDisableList=useCallback(()=>{ReactGA.event({category:'Lists',action:'Disable List',label:listUrl});dispatch(disableList(listUrl));},[dispatch,listUrl]);if(!list)return null;return/*#__PURE__*/_jsxs(RowWrapper,{active:isActive,bgColor:listColor,id:listUrlRowHTMLId(listUrl),children:[list.logoURI?/*#__PURE__*/_jsx(ListLogo,{size:\"40px\",style:{marginRight:'1rem'},logoURI:list.logoURI,alt:\"\".concat(list.name,\" list logo\")}):/*#__PURE__*/_jsx(\"div\",{style:{width:'24px',height:'24px',marginRight:'1rem'}}),/*#__PURE__*/_jsxs(Column,{style:{flex:'1'},children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(StyledTitleText,{active:isActive,children:list.name})}),/*#__PURE__*/_jsxs(RowFixed,{mt:\"4px\",children:[/*#__PURE__*/_jsxs(StyledListUrlText,{active:isActive,mr:\"6px\",children:[list.tokens.length,\" tokens\"]}),/*#__PURE__*/_jsxs(StyledMenu,{ref:node,children:[/*#__PURE__*/_jsx(ButtonEmpty,{onClick:toggle,ref:setReferenceElement,padding:\"0\",children:/*#__PURE__*/_jsx(Settings,{stroke:isActive?theme.bg1:theme.text1,size:12})}),open&&/*#__PURE__*/_jsxs(PopoverContainer,_objectSpread(_objectSpread({show:true,ref:setPopperElement,style:styles.popper},attributes.popper),{},{children:[/*#__PURE__*/_jsx(\"div\",{children:list&&listVersionLabel(list.version)}),/*#__PURE__*/_jsx(SeparatorDark,{}),/*#__PURE__*/_jsx(ExternalLink,{href:\"https://tokenlists.org/token-list?url=\".concat(listUrl),children:\"View list\"}),/*#__PURE__*/_jsx(UnpaddedLinkStyledButton,{onClick:handleRemoveList,disabled:Object.keys(listsByUrl).length===1,children:\"Remove list\"}),pending&&/*#__PURE__*/_jsx(UnpaddedLinkStyledButton,{onClick:handleAcceptListUpdate,children:\"Update list\"})]}))]})]})]}),/*#__PURE__*/_jsx(ListToggle,{isActive:isActive,bgColor:listColor,toggle:()=>{isActive?handleDisableList():handleEnableList();}})]},listUrl);});const ListContainer=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  padding: 1rem;\\n  height: 100%;\\n  overflow: auto;\\n  padding-bottom: 80px;\\n\"])));export function ManageLists(_ref9){let{setModalView,setImportList,setListUrl}=_ref9;const theme=useTheme();const[listUrlInput,setListUrlInput]=useState('');const lists=useAllLists();// sort by active but only if not visible\nconst activeListUrls=useActiveListUrls();const[activeCopy,setActiveCopy]=useState();useEffect(()=>{if(!activeCopy&&activeListUrls){setActiveCopy(activeListUrls);}},[activeCopy,activeListUrls]);const handleInput=useCallback(e=>{setListUrlInput(e.target.value);},[]);const fetchList=useFetchListCallback();const validUrl=useMemo(()=>{return uriToHttp(listUrlInput).length>0||Boolean(parseENSAddress(listUrlInput));},[listUrlInput]);const sortedLists=useMemo(()=>{const listUrls=Object.keys(lists);return listUrls.filter(listUrl=>{// only show loaded lists, hide unsupported lists\nreturn Boolean(lists[listUrl].current)&&!UNSUPPORTED_LIST_URLS.includes(listUrl);}).sort((u1,u2)=>{const{current:l1}=lists[u1];const{current:l2}=lists[u2];// first filter on active lists\nif(activeCopy!==null&&activeCopy!==void 0&&activeCopy.includes(u1)&&!(activeCopy!==null&&activeCopy!==void 0&&activeCopy.includes(u2))){return-1;}if(!(activeCopy!==null&&activeCopy!==void 0&&activeCopy.includes(u1))&&activeCopy!==null&&activeCopy!==void 0&&activeCopy.includes(u2)){return 1;}if(l1&&l2){return l1.name.toLowerCase()<l2.name.toLowerCase()?-1:l1.name.toLowerCase()===l2.name.toLowerCase()?0:1;}if(l1)return-1;if(l2)return 1;return 0;});},[lists,activeCopy]);// temporary fetched list for import flow\nconst[tempList,setTempList]=useState();const[addError,setAddError]=useState();useEffect(()=>{function fetchTempList(){return _fetchTempList.apply(this,arguments);}// if valid url, fetch details for card\nfunction _fetchTempList(){_fetchTempList=_asyncToGenerator(function*(){fetchList(listUrlInput,false).then(list=>setTempList(list)).catch(()=>setAddError('Error importing list'));});return _fetchTempList.apply(this,arguments);}if(validUrl){fetchTempList();}else{setTempList(undefined);listUrlInput!==''&&setAddError('Enter valid list location');}// reset error\nif(listUrlInput===''){setAddError(undefined);}},[fetchList,listUrlInput,validUrl]);// check if list is already imported\nconst isImported=Object.keys(lists).includes(listUrlInput);// set list values and have parent modal switch to import list view\nconst handleImport=useCallback(()=>{if(!tempList)return;setImportList(tempList);setModalView(CurrencyModalView.importList);setListUrl(listUrlInput);},[listUrlInput,setImportList,setListUrl,setModalView,tempList]);return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsxs(PaddedColumn,{gap:\"14px\",children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(SearchInput,{type:\"text\",id:\"list-add-input\",placeholder:\"https:// or ipfs:// or ENS name\",value:listUrlInput,onChange:handleInput})}),addError?/*#__PURE__*/_jsx(TYPE.error,{title:addError,style:{textOverflow:'ellipsis',overflow:'hidden'},error:true,children:addError}):null]}),tempList&&/*#__PURE__*/_jsx(PaddedColumn,{style:{paddingTop:0},children:/*#__PURE__*/_jsx(Card,{backgroundColor:theme.bg2,padding:\"12px 20px\",children:/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsxs(RowFixed,{children:[tempList.logoURI&&/*#__PURE__*/_jsx(ListLogo,{logoURI:tempList.logoURI,size:\"40px\"}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"4px\",style:{marginLeft:'20px'},children:[/*#__PURE__*/_jsx(TYPE.body,{fontWeight:600,children:tempList.name}),/*#__PURE__*/_jsxs(TYPE.main,{fontSize:'12px',children:[tempList.tokens.length,\" tokens\"]})]})]}),isImported?/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(IconWrapper,{stroke:theme.text2,size:\"16px\",marginRight:'10px',children:/*#__PURE__*/_jsx(CheckCircle,{})}),/*#__PURE__*/_jsx(TYPE.body,{color:theme.text2,children:\"Loaded\"})]}):/*#__PURE__*/_jsx(ButtonPrimary,{style:{fontSize:'14px'},padding:\"6px 8px\",width:\"fit-content\",onClick:handleImport,children:\"Import\"})]})})}),/*#__PURE__*/_jsx(Separator,{}),/*#__PURE__*/_jsx(ListContainer,{children:/*#__PURE__*/_jsx(AutoColumn,{gap:\"md\",children:sortedLists.map(listUrl=>/*#__PURE__*/_jsx(ListRow,{listUrl:listUrl},listUrl))})})]});}","map":{"version":3,"names":["Card","UNSUPPORTED_LIST_URLS","useListColor","React","memo","useCallback","useEffect","useMemo","useRef","useState","CheckCircle","Settings","ReactGA","usePopper","useDispatch","useSelector","styled","useFetchListCallback","useOnClickOutside","useTheme","useToggle","acceptListUpdate","disableList","enableList","removeList","useActiveListUrls","useAllLists","useIsListActive","ExternalLink","IconWrapper","LinkStyledButton","TYPE","listVersionLabel","parseENSAddress","uriToHttp","ButtonEmpty","ButtonPrimary","Column","AutoColumn","ListLogo","Row","RowBetween","RowFixed","ListToggle","CurrencyModalView","PaddedColumn","SearchInput","Separator","SeparatorDark","jsx","_jsx","jsxs","_jsxs","Wrapper","_templateObject","_taggedTemplateLiteral","UnpaddedLinkStyledButton","_templateObject2","_ref","disabled","PopoverContainer","div","_templateObject3","props","show","_ref2","theme","bg2","_ref3","bg3","_ref4","text2","StyledMenu","_templateObject4","StyledTitleText","_templateObject5","_ref5","active","white","StyledListUrlText","main","_templateObject6","_ref6","RowWrapper","_templateObject7","_ref7","bgColor","listUrlRowHTMLId","listUrl","concat","replace","ListRow","_ref8","listsByUrl","state","lists","byUrl","dispatch","current","list","pendingUpdate","pending","listColor","logoURI","isActive","open","toggle","node","referenceElement","setReferenceElement","popperElement","setPopperElement","styles","attributes","placement","strategy","modifiers","name","options","offset","undefined","handleAcceptListUpdate","event","category","action","label","handleRemoveList","window","prompt","handleEnableList","handleDisableList","id","children","size","style","marginRight","alt","width","height","flex","mt","mr","tokens","length","ref","onClick","padding","stroke","bg1","text1","_objectSpread","popper","version","href","Object","keys","ListContainer","_templateObject8","ManageLists","_ref9","setModalView","setImportList","setListUrl","listUrlInput","setListUrlInput","activeListUrls","activeCopy","setActiveCopy","handleInput","e","target","value","fetchList","validUrl","Boolean","sortedLists","listUrls","filter","includes","sort","u1","u2","l1","l2","toLowerCase","tempList","setTempList","addError","setAddError","fetchTempList","_fetchTempList","apply","arguments","_asyncToGenerator","then","catch","isImported","handleImport","importList","gap","type","placeholder","onChange","error","title","textOverflow","overflow","paddingTop","backgroundColor","marginLeft","body","fontWeight","fontSize","color","map"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/src/components/SearchModal/ManageLists.tsx"],"sourcesContent":["import { TokenList } from '@uniswap/token-lists'\nimport Card from 'components/Card'\nimport { UNSUPPORTED_LIST_URLS } from 'constants/lists'\nimport { useListColor } from 'hooks/useColor'\nimport React, { memo, useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { CheckCircle, Settings } from 'react-feather'\nimport ReactGA from 'react-ga'\nimport { usePopper } from 'react-popper'\nimport { useDispatch, useSelector } from 'react-redux'\nimport styled from 'styled-components'\n\nimport { useFetchListCallback } from '../../hooks/useFetchListCallback'\nimport { useOnClickOutside } from '../../hooks/useOnClickOutside'\nimport useTheme from '../../hooks/useTheme'\nimport useToggle from '../../hooks/useToggle'\nimport { AppDispatch, AppState } from '../../state'\nimport { acceptListUpdate, disableList, enableList, removeList } from '../../state/lists/actions'\nimport { useActiveListUrls, useAllLists, useIsListActive } from '../../state/lists/hooks'\nimport { ExternalLink, IconWrapper, LinkStyledButton, TYPE } from '../../theme'\nimport listVersionLabel from '../../utils/listVersionLabel'\nimport { parseENSAddress } from '../../utils/parseENSAddress'\nimport uriToHttp from '../../utils/uriToHttp'\nimport { ButtonEmpty, ButtonPrimary } from '../Button'\nimport Column, { AutoColumn } from '../Column'\nimport ListLogo from '../ListLogo'\nimport Row, { RowBetween, RowFixed } from '../Row'\nimport ListToggle from '../Toggle/ListToggle'\nimport { CurrencyModalView } from './CurrencySearchModal'\nimport { PaddedColumn, SearchInput, Separator, SeparatorDark } from './styleds'\n\nconst Wrapper = styled(Column)`\n  width: 100%;\n  height: 100%;\n`\n\nconst UnpaddedLinkStyledButton = styled(LinkStyledButton)`\n  padding: 0;\n  font-size: 1rem;\n  opacity: ${({ disabled }) => (disabled ? '0.4' : '1')};\n`\n\nconst PopoverContainer = styled.div<{ show: boolean }>`\n  z-index: 100;\n  visibility: ${(props) => (props.show ? 'visible' : 'hidden')};\n  opacity: ${(props) => (props.show ? 1 : 0)};\n  transition: visibility 150ms linear, opacity 150ms linear;\n  background: ${({ theme }) => theme.bg2};\n  border: 1px solid ${({ theme }) => theme.bg3};\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\n    0px 24px 32px rgba(0, 0, 0, 0.01);\n  color: ${({ theme }) => theme.text2};\n  border-radius: 0.5rem;\n  padding: 1rem;\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-gap: 8px;\n  font-size: 1rem;\n  text-align: left;\n`\n\nconst StyledMenu = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  border: none;\n`\n\nconst StyledTitleText = styled.div<{ active: boolean }>`\n  font-size: 16px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: 600;\n  color: ${({ theme, active }) => (active ? theme.white : theme.text2)};\n`\n\nconst StyledListUrlText = styled(TYPE.main)<{ active: boolean }>`\n  font-size: 12px;\n  color: ${({ theme, active }) => (active ? theme.white : theme.text2)};\n`\n\nconst RowWrapper = styled(Row)<{ bgColor: string; active: boolean }>`\n  background-color: ${({ bgColor, active, theme }) => (active ? bgColor ?? 'transparent' : theme.bg2)};\n  transition: 200ms;\n  align-items: center;\n  padding: 1rem;\n  border-radius: 20px;\n`\n\nfunction listUrlRowHTMLId(listUrl: string) {\n  return `list-row-${listUrl.replace(/\\./g, '-')}`\n}\n\nconst ListRow = memo(function ListRow({ listUrl }: { listUrl: string }) {\n  const listsByUrl = useSelector<AppState, AppState['lists']['byUrl']>((state) => state.lists.byUrl)\n  const dispatch = useDispatch<AppDispatch>()\n  const { current: list, pendingUpdate: pending } = listsByUrl[listUrl]\n\n  const theme = useTheme()\n  const listColor = useListColor(list?.logoURI)\n  const isActive = useIsListActive(listUrl)\n\n  const [open, toggle] = useToggle(false)\n  const node = useRef<HTMLDivElement>()\n  const [referenceElement, setReferenceElement] = useState<HTMLDivElement>()\n  const [popperElement, setPopperElement] = useState<HTMLDivElement>()\n\n  const { styles, attributes } = usePopper(referenceElement, popperElement, {\n    placement: 'auto',\n    strategy: 'fixed',\n    modifiers: [{ name: 'offset', options: { offset: [8, 8] } }],\n  })\n\n  useOnClickOutside(node, open ? toggle : undefined)\n\n  const handleAcceptListUpdate = useCallback(() => {\n    if (!pending) return\n    ReactGA.event({\n      category: 'Lists',\n      action: 'Update List from List Select',\n      label: listUrl,\n    })\n    dispatch(acceptListUpdate(listUrl))\n  }, [dispatch, listUrl, pending])\n\n  const handleRemoveList = useCallback(() => {\n    ReactGA.event({\n      category: 'Lists',\n      action: 'Start Remove List',\n      label: listUrl,\n    })\n    if (window.prompt(`Please confirm you would like to remove this list by typing REMOVE`) === `REMOVE`) {\n      ReactGA.event({\n        category: 'Lists',\n        action: 'Confirm Remove List',\n        label: listUrl,\n      })\n      dispatch(removeList(listUrl))\n    }\n  }, [dispatch, listUrl])\n\n  const handleEnableList = useCallback(() => {\n    ReactGA.event({\n      category: 'Lists',\n      action: 'Enable List',\n      label: listUrl,\n    })\n    dispatch(enableList(listUrl))\n  }, [dispatch, listUrl])\n\n  const handleDisableList = useCallback(() => {\n    ReactGA.event({\n      category: 'Lists',\n      action: 'Disable List',\n      label: listUrl,\n    })\n    dispatch(disableList(listUrl))\n  }, [dispatch, listUrl])\n\n  if (!list) return null\n\n  return (\n    <RowWrapper active={isActive} bgColor={listColor} key={listUrl} id={listUrlRowHTMLId(listUrl)}>\n      {list.logoURI ? (\n        <ListLogo size=\"40px\" style={{ marginRight: '1rem' }} logoURI={list.logoURI} alt={`${list.name} list logo`} />\n      ) : (\n        <div style={{ width: '24px', height: '24px', marginRight: '1rem' }} />\n      )}\n      <Column style={{ flex: '1' }}>\n        <Row>\n          <StyledTitleText active={isActive}>{list.name}</StyledTitleText>\n        </Row>\n        <RowFixed mt=\"4px\">\n          <StyledListUrlText active={isActive} mr=\"6px\">\n            {list.tokens.length} tokens\n          </StyledListUrlText>\n          <StyledMenu ref={node as any}>\n            <ButtonEmpty onClick={toggle} ref={setReferenceElement} padding=\"0\">\n              <Settings stroke={isActive ? theme.bg1 : theme.text1} size={12} />\n            </ButtonEmpty>\n            {open && (\n              <PopoverContainer show={true} ref={setPopperElement as any} style={styles.popper} {...attributes.popper}>\n                <div>{list && listVersionLabel(list.version)}</div>\n                <SeparatorDark />\n                <ExternalLink href={`https://tokenlists.org/token-list?url=${listUrl}`}>View list</ExternalLink>\n                <UnpaddedLinkStyledButton onClick={handleRemoveList} disabled={Object.keys(listsByUrl).length === 1}>\n                  Remove list\n                </UnpaddedLinkStyledButton>\n                {pending && (\n                  <UnpaddedLinkStyledButton onClick={handleAcceptListUpdate}>Update list</UnpaddedLinkStyledButton>\n                )}\n              </PopoverContainer>\n            )}\n          </StyledMenu>\n        </RowFixed>\n      </Column>\n      <ListToggle\n        isActive={isActive}\n        bgColor={listColor}\n        toggle={() => {\n          isActive ? handleDisableList() : handleEnableList()\n        }}\n      />\n    </RowWrapper>\n  )\n})\n\nconst ListContainer = styled.div`\n  padding: 1rem;\n  height: 100%;\n  overflow: auto;\n  padding-bottom: 80px;\n`\n\nexport function ManageLists({\n  setModalView,\n  setImportList,\n  setListUrl,\n}: {\n  setModalView: (view: CurrencyModalView) => void\n  setImportList: (list: TokenList) => void\n  setListUrl: (url: string) => void\n}) {\n  const theme = useTheme()\n\n  const [listUrlInput, setListUrlInput] = useState<string>('')\n\n  const lists = useAllLists()\n\n  // sort by active but only if not visible\n  const activeListUrls = useActiveListUrls()\n  const [activeCopy, setActiveCopy] = useState<string[] | undefined>()\n  useEffect(() => {\n    if (!activeCopy && activeListUrls) {\n      setActiveCopy(activeListUrls)\n    }\n  }, [activeCopy, activeListUrls])\n\n  const handleInput = useCallback((e) => {\n    setListUrlInput(e.target.value)\n  }, [])\n\n  const fetchList = useFetchListCallback()\n\n  const validUrl: boolean = useMemo(() => {\n    return uriToHttp(listUrlInput).length > 0 || Boolean(parseENSAddress(listUrlInput))\n  }, [listUrlInput])\n\n  const sortedLists = useMemo(() => {\n    const listUrls = Object.keys(lists)\n    return listUrls\n      .filter((listUrl) => {\n        // only show loaded lists, hide unsupported lists\n        return Boolean(lists[listUrl].current) && !UNSUPPORTED_LIST_URLS.includes(listUrl)\n      })\n      .sort((u1, u2) => {\n        const { current: l1 } = lists[u1]\n        const { current: l2 } = lists[u2]\n\n        // first filter on active lists\n        if (activeCopy?.includes(u1) && !activeCopy?.includes(u2)) {\n          return -1\n        }\n        if (!activeCopy?.includes(u1) && activeCopy?.includes(u2)) {\n          return 1\n        }\n\n        if (l1 && l2) {\n          return l1.name.toLowerCase() < l2.name.toLowerCase()\n            ? -1\n            : l1.name.toLowerCase() === l2.name.toLowerCase()\n            ? 0\n            : 1\n        }\n        if (l1) return -1\n        if (l2) return 1\n        return 0\n      })\n  }, [lists, activeCopy])\n\n  // temporary fetched list for import flow\n  const [tempList, setTempList] = useState<TokenList>()\n  const [addError, setAddError] = useState<string | undefined>()\n\n  useEffect(() => {\n    async function fetchTempList() {\n      fetchList(listUrlInput, false)\n        .then((list) => setTempList(list))\n        .catch(() => setAddError('Error importing list'))\n    }\n    // if valid url, fetch details for card\n    if (validUrl) {\n      fetchTempList()\n    } else {\n      setTempList(undefined)\n      listUrlInput !== '' && setAddError('Enter valid list location')\n    }\n\n    // reset error\n    if (listUrlInput === '') {\n      setAddError(undefined)\n    }\n  }, [fetchList, listUrlInput, validUrl])\n\n  // check if list is already imported\n  const isImported = Object.keys(lists).includes(listUrlInput)\n\n  // set list values and have parent modal switch to import list view\n  const handleImport = useCallback(() => {\n    if (!tempList) return\n    setImportList(tempList)\n    setModalView(CurrencyModalView.importList)\n    setListUrl(listUrlInput)\n  }, [listUrlInput, setImportList, setListUrl, setModalView, tempList])\n\n  return (\n    <Wrapper>\n      <PaddedColumn gap=\"14px\">\n        <Row>\n          <SearchInput\n            type=\"text\"\n            id=\"list-add-input\"\n            placeholder=\"https:// or ipfs:// or ENS name\"\n            value={listUrlInput}\n            onChange={handleInput}\n          />\n        </Row>\n        {addError ? (\n          <TYPE.error title={addError} style={{ textOverflow: 'ellipsis', overflow: 'hidden' }} error>\n            {addError}\n          </TYPE.error>\n        ) : null}\n      </PaddedColumn>\n      {tempList && (\n        <PaddedColumn style={{ paddingTop: 0 }}>\n          <Card backgroundColor={theme.bg2} padding=\"12px 20px\">\n            <RowBetween>\n              <RowFixed>\n                {tempList.logoURI && <ListLogo logoURI={tempList.logoURI} size=\"40px\" />}\n                <AutoColumn gap=\"4px\" style={{ marginLeft: '20px' }}>\n                  <TYPE.body fontWeight={600}>{tempList.name}</TYPE.body>\n                  <TYPE.main fontSize={'12px'}>{tempList.tokens.length} tokens</TYPE.main>\n                </AutoColumn>\n              </RowFixed>\n              {isImported ? (\n                <RowFixed>\n                  <IconWrapper stroke={theme.text2} size=\"16px\" marginRight={'10px'}>\n                    <CheckCircle />\n                  </IconWrapper>\n                  <TYPE.body color={theme.text2}>Loaded</TYPE.body>\n                </RowFixed>\n              ) : (\n                <ButtonPrimary\n                  style={{ fontSize: '14px' }}\n                  padding=\"6px 8px\"\n                  width=\"fit-content\"\n                  onClick={handleImport}\n                >\n                  Import\n                </ButtonPrimary>\n              )}\n            </RowBetween>\n          </Card>\n        </PaddedColumn>\n      )}\n      <Separator />\n      <ListContainer>\n        <AutoColumn gap=\"md\">\n          {sortedLists.map((listUrl) => (\n            <ListRow key={listUrl} listUrl={listUrl} />\n          ))}\n        </AutoColumn>\n      </ListContainer>\n    </Wrapper>\n  )\n}\n"],"mappings":"oqBACA,MAAO,CAAAA,IAAI,KAAM,iBAAiB,CAClC,OAASC,qBAAqB,KAAQ,iBAAiB,CACvD,OAASC,YAAY,KAAQ,gBAAgB,CAC7C,MAAO,CAAAC,KAAK,EAAIC,IAAI,CAAEC,WAAW,CAAEC,SAAS,CAAEC,OAAO,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CACtF,OAASC,WAAW,CAAEC,QAAQ,KAAQ,eAAe,CACrD,MAAO,CAAAC,OAAO,KAAM,UAAU,CAC9B,OAASC,SAAS,KAAQ,cAAc,CACxC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CAEtC,OAASC,oBAAoB,KAAQ,kCAAkC,CACvE,OAASC,iBAAiB,KAAQ,+BAA+B,CACjE,MAAO,CAAAC,QAAQ,KAAM,sBAAsB,CAC3C,MAAO,CAAAC,SAAS,KAAM,uBAAuB,CAE7C,OAASC,gBAAgB,CAAEC,WAAW,CAAEC,UAAU,CAAEC,UAAU,KAAQ,2BAA2B,CACjG,OAASC,iBAAiB,CAAEC,WAAW,CAAEC,eAAe,KAAQ,yBAAyB,CACzF,OAASC,YAAY,CAAEC,WAAW,CAAEC,gBAAgB,CAAEC,IAAI,KAAQ,aAAa,CAC/E,MAAO,CAAAC,gBAAgB,KAAM,8BAA8B,CAC3D,OAASC,eAAe,KAAQ,6BAA6B,CAC7D,MAAO,CAAAC,SAAS,KAAM,uBAAuB,CAC7C,OAASC,WAAW,CAAEC,aAAa,KAAQ,WAAW,CACtD,MAAO,CAAAC,MAAM,EAAIC,UAAU,KAAQ,WAAW,CAC9C,MAAO,CAAAC,QAAQ,KAAM,aAAa,CAClC,MAAO,CAAAC,GAAG,EAAIC,UAAU,CAAEC,QAAQ,KAAQ,QAAQ,CAClD,MAAO,CAAAC,UAAU,KAAM,sBAAsB,CAC7C,OAASC,iBAAiB,KAAQ,uBAAuB,CACzD,OAASC,YAAY,CAAEC,WAAW,CAAEC,SAAS,CAAEC,aAAa,KAAQ,WAAW,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/E,KAAM,CAAAC,OAAO,CAAGrC,MAAM,CAACqB,MAAM,CAAC,CAAAiB,eAAA,GAAAA,eAAA,CAAAC,sBAAA,2CAG7B,CAED,KAAM,CAAAC,wBAAwB,CAAGxC,MAAM,CAACc,gBAAgB,CAAC,CAAA2B,gBAAA,GAAAA,gBAAA,CAAAF,sBAAA,8DAG5CG,IAAA,MAAC,CAAEC,QAAS,CAAC,CAAAD,IAAA,OAAM,CAAAC,QAAQ,CAAG,KAAK,CAAG,GAAG,EAAC,CACtD,CAED,KAAM,CAAAC,gBAAgB,CAAG5C,MAAM,CAAC6C,GAAG,CAAAC,gBAAA,GAAAA,gBAAA,CAAAP,sBAAA,4eAElBQ,KAAK,EAAMA,KAAK,CAACC,IAAI,CAAG,SAAS,CAAG,QAAS,CAChDD,KAAK,EAAMA,KAAK,CAACC,IAAI,CAAG,CAAC,CAAG,CAAE,CAE5BC,KAAA,MAAC,CAAEC,KAAM,CAAC,CAAAD,KAAA,OAAK,CAAAC,KAAK,CAACC,GAAG,GAClBC,KAAA,MAAC,CAAEF,KAAM,CAAC,CAAAE,KAAA,OAAK,CAAAF,KAAK,CAACG,GAAG,GAGnCC,KAAA,MAAC,CAAEJ,KAAM,CAAC,CAAAI,KAAA,OAAK,CAAAJ,KAAK,CAACK,KAAK,GAQpC,CAED,KAAM,CAAAC,UAAU,CAAGxD,MAAM,CAAC6C,GAAG,CAAAY,gBAAA,GAAAA,gBAAA,CAAAlB,sBAAA,wHAM5B,CAED,KAAM,CAAAmB,eAAe,CAAG1D,MAAM,CAAC6C,GAAG,CAAAc,gBAAA,GAAAA,gBAAA,CAAApB,sBAAA,mHAKvBqB,KAAA,MAAC,CAAEV,KAAK,CAAEW,MAAO,CAAC,CAAAD,KAAA,OAAM,CAAAC,MAAM,CAAGX,KAAK,CAACY,KAAK,CAAGZ,KAAK,CAACK,KAAK,EAAC,CACrE,CAED,KAAM,CAAAQ,iBAAiB,CAAG/D,MAAM,CAACe,IAAI,CAACiD,IAAI,CAAC,CAAAC,gBAAA,GAAAA,gBAAA,CAAA1B,sBAAA,6CAEhC2B,KAAA,MAAC,CAAEhB,KAAK,CAAEW,MAAO,CAAC,CAAAK,KAAA,OAAM,CAAAL,MAAM,CAAGX,KAAK,CAACY,KAAK,CAAGZ,KAAK,CAACK,KAAK,EAAC,CACrE,CAED,KAAM,CAAAY,UAAU,CAAGnE,MAAM,CAACwB,GAAG,CAAC,CAAA4C,gBAAA,GAAAA,gBAAA,CAAA7B,sBAAA,4HACR8B,KAAA,MAAC,CAAEC,OAAO,CAAET,MAAM,CAAEX,KAAM,CAAC,CAAAmB,KAAA,OAAM,CAAAR,MAAM,CAAGS,OAAO,SAAPA,OAAO,UAAPA,OAAO,CAAI,aAAa,CAAGpB,KAAK,CAACC,GAAG,EAAC,CAKpG,CAED,QAAS,CAAAoB,gBAAgBA,CAACC,OAAe,CAAE,CACzC,kBAAAC,MAAA,CAAmBD,OAAO,CAACE,OAAO,CAAC,KAAK,CAAE,GAAG,CAAC,EAChD,CAEA,KAAM,CAAAC,OAAO,cAAGvF,IAAI,CAAC,QAAS,CAAAuF,OAAOA,CAAAC,KAAA,CAAmC,IAAlC,CAAEJ,OAA6B,CAAC,CAAAI,KAAA,CACpE,KAAM,CAAAC,UAAU,CAAG9E,WAAW,CAAwC+E,KAAK,EAAKA,KAAK,CAACC,KAAK,CAACC,KAAK,CAAC,CAClG,KAAM,CAAAC,QAAQ,CAAGnF,WAAW,CAAc,CAAC,CAC3C,KAAM,CAAEoF,OAAO,CAAEC,IAAI,CAAEC,aAAa,CAAEC,OAAQ,CAAC,CAAGR,UAAU,CAACL,OAAO,CAAC,CAErE,KAAM,CAAAtB,KAAK,CAAG/C,QAAQ,CAAC,CAAC,CACxB,KAAM,CAAAmF,SAAS,CAAGpG,YAAY,CAACiG,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEI,OAAO,CAAC,CAC7C,KAAM,CAAAC,QAAQ,CAAG7E,eAAe,CAAC6D,OAAO,CAAC,CAEzC,KAAM,CAACiB,IAAI,CAAEC,MAAM,CAAC,CAAGtF,SAAS,CAAC,KAAK,CAAC,CACvC,KAAM,CAAAuF,IAAI,CAAGnG,MAAM,CAAiB,CAAC,CACrC,KAAM,CAACoG,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGpG,QAAQ,CAAiB,CAAC,CAC1E,KAAM,CAACqG,aAAa,CAAEC,gBAAgB,CAAC,CAAGtG,QAAQ,CAAiB,CAAC,CAEpE,KAAM,CAAEuG,MAAM,CAAEC,UAAW,CAAC,CAAGpG,SAAS,CAAC+F,gBAAgB,CAAEE,aAAa,CAAE,CACxEI,SAAS,CAAE,MAAM,CACjBC,QAAQ,CAAE,OAAO,CACjBC,SAAS,CAAE,CAAC,CAAEC,IAAI,CAAE,QAAQ,CAAEC,OAAO,CAAE,CAAEC,MAAM,CAAE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAE,CAAC,CAC7D,CAAC,CAAC,CAEFrG,iBAAiB,CAACyF,IAAI,CAAEF,IAAI,CAAGC,MAAM,CAAGc,SAAS,CAAC,CAElD,KAAM,CAAAC,sBAAsB,CAAGpH,WAAW,CAAC,IAAM,CAC/C,GAAI,CAACgG,OAAO,CAAE,OACdzF,OAAO,CAAC8G,KAAK,CAAC,CACZC,QAAQ,CAAE,OAAO,CACjBC,MAAM,CAAE,8BAA8B,CACtCC,KAAK,CAAErC,OACT,CAAC,CAAC,CACFS,QAAQ,CAAC5E,gBAAgB,CAACmE,OAAO,CAAC,CAAC,CACrC,CAAC,CAAE,CAACS,QAAQ,CAAET,OAAO,CAAEa,OAAO,CAAC,CAAC,CAEhC,KAAM,CAAAyB,gBAAgB,CAAGzH,WAAW,CAAC,IAAM,CACzCO,OAAO,CAAC8G,KAAK,CAAC,CACZC,QAAQ,CAAE,OAAO,CACjBC,MAAM,CAAE,mBAAmB,CAC3BC,KAAK,CAAErC,OACT,CAAC,CAAC,CACF,GAAIuC,MAAM,CAACC,MAAM,qEAAqE,CAAC,WAAa,CAAE,CACpGpH,OAAO,CAAC8G,KAAK,CAAC,CACZC,QAAQ,CAAE,OAAO,CACjBC,MAAM,CAAE,qBAAqB,CAC7BC,KAAK,CAAErC,OACT,CAAC,CAAC,CACFS,QAAQ,CAACzE,UAAU,CAACgE,OAAO,CAAC,CAAC,CAC/B,CACF,CAAC,CAAE,CAACS,QAAQ,CAAET,OAAO,CAAC,CAAC,CAEvB,KAAM,CAAAyC,gBAAgB,CAAG5H,WAAW,CAAC,IAAM,CACzCO,OAAO,CAAC8G,KAAK,CAAC,CACZC,QAAQ,CAAE,OAAO,CACjBC,MAAM,CAAE,aAAa,CACrBC,KAAK,CAAErC,OACT,CAAC,CAAC,CACFS,QAAQ,CAAC1E,UAAU,CAACiE,OAAO,CAAC,CAAC,CAC/B,CAAC,CAAE,CAACS,QAAQ,CAAET,OAAO,CAAC,CAAC,CAEvB,KAAM,CAAA0C,iBAAiB,CAAG7H,WAAW,CAAC,IAAM,CAC1CO,OAAO,CAAC8G,KAAK,CAAC,CACZC,QAAQ,CAAE,OAAO,CACjBC,MAAM,CAAE,cAAc,CACtBC,KAAK,CAAErC,OACT,CAAC,CAAC,CACFS,QAAQ,CAAC3E,WAAW,CAACkE,OAAO,CAAC,CAAC,CAChC,CAAC,CAAE,CAACS,QAAQ,CAAET,OAAO,CAAC,CAAC,CAEvB,GAAI,CAACW,IAAI,CAAE,MAAO,KAAI,CAEtB,mBACE/C,KAAA,CAAC+B,UAAU,EAACN,MAAM,CAAE2B,QAAS,CAAClB,OAAO,CAAEgB,SAAU,CAAe6B,EAAE,CAAE5C,gBAAgB,CAACC,OAAO,CAAE,CAAA4C,QAAA,EAC3FjC,IAAI,CAACI,OAAO,cACXrD,IAAA,CAACX,QAAQ,EAAC8F,IAAI,CAAC,MAAM,CAACC,KAAK,CAAE,CAAEC,WAAW,CAAE,MAAO,CAAE,CAAChC,OAAO,CAAEJ,IAAI,CAACI,OAAQ,CAACiC,GAAG,IAAA/C,MAAA,CAAKU,IAAI,CAACkB,IAAI,cAAa,CAAE,CAAC,cAE9GnE,IAAA,QAAKoF,KAAK,CAAE,CAAEG,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEH,WAAW,CAAE,MAAO,CAAE,CAAE,CACtE,cACDnF,KAAA,CAACf,MAAM,EAACiG,KAAK,CAAE,CAAEK,IAAI,CAAE,GAAI,CAAE,CAAAP,QAAA,eAC3BlF,IAAA,CAACV,GAAG,EAAA4F,QAAA,cACFlF,IAAA,CAACwB,eAAe,EAACG,MAAM,CAAE2B,QAAS,CAAA4B,QAAA,CAAEjC,IAAI,CAACkB,IAAI,CAAkB,CAAC,CAC7D,CAAC,cACNjE,KAAA,CAACV,QAAQ,EAACkG,EAAE,CAAC,KAAK,CAAAR,QAAA,eAChBhF,KAAA,CAAC2B,iBAAiB,EAACF,MAAM,CAAE2B,QAAS,CAACqC,EAAE,CAAC,KAAK,CAAAT,QAAA,EAC1CjC,IAAI,CAAC2C,MAAM,CAACC,MAAM,CAAC,SACtB,EAAmB,CAAC,cACpB3F,KAAA,CAACoB,UAAU,EAACwE,GAAG,CAAErC,IAAY,CAAAyB,QAAA,eAC3BlF,IAAA,CAACf,WAAW,EAAC8G,OAAO,CAAEvC,MAAO,CAACsC,GAAG,CAAEnC,mBAAoB,CAACqC,OAAO,CAAC,GAAG,CAAAd,QAAA,cACjElF,IAAA,CAACvC,QAAQ,EAACwI,MAAM,CAAE3C,QAAQ,CAAGtC,KAAK,CAACkF,GAAG,CAAGlF,KAAK,CAACmF,KAAM,CAAChB,IAAI,CAAE,EAAG,CAAE,CAAC,CACvD,CAAC,CACb5B,IAAI,eACHrD,KAAA,CAACQ,gBAAgB,CAAA0F,aAAA,CAAAA,aAAA,EAACtF,IAAI,CAAE,IAAK,CAACgF,GAAG,CAAEjC,gBAAwB,CAACuB,KAAK,CAAEtB,MAAM,CAACuC,MAAO,EAAKtC,UAAU,CAACsC,MAAM,MAAAnB,QAAA,eACrGlF,IAAA,QAAAkF,QAAA,CAAMjC,IAAI,EAAInE,gBAAgB,CAACmE,IAAI,CAACqD,OAAO,CAAC,CAAM,CAAC,cACnDtG,IAAA,CAACF,aAAa,GAAE,CAAC,cACjBE,IAAA,CAACtB,YAAY,EAAC6H,IAAI,0CAAAhE,MAAA,CAA2CD,OAAO,CAAG,CAAA4C,QAAA,CAAC,WAAS,CAAc,CAAC,cAChGlF,IAAA,CAACM,wBAAwB,EAACyF,OAAO,CAAEnB,gBAAiB,CAACnE,QAAQ,CAAE+F,MAAM,CAACC,IAAI,CAAC9D,UAAU,CAAC,CAACkD,MAAM,GAAK,CAAE,CAAAX,QAAA,CAAC,aAErG,CAA0B,CAAC,CAC1B/B,OAAO,eACNnD,IAAA,CAACM,wBAAwB,EAACyF,OAAO,CAAExB,sBAAuB,CAAAW,QAAA,CAAC,aAAW,CAA0B,CACjG,GACe,CACnB,EACS,CAAC,EACL,CAAC,EACL,CAAC,cACTlF,IAAA,CAACP,UAAU,EACT6D,QAAQ,CAAEA,QAAS,CACnBlB,OAAO,CAAEgB,SAAU,CACnBI,MAAM,CAAEA,CAAA,GAAM,CACZF,QAAQ,CAAG0B,iBAAiB,CAAC,CAAC,CAAGD,gBAAgB,CAAC,CAAC,CACrD,CAAE,CACH,CAAC,GAxCmDzC,OAyC3C,CAAC,CAEjB,CAAC,CAAC,CAEF,KAAM,CAAAoE,aAAa,CAAG5I,MAAM,CAAC6C,GAAG,CAAAgG,gBAAA,GAAAA,gBAAA,CAAAtG,sBAAA,yFAK/B,CAED,MAAO,SAAS,CAAAuG,WAAWA,CAAAC,KAAA,CAQxB,IARyB,CAC1BC,YAAY,CACZC,aAAa,CACbC,UAKF,CAAC,CAAAH,KAAA,CACC,KAAM,CAAA7F,KAAK,CAAG/C,QAAQ,CAAC,CAAC,CAExB,KAAM,CAACgJ,YAAY,CAAEC,eAAe,CAAC,CAAG3J,QAAQ,CAAS,EAAE,CAAC,CAE5D,KAAM,CAAAsF,KAAK,CAAGrE,WAAW,CAAC,CAAC,CAE3B;AACA,KAAM,CAAA2I,cAAc,CAAG5I,iBAAiB,CAAC,CAAC,CAC1C,KAAM,CAAC6I,UAAU,CAAEC,aAAa,CAAC,CAAG9J,QAAQ,CAAuB,CAAC,CACpEH,SAAS,CAAC,IAAM,CACd,GAAI,CAACgK,UAAU,EAAID,cAAc,CAAE,CACjCE,aAAa,CAACF,cAAc,CAAC,CAC/B,CACF,CAAC,CAAE,CAACC,UAAU,CAAED,cAAc,CAAC,CAAC,CAEhC,KAAM,CAAAG,WAAW,CAAGnK,WAAW,CAAEoK,CAAC,EAAK,CACrCL,eAAe,CAACK,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACjC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,SAAS,CAAG3J,oBAAoB,CAAC,CAAC,CAExC,KAAM,CAAA4J,QAAiB,CAAGtK,OAAO,CAAC,IAAM,CACtC,MAAO,CAAA2B,SAAS,CAACiI,YAAY,CAAC,CAACpB,MAAM,CAAG,CAAC,EAAI+B,OAAO,CAAC7I,eAAe,CAACkI,YAAY,CAAC,CAAC,CACrF,CAAC,CAAE,CAACA,YAAY,CAAC,CAAC,CAElB,KAAM,CAAAY,WAAW,CAAGxK,OAAO,CAAC,IAAM,CAChC,KAAM,CAAAyK,QAAQ,CAAGtB,MAAM,CAACC,IAAI,CAAC5D,KAAK,CAAC,CACnC,MAAO,CAAAiF,QAAQ,CACZC,MAAM,CAAEzF,OAAO,EAAK,CACnB;AACA,MAAO,CAAAsF,OAAO,CAAC/E,KAAK,CAACP,OAAO,CAAC,CAACU,OAAO,CAAC,EAAI,CAACjG,qBAAqB,CAACiL,QAAQ,CAAC1F,OAAO,CAAC,CACpF,CAAC,CAAC,CACD2F,IAAI,CAAC,CAACC,EAAE,CAAEC,EAAE,GAAK,CAChB,KAAM,CAAEnF,OAAO,CAAEoF,EAAG,CAAC,CAAGvF,KAAK,CAACqF,EAAE,CAAC,CACjC,KAAM,CAAElF,OAAO,CAAEqF,EAAG,CAAC,CAAGxF,KAAK,CAACsF,EAAE,CAAC,CAEjC;AACA,GAAIf,UAAU,SAAVA,UAAU,WAAVA,UAAU,CAAEY,QAAQ,CAACE,EAAE,CAAC,EAAI,EAACd,UAAU,SAAVA,UAAU,WAAVA,UAAU,CAAEY,QAAQ,CAACG,EAAE,CAAC,EAAE,CACzD,MAAO,CAAC,CAAC,CACX,CACA,GAAI,EAACf,UAAU,SAAVA,UAAU,WAAVA,UAAU,CAAEY,QAAQ,CAACE,EAAE,CAAC,GAAId,UAAU,SAAVA,UAAU,WAAVA,UAAU,CAAEY,QAAQ,CAACG,EAAE,CAAC,CAAE,CACzD,MAAO,EAAC,CACV,CAEA,GAAIC,EAAE,EAAIC,EAAE,CAAE,CACZ,MAAO,CAAAD,EAAE,CAACjE,IAAI,CAACmE,WAAW,CAAC,CAAC,CAAGD,EAAE,CAAClE,IAAI,CAACmE,WAAW,CAAC,CAAC,CAChD,CAAC,CAAC,CACFF,EAAE,CAACjE,IAAI,CAACmE,WAAW,CAAC,CAAC,GAAKD,EAAE,CAAClE,IAAI,CAACmE,WAAW,CAAC,CAAC,CAC/C,CAAC,CACD,CAAC,CACP,CACA,GAAIF,EAAE,CAAE,MAAO,CAAC,CAAC,CACjB,GAAIC,EAAE,CAAE,MAAO,EAAC,CAChB,MAAO,EAAC,CACV,CAAC,CAAC,CACN,CAAC,CAAE,CAACxF,KAAK,CAAEuE,UAAU,CAAC,CAAC,CAEvB;AACA,KAAM,CAACmB,QAAQ,CAAEC,WAAW,CAAC,CAAGjL,QAAQ,CAAY,CAAC,CACrD,KAAM,CAACkL,QAAQ,CAAEC,WAAW,CAAC,CAAGnL,QAAQ,CAAqB,CAAC,CAE9DH,SAAS,CAAC,IAAM,SACC,CAAAuL,aAAaA,CAAA,SAAAC,cAAA,CAAAC,KAAA,MAAAC,SAAA,GAK5B;AAAA,SAAAF,eAAA,EAAAA,cAAA,CAAAG,iBAAA,CALA,WAA+B,CAC7BrB,SAAS,CAACT,YAAY,CAAE,KAAK,CAAC,CAC3B+B,IAAI,CAAE/F,IAAI,EAAKuF,WAAW,CAACvF,IAAI,CAAC,CAAC,CACjCgG,KAAK,CAAC,IAAMP,WAAW,CAAC,sBAAsB,CAAC,CAAC,CACrD,CAAC,SAAAE,cAAA,CAAAC,KAAA,MAAAC,SAAA,GAED,GAAInB,QAAQ,CAAE,CACZgB,aAAa,CAAC,CAAC,CACjB,CAAC,IAAM,CACLH,WAAW,CAAClE,SAAS,CAAC,CACtB2C,YAAY,GAAK,EAAE,EAAIyB,WAAW,CAAC,2BAA2B,CAAC,CACjE,CAEA;AACA,GAAIzB,YAAY,GAAK,EAAE,CAAE,CACvByB,WAAW,CAACpE,SAAS,CAAC,CACxB,CACF,CAAC,CAAE,CAACoD,SAAS,CAAET,YAAY,CAAEU,QAAQ,CAAC,CAAC,CAEvC;AACA,KAAM,CAAAuB,UAAU,CAAG1C,MAAM,CAACC,IAAI,CAAC5D,KAAK,CAAC,CAACmF,QAAQ,CAACf,YAAY,CAAC,CAE5D;AACA,KAAM,CAAAkC,YAAY,CAAGhM,WAAW,CAAC,IAAM,CACrC,GAAI,CAACoL,QAAQ,CAAE,OACfxB,aAAa,CAACwB,QAAQ,CAAC,CACvBzB,YAAY,CAACpH,iBAAiB,CAAC0J,UAAU,CAAC,CAC1CpC,UAAU,CAACC,YAAY,CAAC,CAC1B,CAAC,CAAE,CAACA,YAAY,CAAEF,aAAa,CAAEC,UAAU,CAAEF,YAAY,CAAEyB,QAAQ,CAAC,CAAC,CAErE,mBACErI,KAAA,CAACC,OAAO,EAAA+E,QAAA,eACNhF,KAAA,CAACP,YAAY,EAAC0J,GAAG,CAAC,MAAM,CAAAnE,QAAA,eACtBlF,IAAA,CAACV,GAAG,EAAA4F,QAAA,cACFlF,IAAA,CAACJ,WAAW,EACV0J,IAAI,CAAC,MAAM,CACXrE,EAAE,CAAC,gBAAgB,CACnBsE,WAAW,CAAC,iCAAiC,CAC7C9B,KAAK,CAAER,YAAa,CACpBuC,QAAQ,CAAElC,WAAY,CACvB,CAAC,CACC,CAAC,CACLmB,QAAQ,cACPzI,IAAA,CAACnB,IAAI,CAAC4K,KAAK,EAACC,KAAK,CAAEjB,QAAS,CAACrD,KAAK,CAAE,CAAEuE,YAAY,CAAE,UAAU,CAAEC,QAAQ,CAAE,QAAS,CAAE,CAACH,KAAK,MAAAvE,QAAA,CACxFuD,QAAQ,CACC,CAAC,CACX,IAAI,EACI,CAAC,CACdF,QAAQ,eACPvI,IAAA,CAACL,YAAY,EAACyF,KAAK,CAAE,CAAEyE,UAAU,CAAE,CAAE,CAAE,CAAA3E,QAAA,cACrClF,IAAA,CAAClD,IAAI,EAACgN,eAAe,CAAE9I,KAAK,CAACC,GAAI,CAAC+E,OAAO,CAAC,WAAW,CAAAd,QAAA,cACnDhF,KAAA,CAACX,UAAU,EAAA2F,QAAA,eACThF,KAAA,CAACV,QAAQ,EAAA0F,QAAA,EACNqD,QAAQ,CAAClF,OAAO,eAAIrD,IAAA,CAACX,QAAQ,EAACgE,OAAO,CAAEkF,QAAQ,CAAClF,OAAQ,CAAC8B,IAAI,CAAC,MAAM,CAAE,CAAC,cACxEjF,KAAA,CAACd,UAAU,EAACiK,GAAG,CAAC,KAAK,CAACjE,KAAK,CAAE,CAAE2E,UAAU,CAAE,MAAO,CAAE,CAAA7E,QAAA,eAClDlF,IAAA,CAACnB,IAAI,CAACmL,IAAI,EAACC,UAAU,CAAE,GAAI,CAAA/E,QAAA,CAAEqD,QAAQ,CAACpE,IAAI,CAAY,CAAC,cACvDjE,KAAA,CAACrB,IAAI,CAACiD,IAAI,EAACoI,QAAQ,CAAE,MAAO,CAAAhF,QAAA,EAAEqD,QAAQ,CAAC3C,MAAM,CAACC,MAAM,CAAC,SAAO,EAAW,CAAC,EAC9D,CAAC,EACL,CAAC,CACVqD,UAAU,cACThJ,KAAA,CAACV,QAAQ,EAAA0F,QAAA,eACPlF,IAAA,CAACrB,WAAW,EAACsH,MAAM,CAAEjF,KAAK,CAACK,KAAM,CAAC8D,IAAI,CAAC,MAAM,CAACE,WAAW,CAAE,MAAO,CAAAH,QAAA,cAChElF,IAAA,CAACxC,WAAW,GAAE,CAAC,CACJ,CAAC,cACdwC,IAAA,CAACnB,IAAI,CAACmL,IAAI,EAACG,KAAK,CAAEnJ,KAAK,CAACK,KAAM,CAAA6D,QAAA,CAAC,QAAM,CAAW,CAAC,EACzC,CAAC,cAEXlF,IAAA,CAACd,aAAa,EACZkG,KAAK,CAAE,CAAE8E,QAAQ,CAAE,MAAO,CAAE,CAC5BlE,OAAO,CAAC,SAAS,CACjBT,KAAK,CAAC,aAAa,CACnBQ,OAAO,CAAEoD,YAAa,CAAAjE,QAAA,CACvB,QAED,CAAe,CAChB,EACS,CAAC,CACT,CAAC,CACK,CACf,cACDlF,IAAA,CAACH,SAAS,GAAE,CAAC,cACbG,IAAA,CAAC0G,aAAa,EAAAxB,QAAA,cACZlF,IAAA,CAACZ,UAAU,EAACiK,GAAG,CAAC,IAAI,CAAAnE,QAAA,CACjB2C,WAAW,CAACuC,GAAG,CAAE9H,OAAO,eACvBtC,IAAA,CAACyC,OAAO,EAAeH,OAAO,CAAEA,OAAQ,EAA1BA,OAA4B,CAC3C,CAAC,CACQ,CAAC,CACA,CAAC,EACT,CAAC,CAEd"},"metadata":{},"sourceType":"module"}