{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"/app/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SubscriptionManager = void 0;\nconst eth_block_tracker_1 = require(\"eth-block-tracker\");\nconst createSubscriptionManager = require(\"eth-json-rpc-filters/subscriptionManager\");\nconst noop = () => {};\nclass SubscriptionManager {\n  constructor(provider) {\n    const blockTracker = new eth_block_tracker_1.PollingBlockTracker({\n      provider: provider,\n      pollingInterval: 15 * 1000,\n      setSkipCacheFlag: true\n    });\n    const {\n      events,\n      middleware\n    } = createSubscriptionManager({\n      blockTracker,\n      provider\n    });\n    this.events = events;\n    this.subscriptionMiddleware = middleware;\n  }\n  handleRequest(request) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const result = {};\n      yield _this.subscriptionMiddleware(request, result, noop, noop);\n      return result;\n    })();\n  }\n  destroy() {\n    this.subscriptionMiddleware.destroy();\n  }\n}\nexports.SubscriptionManager = SubscriptionManager;","map":null,"metadata":{},"sourceType":"script"}