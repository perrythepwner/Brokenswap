{"ast":null,"code":"import{useCallback,useEffect,useRef,useState}from'react';/**\n * Easy way to debounce the handling of a rapidly changing value, e.g. a changing slider input\n * @param value value that is rapidly changing\n * @param onChange change handler that should receive the debounced updates to the value\n * @param debouncedMs how long we should wait for changes to be applied\n */export default function useDebouncedChangeHandler(value,onChange){let debouncedMs=arguments.length>2&&arguments[2]!==undefined?arguments[2]:100;const[inner,setInner]=useState(()=>value);const timer=useRef();const onChangeInner=useCallback(newValue=>{setInner(newValue);if(timer.current){clearTimeout(timer.current);}timer.current=setTimeout(()=>{onChange(newValue);timer.current=undefined;},debouncedMs);},[debouncedMs,onChange]);useEffect(()=>{if(timer.current){clearTimeout(timer.current);timer.current=undefined;}setInner(value);},[value]);return[inner,onChangeInner];}","map":{"version":3,"names":["useCallback","useEffect","useRef","useState","useDebouncedChangeHandler","value","onChange","debouncedMs","arguments","length","undefined","inner","setInner","timer","onChangeInner","newValue","current","clearTimeout","setTimeout"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/src/utils/useDebouncedChangeHandler.tsx"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react'\n\n/**\n * Easy way to debounce the handling of a rapidly changing value, e.g. a changing slider input\n * @param value value that is rapidly changing\n * @param onChange change handler that should receive the debounced updates to the value\n * @param debouncedMs how long we should wait for changes to be applied\n */\nexport default function useDebouncedChangeHandler<T>(\n  value: T,\n  onChange: (newValue: T) => void,\n  debouncedMs = 100\n): [T, (value: T) => void] {\n  const [inner, setInner] = useState<T>(() => value)\n  const timer = useRef<ReturnType<typeof setTimeout>>()\n\n  const onChangeInner = useCallback(\n    (newValue: T) => {\n      setInner(newValue)\n      if (timer.current) {\n        clearTimeout(timer.current)\n      }\n      timer.current = setTimeout(() => {\n        onChange(newValue)\n        timer.current = undefined\n      }, debouncedMs)\n    },\n    [debouncedMs, onChange]\n  )\n\n  useEffect(() => {\n    if (timer.current) {\n      clearTimeout(timer.current)\n      timer.current = undefined\n    }\n    setInner(value)\n  }, [value])\n\n  return [inner, onChangeInner]\n}\n"],"mappings":"AAAA,OAASA,WAAW,CAAEC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAEhE;AACA;AACA;AACA;AACA;AACA,GACA,cAAe,SAAS,CAAAC,yBAAyBA,CAC/CC,KAAQ,CACRC,QAA+B,CAEN,IADzB,CAAAC,WAAW,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,GAAG,CAEjB,KAAM,CAACG,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAI,IAAME,KAAK,CAAC,CAClD,KAAM,CAAAQ,KAAK,CAAGX,MAAM,CAAgC,CAAC,CAErD,KAAM,CAAAY,aAAa,CAAGd,WAAW,CAC9Be,QAAW,EAAK,CACfH,QAAQ,CAACG,QAAQ,CAAC,CAClB,GAAIF,KAAK,CAACG,OAAO,CAAE,CACjBC,YAAY,CAACJ,KAAK,CAACG,OAAO,CAAC,CAC7B,CACAH,KAAK,CAACG,OAAO,CAAGE,UAAU,CAAC,IAAM,CAC/BZ,QAAQ,CAACS,QAAQ,CAAC,CAClBF,KAAK,CAACG,OAAO,CAAGN,SAAS,CAC3B,CAAC,CAAEH,WAAW,CAAC,CACjB,CAAC,CACD,CAACA,WAAW,CAAED,QAAQ,CACxB,CAAC,CAEDL,SAAS,CAAC,IAAM,CACd,GAAIY,KAAK,CAACG,OAAO,CAAE,CACjBC,YAAY,CAACJ,KAAK,CAACG,OAAO,CAAC,CAC3BH,KAAK,CAACG,OAAO,CAAGN,SAAS,CAC3B,CACAE,QAAQ,CAACP,KAAK,CAAC,CACjB,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAEX,MAAO,CAACM,KAAK,CAAEG,aAAa,CAAC,CAC/B"},"metadata":{},"sourceType":"module"}