{"ast":null,"code":"import{useEffect}from'react';import{useDispatch}from'react-redux';import{updateMatchesDarkMode}from'./actions';export default function Updater(){const dispatch=useDispatch();// keep dark mode in sync with the system\nuseEffect(()=>{var _window;const darkHandler=match=>{dispatch(updateMatchesDarkMode({matchesDarkMode:match.matches}));};const match=(_window=window)===null||_window===void 0?void 0:_window.matchMedia('(prefers-color-scheme: dark)');dispatch(updateMatchesDarkMode({matchesDarkMode:match.matches}));if(match!==null&&match!==void 0&&match.addListener){match===null||match===void 0?void 0:match.addListener(darkHandler);}else if(match!==null&&match!==void 0&&match.addEventListener){match===null||match===void 0?void 0:match.addEventListener('change',darkHandler);}return()=>{if(match!==null&&match!==void 0&&match.removeListener){match===null||match===void 0?void 0:match.removeListener(darkHandler);}else if(match!==null&&match!==void 0&&match.removeEventListener){match===null||match===void 0?void 0:match.removeEventListener('change',darkHandler);}};},[dispatch]);return null;}","map":{"version":3,"names":["useEffect","useDispatch","updateMatchesDarkMode","Updater","dispatch","_window","darkHandler","match","matchesDarkMode","matches","window","matchMedia","addListener","addEventListener","removeListener","removeEventListener"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/src/state/user/updater.tsx"],"sourcesContent":["import { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { AppDispatch } from '../index'\nimport { updateMatchesDarkMode } from './actions'\n\nexport default function Updater(): null {\n  const dispatch = useDispatch<AppDispatch>()\n\n  // keep dark mode in sync with the system\n  useEffect(() => {\n    const darkHandler = (match: MediaQueryListEvent) => {\n      dispatch(updateMatchesDarkMode({ matchesDarkMode: match.matches }))\n    }\n\n    const match = window?.matchMedia('(prefers-color-scheme: dark)')\n    dispatch(updateMatchesDarkMode({ matchesDarkMode: match.matches }))\n\n    if (match?.addListener) {\n      match?.addListener(darkHandler)\n    } else if (match?.addEventListener) {\n      match?.addEventListener('change', darkHandler)\n    }\n\n    return () => {\n      if (match?.removeListener) {\n        match?.removeListener(darkHandler)\n      } else if (match?.removeEventListener) {\n        match?.removeEventListener('change', darkHandler)\n      }\n    }\n  }, [dispatch])\n\n  return null\n}\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,KAAQ,aAAa,CAGzC,OAASC,qBAAqB,KAAQ,WAAW,CAEjD,cAAe,SAAS,CAAAC,OAAOA,CAAA,CAAS,CACtC,KAAM,CAAAC,QAAQ,CAAGH,WAAW,CAAc,CAAC,CAE3C;AACAD,SAAS,CAAC,IAAM,KAAAK,OAAA,CACd,KAAM,CAAAC,WAAW,CAAIC,KAA0B,EAAK,CAClDH,QAAQ,CAACF,qBAAqB,CAAC,CAAEM,eAAe,CAAED,KAAK,CAACE,OAAQ,CAAC,CAAC,CAAC,CACrE,CAAC,CAED,KAAM,CAAAF,KAAK,EAAAF,OAAA,CAAGK,MAAM,UAAAL,OAAA,iBAANA,OAAA,CAAQM,UAAU,CAAC,8BAA8B,CAAC,CAChEP,QAAQ,CAACF,qBAAqB,CAAC,CAAEM,eAAe,CAAED,KAAK,CAACE,OAAQ,CAAC,CAAC,CAAC,CAEnE,GAAIF,KAAK,SAALA,KAAK,WAALA,KAAK,CAAEK,WAAW,CAAE,CACtBL,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEK,WAAW,CAACN,WAAW,CAAC,CACjC,CAAC,IAAM,IAAIC,KAAK,SAALA,KAAK,WAALA,KAAK,CAAEM,gBAAgB,CAAE,CAClCN,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEM,gBAAgB,CAAC,QAAQ,CAAEP,WAAW,CAAC,CAChD,CAEA,MAAO,IAAM,CACX,GAAIC,KAAK,SAALA,KAAK,WAALA,KAAK,CAAEO,cAAc,CAAE,CACzBP,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEO,cAAc,CAACR,WAAW,CAAC,CACpC,CAAC,IAAM,IAAIC,KAAK,SAALA,KAAK,WAALA,KAAK,CAAEQ,mBAAmB,CAAE,CACrCR,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEQ,mBAAmB,CAAC,QAAQ,CAAET,WAAW,CAAC,CACnD,CACF,CAAC,CACH,CAAC,CAAE,CAACF,QAAQ,CAAC,CAAC,CAEd,MAAO,KAAI,CACb"},"metadata":{},"sourceType":"module"}