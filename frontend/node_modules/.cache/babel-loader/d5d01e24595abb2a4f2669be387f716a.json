{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import{useCelo}from'@celo/react-celo';import{currencyEquals,Token}from'@ubeswap/sdk';import React,{useCallback}from'react';import{FixedSizeList}from'react-window';import{Text}from'rebass';import styled from'styled-components';import{useAllInactiveTokens,useIsUserAddedToken}from'../../hooks/Tokens';import{useCombinedActiveList,WrappedTokenInfo}from'../../state/lists/hooks';import{useCurrencyBalance}from'../../state/wallet/hooks';import{TYPE}from'../../theme';import{isTokenOnList}from'../../utils';import Column from'../Column';import CurrencyLogo from'../CurrencyLogo';import Loader from'../Loader';import{RowFixed}from'../Row';import{MouseoverTooltip}from'../Tooltip';import ImportRow from'./ImportRow';import{MenuItem}from'./styleds';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function currencyKey(currency){return currency instanceof Token?currency.address:'';}const StyledBalanceText=styled(Text)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  white-space: nowrap;\\n  overflow: hidden;\\n  max-width: 5rem;\\n  text-overflow: ellipsis;\\n\"])));const Tag=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  color: \",\";\\n  font-size: 14px;\\n  border-radius: 4px;\\n  padding: 0.25rem 0.3rem 0.25rem 0.3rem;\\n  max-width: 6rem;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  justify-self: flex-end;\\n  margin-right: 4px;\\n\"])),_ref=>{let{theme}=_ref;return theme.bg3;},_ref2=>{let{theme}=_ref2;return theme.text2;});function Balance(_ref3){let{balance}=_ref3;return/*#__PURE__*/_jsx(StyledBalanceText,{title:balance.toExact(),children:balance.toSignificant(4)});}const TagContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: flex-end;\\n\"])));function TokenTags(_ref4){let{currency}=_ref4;if(!(currency instanceof WrappedTokenInfo)){return/*#__PURE__*/_jsx(\"span\",{});}const tags=currency.tags;if(!tags||tags.length===0)return/*#__PURE__*/_jsx(\"span\",{});const tag=tags[0];return/*#__PURE__*/_jsxs(TagContainer,{children:[/*#__PURE__*/_jsx(MouseoverTooltip,{text:tag.description,children:/*#__PURE__*/_jsx(Tag,{children:tag.name},tag.id)}),tags.length>1?/*#__PURE__*/_jsx(MouseoverTooltip,{text:tags.slice(1).map(_ref5=>{let{name,description}=_ref5;return\"\".concat(name,\": \").concat(description);}).join('; \\n'),children:/*#__PURE__*/_jsx(Tag,{children:\"...\"})}):null]});}function CurrencyRow(_ref6){let{currency,onSelect,isSelected,otherSelected,style}=_ref6;const{address:account}=useCelo();const key=currencyKey(currency);const selectedTokenList=useCombinedActiveList();const isOnSelectedList=isTokenOnList(selectedTokenList,currency);const customAdded=useIsUserAddedToken(currency);const balance=useCurrencyBalance(account!==null&&account!==void 0?account:undefined,currency);// only show add or remove buttons if not on selected list\nreturn/*#__PURE__*/_jsxs(MenuItem,{style:style,className:\"token-item-\".concat(key),onClick:()=>isSelected?null:onSelect(),disabled:isSelected,selected:otherSelected,children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:currency,size:'24px'}),/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsx(Text,{title:currency.name,fontWeight:500,children:currency.symbol}),/*#__PURE__*/_jsxs(TYPE.darkGray,{ml:\"0px\",fontSize:'12px',fontWeight:300,children:[currency.name,\" \",!isOnSelectedList&&customAdded&&'â€¢ Added by user']})]}),/*#__PURE__*/_jsx(TokenTags,{currency:currency}),/*#__PURE__*/_jsx(RowFixed,{style:{justifySelf:'flex-end'},children:balance?/*#__PURE__*/_jsx(Balance,{balance:balance}):account?/*#__PURE__*/_jsx(Loader,{}):null})]});}export default function CurrencyList(_ref7){let{height,currencies,selectedCurrency,onCurrencySelect,otherCurrency,fixedListRef,showImportView,setImportToken}=_ref7;const itemData=currencies;const inactiveTokens=useAllInactiveTokens();const Row=useCallback(_ref8=>{let{data,index,style}=_ref8;const currency=data[index];const isSelected=Boolean(selectedCurrency&&currencyEquals(selectedCurrency,currency));const otherSelected=Boolean(otherCurrency&&currencyEquals(otherCurrency,currency));const handleSelect=()=>onCurrencySelect(currency);const token=currency;const showImport=inactiveTokens&&token&&Object.keys(inactiveTokens).includes(token.address);if(showImport&&token){return/*#__PURE__*/_jsx(ImportRow,{style:style,token:token,showImportView:showImportView,setImportToken:setImportToken,dim:true});}else{return/*#__PURE__*/_jsx(CurrencyRow,{style:style,currency:currency,isSelected:isSelected,onSelect:handleSelect,otherSelected:otherSelected});}},[inactiveTokens,onCurrencySelect,otherCurrency,selectedCurrency,setImportToken,showImportView]);const itemKey=useCallback((index,data)=>currencyKey(data[index]),[]);return/*#__PURE__*/_jsx(FixedSizeList,{height:height,ref:fixedListRef,width:\"100%\",itemData:itemData,itemCount:itemData.length,itemSize:56,itemKey:itemKey,children:Row});}","map":null,"metadata":{},"sourceType":"module"}