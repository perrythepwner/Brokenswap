{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\nvar _jsxFileName = \"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/src/components/Header/Polling.tsx\",\n  _templateObject,\n  _templateObject2,\n  _templateObject3,\n  _templateObject4,\n  _templateObject5,\n  _s = $RefreshSig$();\nimport { useCelo } from '@celo/react-celo';\nimport React, { useEffect, useState } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { useBlockNumber } from '../../state/application/hooks';\nimport { ExternalLink, TYPE } from '../../theme';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledPolling = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  position: fixed;\\n  display: flex;\\n  right: 0;\\n  bottom: 0;\\n  padding: 1rem;\\n  color: white;\\n  transition: opacity 0.25s ease;\\n  color: \", \";\\n  :hover {\\n    opacity: 1;\\n  }\\n\\n  \", \"\\n\"])), _ref => {\n  let {\n    theme\n  } = _ref;\n  return theme.green1;\n}, _ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return theme.mediaWidth.upToMedium(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n    display: none;\\n  \"])));\n});\n_c = StyledPolling;\nconst StyledPollingDot = styled.div(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  width: 8px;\\n  height: 8px;\\n  min-height: 8px;\\n  min-width: 8px;\\n  margin-left: 0.5rem;\\n  margin-top: 3px;\\n  border-radius: 50%;\\n  position: relative;\\n  background-color: \", \";\\n\"])), _ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return theme.green1;\n});\n_c2 = StyledPollingDot;\nconst rotate360 = keyframes(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  from {\\n    transform: rotate(0deg);\\n  }\\n  to {\\n    transform: rotate(360deg);\\n  }\\n\"])));\nconst Spinner = styled.div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  animation: \", \" 1s cubic-bezier(0.83, 0, 0.17, 1) infinite;\\n  transform: translateZ(0);\\n\\n  border-top: 1px solid transparent;\\n  border-right: 1px solid transparent;\\n  border-bottom: 1px solid transparent;\\n  border-left: 2px solid \", \";\\n  background: transparent;\\n  width: 14px;\\n  height: 14px;\\n  border-radius: 50%;\\n  position: relative;\\n\\n  left: -3px;\\n  top: -3px;\\n\"])), rotate360, _ref4 => {\n  let {\n    theme\n  } = _ref4;\n  return theme.green1;\n});\n_c3 = Spinner;\nexport default function Polling() {\n  _s();\n  const {\n    network\n  } = useCelo();\n  const chainId = network.chainId;\n  const blockNumber = useBlockNumber();\n  const [isMounted, setIsMounted] = useState(true);\n  useEffect(() => {\n    const timer1 = setTimeout(() => setIsMounted(true), 1000);\n\n    // this will clear Timeout when component unmount like in willComponentUnmount\n    return () => {\n      setIsMounted(false);\n      clearTimeout(timer1);\n    };\n  }, [blockNumber] //useEffect will run only one time\n  //if you pass a value to array, like this [data] than clearTimeout will run every time this value changes (useEffect re-run)\n  );\n\n  return /*#__PURE__*/_jsxDEV(ExternalLink, {\n    href: chainId && blockNumber ? \"\".concat(network.explorer, \"/blocks\") : '',\n    children: /*#__PURE__*/_jsxDEV(StyledPolling, {\n      children: [/*#__PURE__*/_jsxDEV(TYPE.small, {\n        style: {\n          opacity: isMounted ? '0.2' : '0.6'\n        },\n        children: blockNumber\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledPollingDot, {\n        children: !isMounted && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n_s(Polling, \"8CZGQ2IWnPzIB7LzgYXRSvfelrw=\", false, function () {\n  return [useCelo, useBlockNumber];\n});\n_c4 = Polling;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"StyledPolling\");\n$RefreshReg$(_c2, \"StyledPollingDot\");\n$RefreshReg$(_c3, \"Spinner\");\n$RefreshReg$(_c4, \"Polling\");","map":{"version":3,"names":["useCelo","React","useEffect","useState","styled","keyframes","useBlockNumber","ExternalLink","TYPE","jsxDEV","_jsxDEV","StyledPolling","div","_templateObject","_taggedTemplateLiteral","_ref","theme","green1","_ref2","mediaWidth","upToMedium","_templateObject2","_c","StyledPollingDot","_templateObject3","_ref3","_c2","rotate360","_templateObject4","Spinner","_templateObject5","_ref4","_c3","Polling","_s","network","chainId","blockNumber","isMounted","setIsMounted","timer1","setTimeout","clearTimeout","href","concat","explorer","children","small","style","opacity","fileName","_jsxFileName","lineNumber","columnNumber","_c4","$RefreshReg$"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/src/components/Header/Polling.tsx"],"sourcesContent":["import { useCelo } from '@celo/react-celo'\nimport { ChainId } from '@ubeswap/sdk'\nimport React, { useEffect, useState } from 'react'\nimport styled, { keyframes } from 'styled-components'\n\nimport { useBlockNumber } from '../../state/application/hooks'\nimport { ExternalLink, TYPE } from '../../theme'\n\nconst StyledPolling = styled.div`\n  position: fixed;\n  display: flex;\n  right: 0;\n  bottom: 0;\n  padding: 1rem;\n  color: white;\n  transition: opacity 0.25s ease;\n  color: ${({ theme }) => theme.green1};\n  :hover {\n    opacity: 1;\n  }\n\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    display: none;\n  `}\n`\nconst StyledPollingDot = styled.div`\n  width: 8px;\n  height: 8px;\n  min-height: 8px;\n  min-width: 8px;\n  margin-left: 0.5rem;\n  margin-top: 3px;\n  border-radius: 50%;\n  position: relative;\n  background-color: ${({ theme }) => theme.green1};\n`\n\nconst rotate360 = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nconst Spinner = styled.div`\n  animation: ${rotate360} 1s cubic-bezier(0.83, 0, 0.17, 1) infinite;\n  transform: translateZ(0);\n\n  border-top: 1px solid transparent;\n  border-right: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n  border-left: 2px solid ${({ theme }) => theme.green1};\n  background: transparent;\n  width: 14px;\n  height: 14px;\n  border-radius: 50%;\n  position: relative;\n\n  left: -3px;\n  top: -3px;\n`\n\nexport default function Polling() {\n  const { network } = useCelo()\n  const chainId = network.chainId as unknown as ChainId\n\n  const blockNumber = useBlockNumber()\n\n  const [isMounted, setIsMounted] = useState(true)\n\n  useEffect(\n    () => {\n      const timer1 = setTimeout(() => setIsMounted(true), 1000)\n\n      // this will clear Timeout when component unmount like in willComponentUnmount\n      return () => {\n        setIsMounted(false)\n        clearTimeout(timer1)\n      }\n    },\n    [blockNumber] //useEffect will run only one time\n    //if you pass a value to array, like this [data] than clearTimeout will run every time this value changes (useEffect re-run)\n  )\n\n  return (\n    <ExternalLink href={chainId && blockNumber ? `${network.explorer}/blocks` : ''}>\n      <StyledPolling>\n        <TYPE.small style={{ opacity: isMounted ? '0.2' : '0.6' }}>{blockNumber}</TYPE.small>\n        <StyledPollingDot>{!isMounted && <Spinner />}</StyledPollingDot>\n      </StyledPolling>\n    </ExternalLink>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}