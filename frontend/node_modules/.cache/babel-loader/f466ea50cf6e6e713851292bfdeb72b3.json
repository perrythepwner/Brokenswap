{"ast":null,"code":"import React,{useContext,useMemo,useState}from'react';import{Repeat}from'react-feather';import{Text}from'rebass';import{ThemeContext}from'styled-components';import{computeTradePriceBreakdown,formatExecutionPrice,warningSeverity}from'../../utils/prices';import{ButtonError}from'../Button';import{AutoColumn}from'../Column';import{AutoRow,RowBetween}from'../Row';import{describeTrade,RoutingMethod}from'./routing/describeTrade';import{TradeDetails}from'./routing/TradeDetails';import{StyledBalanceMaxMini,SwapCallbackError}from'./styleds';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function SwapModalFooter(_ref){let{trade,onConfirm,allowedSlippage,swapErrorMessage,disabledConfirm}=_ref;const{label,routingMethod}=describeTrade(trade);const[showInverted,setShowInverted]=useState(false);const theme=useContext(ThemeContext);const{priceImpactWithoutFee}=useMemo(()=>computeTradePriceBreakdown(trade),[trade]);const severity=warningSeverity(priceImpactWithoutFee);let info=null;if(routingMethod===RoutingMethod.MOOLA){info=/*#__PURE__*/_jsxs(AutoColumn,{gap:\"0px\",children:[/*#__PURE__*/_jsxs(RowBetween,{align:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontWeight:400,fontSize:14,color:theme.text2,children:\"Price\"}),/*#__PURE__*/_jsxs(Text,{fontWeight:500,fontSize:14,color:theme.text1,style:{justifyContent:'center',alignItems:'center',display:'flex',textAlign:'right',paddingLeft:'10px'},children:[formatExecutionPrice(trade,showInverted),/*#__PURE__*/_jsx(StyledBalanceMaxMini,{onClick:()=>setShowInverted(!showInverted),children:/*#__PURE__*/_jsx(Repeat,{size:14})})]})]}),/*#__PURE__*/_jsx(TradeDetails,{trade:trade,allowedSlippage:allowedSlippage})]});}else if(routingMethod===RoutingMethod.LIMIT){info=/*#__PURE__*/_jsx(AutoColumn,{gap:\"0px\",children:/*#__PURE__*/_jsxs(RowBetween,{align:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontWeight:400,fontSize:14,color:theme.text2,children:\"Price\"}),/*#__PURE__*/_jsxs(Text,{fontWeight:500,fontSize:14,color:theme.text1,style:{justifyContent:'center',alignItems:'center',display:'flex',textAlign:'right',paddingLeft:'10px'},children:[formatExecutionPrice(trade,showInverted),/*#__PURE__*/_jsx(StyledBalanceMaxMini,{onClick:()=>setShowInverted(!showInverted),children:/*#__PURE__*/_jsx(Repeat,{size:14})})]})]})});}else{info=/*#__PURE__*/_jsxs(AutoColumn,{gap:\"0px\",children:[/*#__PURE__*/_jsxs(RowBetween,{align:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontWeight:400,fontSize:14,color:theme.text2,children:\"Price\"}),/*#__PURE__*/_jsxs(Text,{fontWeight:500,fontSize:14,color:theme.text1,style:{justifyContent:'center',alignItems:'center',display:'flex',textAlign:'right',paddingLeft:'10px'},children:[formatExecutionPrice(trade,showInverted),/*#__PURE__*/_jsx(StyledBalanceMaxMini,{onClick:()=>setShowInverted(!showInverted),children:/*#__PURE__*/_jsx(Repeat,{size:14})})]})]}),/*#__PURE__*/_jsx(TradeDetails,{trade:trade,allowedSlippage:allowedSlippage})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[info,/*#__PURE__*/_jsxs(AutoRow,{children:[/*#__PURE__*/_jsx(ButtonError,{onClick:onConfirm,disabled:disabledConfirm,error:severity>2,style:{margin:'10px 0 0 0'},id:\"confirm-swap-or-send\",children:/*#__PURE__*/_jsx(Text,{fontSize:20,fontWeight:500,children:severity>2?'Swap Anyway':\"Confirm \".concat(label)})}),swapErrorMessage?/*#__PURE__*/_jsx(SwapCallbackError,{error:swapErrorMessage}):null]})]});}","map":{"version":3,"names":["React","useContext","useMemo","useState","Repeat","Text","ThemeContext","computeTradePriceBreakdown","formatExecutionPrice","warningSeverity","ButtonError","AutoColumn","AutoRow","RowBetween","describeTrade","RoutingMethod","TradeDetails","StyledBalanceMaxMini","SwapCallbackError","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SwapModalFooter","_ref","trade","onConfirm","allowedSlippage","swapErrorMessage","disabledConfirm","label","routingMethod","showInverted","setShowInverted","theme","priceImpactWithoutFee","severity","info","MOOLA","gap","children","align","fontWeight","fontSize","color","text2","text1","style","justifyContent","alignItems","display","textAlign","paddingLeft","onClick","size","LIMIT","disabled","error","margin","id","concat"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/src/components/swap/SwapModalFooter.tsx"],"sourcesContent":["import { Trade } from '@ubeswap/sdk'\nimport React, { useContext, useMemo, useState } from 'react'\nimport { Repeat } from 'react-feather'\nimport { Text } from 'rebass'\nimport { ThemeContext } from 'styled-components'\n\nimport { computeTradePriceBreakdown, formatExecutionPrice, warningSeverity } from '../../utils/prices'\nimport { ButtonError } from '../Button'\nimport { AutoColumn } from '../Column'\nimport { AutoRow, RowBetween } from '../Row'\nimport { describeTrade, RoutingMethod } from './routing/describeTrade'\nimport { TradeDetails } from './routing/TradeDetails'\nimport { StyledBalanceMaxMini, SwapCallbackError } from './styleds'\n\nexport default function SwapModalFooter({\n  trade,\n  onConfirm,\n  allowedSlippage,\n  swapErrorMessage,\n  disabledConfirm,\n}: {\n  trade: Trade\n  allowedSlippage: number\n  onConfirm: () => void\n  swapErrorMessage: string | undefined\n  disabledConfirm: boolean\n}) {\n  const { label, routingMethod } = describeTrade(trade)\n  const [showInverted, setShowInverted] = useState<boolean>(false)\n  const theme = useContext(ThemeContext)\n  const { priceImpactWithoutFee } = useMemo(() => computeTradePriceBreakdown(trade), [trade])\n  const severity = warningSeverity(priceImpactWithoutFee)\n\n  let info: React.ReactNode = null\n  if (routingMethod === RoutingMethod.MOOLA) {\n    info = (\n      <AutoColumn gap=\"0px\">\n        <RowBetween align=\"center\">\n          <Text fontWeight={400} fontSize={14} color={theme.text2}>\n            Price\n          </Text>\n          <Text\n            fontWeight={500}\n            fontSize={14}\n            color={theme.text1}\n            style={{\n              justifyContent: 'center',\n              alignItems: 'center',\n              display: 'flex',\n              textAlign: 'right',\n              paddingLeft: '10px',\n            }}\n          >\n            {formatExecutionPrice(trade, showInverted)}\n            <StyledBalanceMaxMini onClick={() => setShowInverted(!showInverted)}>\n              <Repeat size={14} />\n            </StyledBalanceMaxMini>\n          </Text>\n        </RowBetween>\n\n        <TradeDetails trade={trade} allowedSlippage={allowedSlippage} />\n      </AutoColumn>\n    )\n  } else if (routingMethod === RoutingMethod.LIMIT) {\n    info = (\n      <AutoColumn gap=\"0px\">\n        <RowBetween align=\"center\">\n          <Text fontWeight={400} fontSize={14} color={theme.text2}>\n            Price\n          </Text>\n          <Text\n            fontWeight={500}\n            fontSize={14}\n            color={theme.text1}\n            style={{\n              justifyContent: 'center',\n              alignItems: 'center',\n              display: 'flex',\n              textAlign: 'right',\n              paddingLeft: '10px',\n            }}\n          >\n            {formatExecutionPrice(trade, showInverted)}\n            <StyledBalanceMaxMini onClick={() => setShowInverted(!showInverted)}>\n              <Repeat size={14} />\n            </StyledBalanceMaxMini>\n          </Text>\n        </RowBetween>\n      </AutoColumn>\n    )\n  } else {\n    info = (\n      <AutoColumn gap=\"0px\">\n        <RowBetween align=\"center\">\n          <Text fontWeight={400} fontSize={14} color={theme.text2}>\n            Price\n          </Text>\n          <Text\n            fontWeight={500}\n            fontSize={14}\n            color={theme.text1}\n            style={{\n              justifyContent: 'center',\n              alignItems: 'center',\n              display: 'flex',\n              textAlign: 'right',\n              paddingLeft: '10px',\n            }}\n          >\n            {formatExecutionPrice(trade, showInverted)}\n            <StyledBalanceMaxMini onClick={() => setShowInverted(!showInverted)}>\n              <Repeat size={14} />\n            </StyledBalanceMaxMini>\n          </Text>\n        </RowBetween>\n\n        <TradeDetails trade={trade} allowedSlippage={allowedSlippage} />\n      </AutoColumn>\n    )\n  }\n\n  return (\n    <>\n      {info}\n      <AutoRow>\n        <ButtonError\n          onClick={onConfirm}\n          disabled={disabledConfirm}\n          error={severity > 2}\n          style={{ margin: '10px 0 0 0' }}\n          id=\"confirm-swap-or-send\"\n        >\n          <Text fontSize={20} fontWeight={500}>\n            {severity > 2 ? 'Swap Anyway' : `Confirm ${label}`}\n          </Text>\n        </ButtonError>\n        {swapErrorMessage ? <SwapCallbackError error={swapErrorMessage} /> : null}\n      </AutoRow>\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}