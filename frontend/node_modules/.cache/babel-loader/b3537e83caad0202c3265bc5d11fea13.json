{"ast":null,"code":"const request = require(\"xhr-request-promise\");\nconst genPayload = (() => {\n  let nextId = 0;\n  return (method, params) => ({\n    jsonrpc: \"2.0\",\n    id: ++nextId,\n    method: method,\n    params: params\n  });\n})();\nconst send = url => (method, params) => {\n  return request(url, {\n    method: \"POST\",\n    contentType: \"application/json-rpc\",\n    body: JSON.stringify(genPayload(method, params))\n  }).then(answer => {\n    var resp = JSON.parse(answer); // todo: use njsp?\n    if (resp.error) {\n      throw new Error(resp.error.message);\n    } else {\n      return resp.result;\n    }\n  }).catch(e => {\n    return {\n      error: e.toString()\n    };\n  });\n};\nmodule.exports = send;","map":{"version":3,"names":["request","require","genPayload","nextId","method","params","jsonrpc","id","send","url","contentType","body","JSON","stringify","then","answer","resp","parse","error","Error","message","result","catch","e","toString","module","exports"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/eth-lib/lib/rpc.js"],"sourcesContent":["const request = require(\"xhr-request-promise\");\n\nconst genPayload = (() => {\n  let nextId = 0;\n  return (method, params) => ({\n    jsonrpc: \"2.0\",\n    id: ++nextId,\n    method: method,\n    params: params\n  });\n})();\n\nconst send = url => (method, params) => {\n  return request(url, {\n    method: \"POST\",\n    contentType: \"application/json-rpc\",\n    body: JSON.stringify(genPayload(method, params))\n  }).then(answer => {\n    var resp = JSON.parse(answer); // todo: use njsp?\n    if (resp.error) {\n      throw new Error(resp.error.message);\n    } else {\n      return resp.result;\n    }\n  }).catch(e => {\n    return { error: e.toString() };\n  });\n};\n\nmodule.exports = send;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AAE9C,MAAMC,UAAU,GAAG,CAAC,MAAM;EACxB,IAAIC,MAAM,GAAG,CAAC;EACd,OAAO,CAACC,MAAM,EAAEC,MAAM,MAAM;IAC1BC,OAAO,EAAE,KAAK;IACdC,EAAE,EAAE,EAAEJ,MAAM;IACZC,MAAM,EAAEA,MAAM;IACdC,MAAM,EAAEA;EACV,CAAC,CAAC;AACJ,CAAC,EAAE,CAAC;AAEJ,MAAMG,IAAI,GAAGC,GAAG,IAAI,CAACL,MAAM,EAAEC,MAAM,KAAK;EACtC,OAAOL,OAAO,CAACS,GAAG,EAAE;IAClBL,MAAM,EAAE,MAAM;IACdM,WAAW,EAAE,sBAAsB;IACnCC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACX,UAAU,CAACE,MAAM,EAAEC,MAAM,CAAC;EACjD,CAAC,CAAC,CAACS,IAAI,CAACC,MAAM,IAAI;IAChB,IAAIC,IAAI,GAAGJ,IAAI,CAACK,KAAK,CAACF,MAAM,CAAC,CAAC,CAAC;IAC/B,IAAIC,IAAI,CAACE,KAAK,EAAE;MACd,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACE,KAAK,CAACE,OAAO,CAAC;IACrC,CAAC,MAAM;MACL,OAAOJ,IAAI,CAACK,MAAM;IACpB;EACF,CAAC,CAAC,CAACC,KAAK,CAACC,CAAC,IAAI;IACZ,OAAO;MAAEL,KAAK,EAAEK,CAAC,CAACC,QAAQ,CAAC;IAAE,CAAC;EAChC,CAAC,CAAC;AACJ,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGlB,IAAI"},"metadata":{},"sourceType":"script"}