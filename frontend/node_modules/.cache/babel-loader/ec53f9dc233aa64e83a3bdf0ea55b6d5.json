{"ast":null,"code":"import _objectSpread from\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _taggedTemplateLiteral from\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";const _excluded=[\"minHeight\",\"maxHeight\",\"mobile\",\"isOpen\"];var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import'@reach/dialog/styles.css';import{DialogContent,DialogOverlay}from'@reach/dialog';import{transparentize}from'polished';import React from'react';import{isMobile}from'react-device-detect';import{animated,useSpring,useTransition}from'react-spring';import{useGesture}from'react-use-gesture';import styled,{css}from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const AnimatedDialogOverlay=animated(DialogOverlay);// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogOverlay=styled(AnimatedDialogOverlay)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  &[data-reach-dialog-overlay] {\\n    z-index: 2;\\n    background-color: transparent;\\n    overflow: hidden;\\n\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n\\n    background-color: \",\";\\n  }\\n\"])),_ref=>{let{theme}=_ref;return theme.modalBG;});const AnimatedDialogContent=animated(DialogContent);// destructure to not pass custom props to Dialog DOM element\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogContent=styled(_ref2=>{let{minHeight,maxHeight,mobile,isOpen}=_ref2,rest=_objectWithoutProperties(_ref2,_excluded);return/*#__PURE__*/_jsx(AnimatedDialogContent,_objectSpread({},rest));}).attrs({'aria-label':'dialog'})(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  overflow-y: \",\";\\n\\n  &[data-reach-dialog-content] {\\n    margin: 0 0 2rem 0;\\n    background-color: \",\";\\n    box-shadow: 0 4px 8px 0 \",\";\\n    padding: 0px;\\n    width: 50vw;\\n    overflow-y: \",\";\\n    overflow-x: hidden;\\n\\n    align-self: \",\";\\n\\n    max-width: 420px;\\n    \",\"\\n    \",\"\\n    display: flex;\\n    border-radius: 20px;\\n    \",\"\\n    \",\"\\n  }\\n\"])),_ref3=>{let{mobile}=_ref3;return mobile?'scroll':'hidden';},_ref4=>{let{theme}=_ref4;return theme.bg1;},_ref5=>{let{theme}=_ref5;return transparentize(0.95,theme.shadow1);},_ref6=>{let{mobile}=_ref6;return mobile?'scroll':'hidden';},_ref7=>{let{mobile}=_ref7;return mobile?'flex-end':'center';},_ref8=>{let{maxHeight}=_ref8;return maxHeight&&css(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n        max-height: \",\"vh;\\n      \"])),maxHeight);},_ref9=>{let{minHeight}=_ref9;return minHeight&&css(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n        min-height: \",\"vh;\\n      \"])),minHeight);},_ref10=>{let{theme}=_ref10;return theme.mediaWidth.upToMedium(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n      width: 65vw;\\n      margin: 0;\\n    \"])));},_ref11=>{let{theme,mobile}=_ref11;return theme.mediaWidth.upToSmall(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n      width:  85vw;\\n      \",\"\\n    \"])),mobile&&css(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n          width: 100vw;\\n          border-radius: 20px;\\n          border-bottom-left-radius: 0;\\n          border-bottom-right-radius: 0;\\n        \"]))));});export default function Modal(_ref12){let{isOpen,onDismiss,minHeight=false,maxHeight=90,initialFocusRef,children}=_ref12;const fadeTransition=useTransition(isOpen,null,{config:{duration:200},from:{opacity:0},enter:{opacity:1},leave:{opacity:0}});const[{y},set]=useSpring(()=>({y:0,config:{mass:1,tension:210,friction:20}}));const bind=useGesture({onDrag:state=>{set({y:state.down?state.movement[1]:0});if(state.movement[1]>300||state.velocity>3&&state.direction[1]>0){onDismiss();}}});return/*#__PURE__*/_jsx(_Fragment,{children:fadeTransition.map(_ref13=>{let{item,key,props}=_ref13;return item&&/*#__PURE__*/_jsx(StyledDialogOverlay,{style:props,onDismiss:onDismiss,initialFocusRef:initialFocusRef,children:/*#__PURE__*/_jsxs(StyledDialogContent,_objectSpread(_objectSpread({},isMobile?_objectSpread(_objectSpread({},bind()),{},{style:{transform:y.interpolate(n=>\"translateY(\".concat(n>0?n:0,\"px)\"))}}):{}),{},{\"aria-label\":\"dialog content\",minHeight:minHeight,maxHeight:maxHeight,mobile:isMobile,children:[!initialFocusRef&&isMobile?/*#__PURE__*/_jsx(\"div\",{tabIndex:1}):null,children]}))},key);})});}","map":{"version":3,"names":["DialogContent","DialogOverlay","transparentize","React","isMobile","animated","useSpring","useTransition","useGesture","styled","css","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AnimatedDialogOverlay","StyledDialogOverlay","_templateObject","_taggedTemplateLiteral","_ref","theme","modalBG","AnimatedDialogContent","StyledDialogContent","_ref2","minHeight","maxHeight","mobile","isOpen","rest","_objectWithoutProperties","_excluded","_objectSpread","attrs","_templateObject2","_ref3","_ref4","bg1","_ref5","shadow1","_ref6","_ref7","_ref8","_templateObject3","_ref9","_templateObject4","_ref10","mediaWidth","upToMedium","_templateObject5","_ref11","upToSmall","_templateObject6","_templateObject7","Modal","_ref12","onDismiss","initialFocusRef","children","fadeTransition","config","duration","from","opacity","enter","leave","y","set","mass","tension","friction","bind","onDrag","state","down","movement","velocity","direction","map","_ref13","item","key","props","style","transform","interpolate","n","concat","tabIndex"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/src/components/Modal/index.tsx"],"sourcesContent":["import '@reach/dialog/styles.css'\n\nimport { DialogContent, DialogOverlay } from '@reach/dialog'\nimport { transparentize } from 'polished'\nimport React from 'react'\nimport { isMobile } from 'react-device-detect'\nimport { animated, useSpring, useTransition } from 'react-spring'\nimport { useGesture } from 'react-use-gesture'\nimport styled, { css } from 'styled-components'\n\nconst AnimatedDialogOverlay = animated(DialogOverlay)\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogOverlay = styled(AnimatedDialogOverlay)`\n  &[data-reach-dialog-overlay] {\n    z-index: 2;\n    background-color: transparent;\n    overflow: hidden;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: ${({ theme }) => theme.modalBG};\n  }\n`\n\nconst AnimatedDialogContent = animated(DialogContent)\n// destructure to not pass custom props to Dialog DOM element\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogContent = styled(({ minHeight, maxHeight, mobile, isOpen, ...rest }) => (\n  <AnimatedDialogContent {...rest} />\n)).attrs({\n  'aria-label': 'dialog',\n})`\n  overflow-y: ${({ mobile }) => (mobile ? 'scroll' : 'hidden')};\n\n  &[data-reach-dialog-content] {\n    margin: 0 0 2rem 0;\n    background-color: ${({ theme }) => theme.bg1};\n    box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadow1)};\n    padding: 0px;\n    width: 50vw;\n    overflow-y: ${({ mobile }) => (mobile ? 'scroll' : 'hidden')};\n    overflow-x: hidden;\n\n    align-self: ${({ mobile }) => (mobile ? 'flex-end' : 'center')};\n\n    max-width: 420px;\n    ${({ maxHeight }) =>\n      maxHeight &&\n      css`\n        max-height: ${maxHeight}vh;\n      `}\n    ${({ minHeight }) =>\n      minHeight &&\n      css`\n        min-height: ${minHeight}vh;\n      `}\n    display: flex;\n    border-radius: 20px;\n    ${({ theme }) => theme.mediaWidth.upToMedium`\n      width: 65vw;\n      margin: 0;\n    `}\n    ${({ theme, mobile }) => theme.mediaWidth.upToSmall`\n      width:  85vw;\n      ${\n        mobile &&\n        css`\n          width: 100vw;\n          border-radius: 20px;\n          border-bottom-left-radius: 0;\n          border-bottom-right-radius: 0;\n        `\n      }\n    `}\n  }\n`\n\ninterface ModalProps {\n  isOpen: boolean\n  onDismiss: () => void\n  minHeight?: number | false\n  maxHeight?: number\n  initialFocusRef?: React.RefObject<any>\n  children?: React.ReactNode\n}\n\nexport default function Modal({\n  isOpen,\n  onDismiss,\n  minHeight = false,\n  maxHeight = 90,\n  initialFocusRef,\n  children,\n}: ModalProps) {\n  const fadeTransition = useTransition(isOpen, null, {\n    config: { duration: 200 },\n    from: { opacity: 0 },\n    enter: { opacity: 1 },\n    leave: { opacity: 0 },\n  })\n\n  const [{ y }, set] = useSpring(() => ({ y: 0, config: { mass: 1, tension: 210, friction: 20 } }))\n  const bind = useGesture({\n    onDrag: (state) => {\n      set({\n        y: state.down ? state.movement[1] : 0,\n      })\n      if (state.movement[1] > 300 || (state.velocity > 3 && state.direction[1] > 0)) {\n        onDismiss()\n      }\n    },\n  })\n\n  return (\n    <>\n      {fadeTransition.map(\n        ({ item, key, props }) =>\n          item && (\n            <StyledDialogOverlay key={key} style={props} onDismiss={onDismiss} initialFocusRef={initialFocusRef}>\n              <StyledDialogContent\n                {...(isMobile\n                  ? {\n                      ...bind(),\n                      style: {\n                        transform: y.interpolate((n) => `translateY(${(n as unknown as number) > 0 ? n : 0}px)`),\n                      },\n                    }\n                  : {})}\n                aria-label=\"dialog content\"\n                minHeight={minHeight}\n                maxHeight={maxHeight}\n                mobile={isMobile}\n              >\n                {/* prevents the automatic focusing of inputs on mobile by the reach dialog */}\n                {!initialFocusRef && isMobile ? <div tabIndex={1} /> : null}\n                {children}\n              </StyledDialogContent>\n            </StyledDialogOverlay>\n          )\n      )}\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}