{"ast":null,"code":"import{useCelo}from'@celo/react-celo';import React,{useContext,useMemo}from'react';import{AlertTriangle}from'react-feather';import{ThemeContext}from'styled-components';import{AutoColumn,TopSection}from'../../components/Column';import{CardSection,TopBorderCard}from'../../components/earn/styled';import{RowBetween,RowStart}from'../../components/Row';import{usePairs}from'../../data/Reserves';import{toV2LiquidityToken,useTrackedTokenPairs}from'../../state/user/hooks';import{useTokenBalancesWithLoadingIndicator}from'../../state/wallet/hooks';import{StyledInternalLink,TYPE}from'../../theme';import{useUniqueBestFarms}from'../Earn/useFarmRegistry';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LiquidityWarning(){const theme=useContext(ThemeContext);const{address:account}=useCelo();const trackedTokenPairs=useTrackedTokenPairs();const tokenPairsWithLiquidityTokens=useMemo(()=>trackedTokenPairs.map(tokens=>({liquidityToken:toV2LiquidityToken(tokens),tokens})),[trackedTokenPairs]);const liquidityTokens=useMemo(()=>tokenPairsWithLiquidityTokens.map(tpwlt=>tpwlt.liquidityToken),[tokenPairsWithLiquidityTokens]);const[v2PairsBalances]=useTokenBalancesWithLoadingIndicator(account!==null&&account!==void 0?account:undefined,liquidityTokens);const liquidityTokensWithBalances=useMemo(()=>tokenPairsWithLiquidityTokens.filter(_ref=>{var _v2PairsBalances$liqu;let{liquidityToken}=_ref;return(_v2PairsBalances$liqu=v2PairsBalances[liquidityToken.address])===null||_v2PairsBalances$liqu===void 0?void 0:_v2PairsBalances$liqu.greaterThan('0');}).map(_ref2=>{let{tokens}=_ref2;return tokens;}),[tokenPairsWithLiquidityTokens,v2PairsBalances]);const v2Pairs=usePairs(liquidityTokensWithBalances);const farmSummaries=useUniqueBestFarms();const warnings=useMemo(()=>{const localWarnings=[];v2Pairs.forEach(_ref3=>{let[,pair]=_ref3;const lpTokenAddress=pair===null||pair===void 0?void 0:pair.liquidityToken.address;if(lpTokenAddress&&farmSummaries[lpTokenAddress]){const farm=farmSummaries[lpTokenAddress];const poolName=\"\".concat(pair===null||pair===void 0?void 0:pair.token0.symbol,\"-\").concat(pair===null||pair===void 0?void 0:pair.token1.symbol);const link=\"/farm/\".concat(farm===null||farm===void 0?void 0:farm.token0Address,\"/\").concat(farm===null||farm===void 0?void 0:farm.token1Address,\"/\").concat(farm===null||farm===void 0?void 0:farm.stakingAddress);localWarnings.push({poolName,link});}});return localWarnings;},[v2Pairs,farmSummaries]);return/*#__PURE__*/_jsx(TopSection,{gap:\"md\",children:warnings.map(warning=>/*#__PURE__*/_jsx(TopBorderCard,{children:/*#__PURE__*/_jsx(CardSection,{children:/*#__PURE__*/_jsxs(RowStart,{children:[/*#__PURE__*/_jsx(\"div\",{style:{paddingRight:16},children:/*#__PURE__*/_jsx(AlertTriangle,{color:theme.yellow2,size:36})}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsx(RowBetween,{children:/*#__PURE__*/_jsx(TYPE.black,{fontWeight:600,children:'Unstaked LP Tokens for '+warning.poolName})}),/*#__PURE__*/_jsx(RowBetween,{children:/*#__PURE__*/_jsxs(TYPE.black,{fontSize:14,children:[\"Stake into the farming pool \",warning.poolName,\".\"]})}),/*#__PURE__*/_jsx(StyledInternalLink,{to:warning.link,children:'Farm UBE'})]})]})})},warning.link))});}","map":null,"metadata":{},"sourceType":"module"}