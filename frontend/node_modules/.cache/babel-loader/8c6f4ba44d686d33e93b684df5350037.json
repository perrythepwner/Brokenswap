{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decodeLabelhash = decodeLabelhash;\nexports.encodeLabelhash = encodeLabelhash;\nexports.isDecrypted = isDecrypted;\nexports.isEncodedLabelhash = isEncodedLabelhash;\nexports.labelhash = labelhash;\nvar _ethEnsNamehash = require(\"eth-ens-namehash\");\nvar sha3 = require('js-sha3').keccak_256;\nfunction encodeLabelhash(hash) {\n  if (!hash.startsWith('0x')) {\n    throw new Error('Expected label hash to start with 0x');\n  }\n  if (hash.length !== 66) {\n    throw new Error('Expected label hash to have a length of 66');\n  }\n  return \"[\".concat(hash.slice(2), \"]\");\n}\nfunction decodeLabelhash(hash) {\n  if (!(hash.startsWith('[') && hash.endsWith(']'))) {\n    throw Error('Expected encoded labelhash to start and end with square brackets');\n  }\n  if (hash.length !== 66) {\n    throw Error('Expected encoded labelhash to have a length of 66');\n  }\n  return \"\".concat(hash.slice(1, -1));\n}\nfunction isEncodedLabelhash(hash) {\n  return hash.startsWith('[') && hash.endsWith(']') && hash.length === 66;\n}\nfunction isDecrypted(name) {\n  var nameArray = name.split('.');\n  var decrypted = nameArray.reduce(function (acc, label) {\n    if (acc === false) return false;\n    return isEncodedLabelhash(label) ? false : true;\n  }, true);\n  return decrypted;\n}\nfunction labelhash(unnormalisedLabelOrLabelhash) {\n  return isEncodedLabelhash(unnormalisedLabelOrLabelhash) ? '0x' + decodeLabelhash(unnormalisedLabelOrLabelhash) : '0x' + sha3((0, _ethEnsNamehash.normalize)(unnormalisedLabelOrLabelhash));\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","decodeLabelhash","encodeLabelhash","isDecrypted","isEncodedLabelhash","labelhash","_ethEnsNamehash","require","sha3","keccak_256","hash","startsWith","Error","length","concat","slice","endsWith","name","nameArray","split","decrypted","reduce","acc","label","unnormalisedLabelOrLabelhash","normalize"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@ensdomains/ensjs/dist/utils/labelhash.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decodeLabelhash = decodeLabelhash;\nexports.encodeLabelhash = encodeLabelhash;\nexports.isDecrypted = isDecrypted;\nexports.isEncodedLabelhash = isEncodedLabelhash;\nexports.labelhash = labelhash;\n\nvar _ethEnsNamehash = require(\"eth-ens-namehash\");\n\nvar sha3 = require('js-sha3').keccak_256;\n\nfunction encodeLabelhash(hash) {\n  if (!hash.startsWith('0x')) {\n    throw new Error('Expected label hash to start with 0x');\n  }\n\n  if (hash.length !== 66) {\n    throw new Error('Expected label hash to have a length of 66');\n  }\n\n  return \"[\".concat(hash.slice(2), \"]\");\n}\n\nfunction decodeLabelhash(hash) {\n  if (!(hash.startsWith('[') && hash.endsWith(']'))) {\n    throw Error('Expected encoded labelhash to start and end with square brackets');\n  }\n\n  if (hash.length !== 66) {\n    throw Error('Expected encoded labelhash to have a length of 66');\n  }\n\n  return \"\".concat(hash.slice(1, -1));\n}\n\nfunction isEncodedLabelhash(hash) {\n  return hash.startsWith('[') && hash.endsWith(']') && hash.length === 66;\n}\n\nfunction isDecrypted(name) {\n  var nameArray = name.split('.');\n  var decrypted = nameArray.reduce(function (acc, label) {\n    if (acc === false) return false;\n    return isEncodedLabelhash(label) ? false : true;\n  }, true);\n  return decrypted;\n}\n\nfunction labelhash(unnormalisedLabelOrLabelhash) {\n  return isEncodedLabelhash(unnormalisedLabelOrLabelhash) ? '0x' + decodeLabelhash(unnormalisedLabelOrLabelhash) : '0x' + sha3((0, _ethEnsNamehash.normalize)(unnormalisedLabelOrLabelhash));\n}"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,eAAe,GAAGA,eAAe;AACzCF,OAAO,CAACG,eAAe,GAAGA,eAAe;AACzCH,OAAO,CAACI,WAAW,GAAGA,WAAW;AACjCJ,OAAO,CAACK,kBAAkB,GAAGA,kBAAkB;AAC/CL,OAAO,CAACM,SAAS,GAAGA,SAAS;AAE7B,IAAIC,eAAe,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AAEjD,IAAIC,IAAI,GAAGD,OAAO,CAAC,SAAS,CAAC,CAACE,UAAU;AAExC,SAASP,eAAeA,CAACQ,IAAI,EAAE;EAC7B,IAAI,CAACA,IAAI,CAACC,UAAU,CAAC,IAAI,CAAC,EAAE;IAC1B,MAAM,IAAIC,KAAK,CAAC,sCAAsC,CAAC;EACzD;EAEA,IAAIF,IAAI,CAACG,MAAM,KAAK,EAAE,EAAE;IACtB,MAAM,IAAID,KAAK,CAAC,4CAA4C,CAAC;EAC/D;EAEA,OAAO,GAAG,CAACE,MAAM,CAACJ,IAAI,CAACK,KAAK,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC;AACvC;AAEA,SAASd,eAAeA,CAACS,IAAI,EAAE;EAC7B,IAAI,EAAEA,IAAI,CAACC,UAAU,CAAC,GAAG,CAAC,IAAID,IAAI,CAACM,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAE;IACjD,MAAMJ,KAAK,CAAC,kEAAkE,CAAC;EACjF;EAEA,IAAIF,IAAI,CAACG,MAAM,KAAK,EAAE,EAAE;IACtB,MAAMD,KAAK,CAAC,mDAAmD,CAAC;EAClE;EAEA,OAAO,EAAE,CAACE,MAAM,CAACJ,IAAI,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACrC;AAEA,SAASX,kBAAkBA,CAACM,IAAI,EAAE;EAChC,OAAOA,IAAI,CAACC,UAAU,CAAC,GAAG,CAAC,IAAID,IAAI,CAACM,QAAQ,CAAC,GAAG,CAAC,IAAIN,IAAI,CAACG,MAAM,KAAK,EAAE;AACzE;AAEA,SAASV,WAAWA,CAACc,IAAI,EAAE;EACzB,IAAIC,SAAS,GAAGD,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC;EAC/B,IAAIC,SAAS,GAAGF,SAAS,CAACG,MAAM,CAAC,UAAUC,GAAG,EAAEC,KAAK,EAAE;IACrD,IAAID,GAAG,KAAK,KAAK,EAAE,OAAO,KAAK;IAC/B,OAAOlB,kBAAkB,CAACmB,KAAK,CAAC,GAAG,KAAK,GAAG,IAAI;EACjD,CAAC,EAAE,IAAI,CAAC;EACR,OAAOH,SAAS;AAClB;AAEA,SAASf,SAASA,CAACmB,4BAA4B,EAAE;EAC/C,OAAOpB,kBAAkB,CAACoB,4BAA4B,CAAC,GAAG,IAAI,GAAGvB,eAAe,CAACuB,4BAA4B,CAAC,GAAG,IAAI,GAAGhB,IAAI,CAAC,CAAC,CAAC,EAAEF,eAAe,CAACmB,SAAS,EAAED,4BAA4B,CAAC,CAAC;AAC5L"},"metadata":{},"sourceType":"script"}