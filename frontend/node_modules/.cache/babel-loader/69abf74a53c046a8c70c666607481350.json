{"ast":null,"code":"import{useCelo}from'@celo/react-celo';import{useCallback,useMemo}from'react';import{useDispatch,useSelector}from'react-redux';import{addPopup,ApplicationModal,removePopup,setOpenModal}from'./actions';export function useBlockNumber(){const{network}=useCelo();const chainId=network.chainId;return useSelector(state=>state.application.blockNumber[chainId!==null&&chainId!==void 0?chainId:-1]);}export function useModalOpen(modal){const openModal=useSelector(state=>state.application.openModal);return openModal===modal;}export function useToggleModal(modal){const open=useModalOpen(modal);const dispatch=useDispatch();return useCallback(()=>dispatch(setOpenModal(open?null:modal)),[dispatch,modal,open]);}export function useOpenModal(modal){const dispatch=useDispatch();return useCallback(()=>dispatch(setOpenModal(modal)),[dispatch,modal]);}export function useCloseModals(){const dispatch=useDispatch();return useCallback(()=>dispatch(setOpenModal(null)),[dispatch]);}export function useWalletModalToggle(){const{connect,address}=useCelo();const toggle=useToggleModal(ApplicationModal.WALLET);return address===null?connect:toggle;}export function useToggleSettingsMenu(){return useToggleModal(ApplicationModal.SETTINGS);}export function useShowClaimPopup(){return useModalOpen(ApplicationModal.CLAIM_POPUP);}export function useToggleShowClaimPopup(){return useToggleModal(ApplicationModal.CLAIM_POPUP);}export function useToggleSelfClaimModal(){return useToggleModal(ApplicationModal.SELF_CLAIM);}export function useToggleDelegateModal(){return useToggleModal(ApplicationModal.DELEGATE);}export function useToggleVoteModal(){return useToggleModal(ApplicationModal.VOTE);}// returns a function that allows adding a popup\nexport function useAddPopup(){const dispatch=useDispatch();return useCallback((content,key)=>{dispatch(addPopup({content,key}));},[dispatch]);}// returns a function that allows removing a popup via its key\nexport function useRemovePopup(){const dispatch=useDispatch();return useCallback(key=>{dispatch(removePopup({key}));},[dispatch]);}// get the list of active popups\nexport function useActivePopups(){const list=useSelector(state=>state.application.popupList);return useMemo(()=>list.filter(item=>item.show),[list]);}","map":{"version":3,"names":["useCelo","useCallback","useMemo","useDispatch","useSelector","addPopup","ApplicationModal","removePopup","setOpenModal","useBlockNumber","network","chainId","state","application","blockNumber","useModalOpen","modal","openModal","useToggleModal","open","dispatch","useOpenModal","useCloseModals","useWalletModalToggle","connect","address","toggle","WALLET","useToggleSettingsMenu","SETTINGS","useShowClaimPopup","CLAIM_POPUP","useToggleShowClaimPopup","useToggleSelfClaimModal","SELF_CLAIM","useToggleDelegateModal","DELEGATE","useToggleVoteModal","VOTE","useAddPopup","content","key","useRemovePopup","useActivePopups","list","popupList","filter","item","show"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/src/state/application/hooks.ts"],"sourcesContent":["import { useCelo } from '@celo/react-celo'\nimport { useCallback, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { AppDispatch, AppState } from '../index'\nimport { addPopup, ApplicationModal, PopupContent, removePopup, setOpenModal } from './actions'\n\nexport function useBlockNumber(): number | undefined {\n  const { network } = useCelo()\n  const chainId = network.chainId\n\n  return useSelector((state: AppState) => state.application.blockNumber[chainId ?? -1])\n}\n\nexport function useModalOpen(modal: ApplicationModal): boolean {\n  const openModal = useSelector((state: AppState) => state.application.openModal)\n  return openModal === modal\n}\n\nexport function useToggleModal(modal: ApplicationModal): () => void {\n  const open = useModalOpen(modal)\n  const dispatch = useDispatch<AppDispatch>()\n  return useCallback(() => dispatch(setOpenModal(open ? null : modal)), [dispatch, modal, open])\n}\n\nexport function useOpenModal(modal: ApplicationModal): () => void {\n  const dispatch = useDispatch<AppDispatch>()\n  return useCallback(() => dispatch(setOpenModal(modal)), [dispatch, modal])\n}\n\nexport function useCloseModals(): () => void {\n  const dispatch = useDispatch<AppDispatch>()\n  return useCallback(() => dispatch(setOpenModal(null)), [dispatch])\n}\n\nexport function useWalletModalToggle(): () => void {\n  const { connect, address } = useCelo()\n  const toggle = useToggleModal(ApplicationModal.WALLET)\n  return address === null ? connect : toggle\n}\n\nexport function useToggleSettingsMenu(): () => void {\n  return useToggleModal(ApplicationModal.SETTINGS)\n}\n\nexport function useShowClaimPopup(): boolean {\n  return useModalOpen(ApplicationModal.CLAIM_POPUP)\n}\n\nexport function useToggleShowClaimPopup(): () => void {\n  return useToggleModal(ApplicationModal.CLAIM_POPUP)\n}\n\nexport function useToggleSelfClaimModal(): () => void {\n  return useToggleModal(ApplicationModal.SELF_CLAIM)\n}\n\nexport function useToggleDelegateModal(): () => void {\n  return useToggleModal(ApplicationModal.DELEGATE)\n}\n\nexport function useToggleVoteModal(): () => void {\n  return useToggleModal(ApplicationModal.VOTE)\n}\n\n// returns a function that allows adding a popup\nexport function useAddPopup(): (content: PopupContent, key?: string) => void {\n  const dispatch = useDispatch()\n\n  return useCallback(\n    (content: PopupContent, key?: string) => {\n      dispatch(addPopup({ content, key }))\n    },\n    [dispatch]\n  )\n}\n\n// returns a function that allows removing a popup via its key\nexport function useRemovePopup(): (key: string) => void {\n  const dispatch = useDispatch()\n  return useCallback(\n    (key: string) => {\n      dispatch(removePopup({ key }))\n    },\n    [dispatch]\n  )\n}\n\n// get the list of active popups\nexport function useActivePopups(): AppState['application']['popupList'] {\n  const list = useSelector((state: AppState) => state.application.popupList)\n  return useMemo(() => list.filter((item) => item.show), [list])\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}