{"ast":null,"code":"import _objectSpread from\"/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createReducer}from'@reduxjs/toolkit';import{Field,replaceSwapState,selectCurrency,setRecipient,switchCurrencies,typeInput}from'./actions';const initialState={independentField:Field.INPUT,typedValue:'',[Field.INPUT]:{currencyId:''},[Field.OUTPUT]:{currencyId:''},recipient:null};export default createReducer(initialState,builder=>builder.addCase(replaceSwapState,(state,_ref)=>{let{payload:{typedValue,recipient,field,inputCurrencyId,outputCurrencyId}}=_ref;return{[Field.INPUT]:{currencyId:inputCurrencyId},[Field.OUTPUT]:{currencyId:outputCurrencyId},independentField:field,typedValue:typedValue,recipient};}).addCase(selectCurrency,(state,_ref2)=>{let{payload:{currencyId,field}}=_ref2;const otherField=field===Field.INPUT?Field.OUTPUT:Field.INPUT;if(currencyId===state[otherField].currencyId){// the case where we have to swap the order\nreturn _objectSpread(_objectSpread({},state),{},{independentField:state.independentField===Field.INPUT?Field.OUTPUT:Field.INPUT,[field]:{currencyId:currencyId},[otherField]:{currencyId:state[field].currencyId}});}else{// the normal case\nreturn _objectSpread(_objectSpread({},state),{},{[field]:{currencyId:currencyId}});}}).addCase(switchCurrencies,state=>{return _objectSpread(_objectSpread({},state),{},{// independentField: state.independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT,\n[Field.INPUT]:{currencyId:state[Field.OUTPUT].currencyId},[Field.OUTPUT]:{currencyId:state[Field.INPUT].currencyId}});}).addCase(typeInput,(state,_ref3)=>{let{payload:{field,typedValue}}=_ref3;return _objectSpread(_objectSpread({},state),{},{independentField:field,typedValue});}).addCase(setRecipient,(state,_ref4)=>{let{payload:{recipient}}=_ref4;state.recipient=recipient;}));","map":null,"metadata":{},"sourceType":"module"}