{"ast":null,"code":"import{useEffect,useState}from'react';/**\n * Returns the last value of type T that passes a filter function\n * @param value changing value\n * @param filterFn function that determines whether a given value should be considered for the last value\n */export default function useLast(value,filterFn){const[last,setLast]=useState(filterFn&&filterFn(value)?value:undefined);useEffect(()=>{setLast(last=>{const shouldUse=filterFn?filterFn(value):true;if(shouldUse)return value;return last;});},[filterFn,value]);return last;}function isDefined(x){return x!==null&&x!==undefined;}/**\n * Returns the last truthy value of type T\n * @param value changing value\n */export function useLastTruthy(value){return useLast(value,isDefined);}","map":{"version":3,"names":["useEffect","useState","useLast","value","filterFn","last","setLast","undefined","shouldUse","isDefined","x","useLastTruthy"],"sources":["/home/simone/Scrivania/progetti/HTB_challs/HackTheBoo_23/VeryEasy2/Brokenswap/frontend/src/hooks/useLast.ts"],"sourcesContent":["import { useEffect, useState } from 'react'\n\n/**\n * Returns the last value of type T that passes a filter function\n * @param value changing value\n * @param filterFn function that determines whether a given value should be considered for the last value\n */\nexport default function useLast<T>(\n  value: T | undefined | null,\n  filterFn?: (value: T | null | undefined) => boolean\n): T | null | undefined {\n  const [last, setLast] = useState<T | null | undefined>(filterFn && filterFn(value) ? value : undefined)\n  useEffect(() => {\n    setLast((last) => {\n      const shouldUse: boolean = filterFn ? filterFn(value) : true\n      if (shouldUse) return value\n      return last\n    })\n  }, [filterFn, value])\n  return last\n}\n\nfunction isDefined<T>(x: T | null | undefined): x is T {\n  return x !== null && x !== undefined\n}\n\n/**\n * Returns the last truthy value of type T\n * @param value changing value\n */\nexport function useLastTruthy<T>(value: T | undefined | null): T | null | undefined {\n  return useLast(value, isDefined)\n}\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE3C;AACA;AACA;AACA;AACA,GACA,cAAe,SAAS,CAAAC,OAAOA,CAC7BC,KAA2B,CAC3BC,QAAmD,CAC7B,CACtB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGL,QAAQ,CAAuBG,QAAQ,EAAIA,QAAQ,CAACD,KAAK,CAAC,CAAGA,KAAK,CAAGI,SAAS,CAAC,CACvGP,SAAS,CAAC,IAAM,CACdM,OAAO,CAAED,IAAI,EAAK,CAChB,KAAM,CAAAG,SAAkB,CAAGJ,QAAQ,CAAGA,QAAQ,CAACD,KAAK,CAAC,CAAG,IAAI,CAC5D,GAAIK,SAAS,CAAE,MAAO,CAAAL,KAAK,CAC3B,MAAO,CAAAE,IAAI,CACb,CAAC,CAAC,CACJ,CAAC,CAAE,CAACD,QAAQ,CAAED,KAAK,CAAC,CAAC,CACrB,MAAO,CAAAE,IAAI,CACb,CAEA,QAAS,CAAAI,SAASA,CAAIC,CAAuB,CAAU,CACrD,MAAO,CAAAA,CAAC,GAAK,IAAI,EAAIA,CAAC,GAAKH,SAAS,CACtC,CAEA;AACA;AACA;AACA,GACA,MAAO,SAAS,CAAAI,aAAaA,CAAIR,KAA2B,CAAwB,CAClF,MAAO,CAAAD,OAAO,CAACC,KAAK,CAAEM,SAAS,CAAC,CAClC"},"metadata":{},"sourceType":"module"}