{"ast":null,"code":"import{TradeType}from'@ubeswap/sdk';import React,{useContext,useMemo}from'react';import{AlertTriangle,ArrowDown}from'react-feather';import{Text}from'rebass';import{ThemeContext}from'styled-components';import{Field}from'../../state/swap/actions';import{TYPE}from'../../theme';import{isAddress,shortenAddress}from'../../utils';import{computeSlippageAdjustedAmounts,computeTradePriceBreakdown,warningSeverity}from'../../utils/prices';import{ButtonPrimary}from'../Button';import{AutoColumn}from'../Column';import CurrencyLogo from'../CurrencyLogo';import{RowBetween,RowFixed}from'../Row';import{MoolaDirectTrade}from'./routing/moola/MoolaDirectTrade';import{SwapShowAcceptChanges,TruncatedText}from'./styleds';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SwapModalHeader(_ref){var _slippageAdjustedAmou,_slippageAdjustedAmou2;let{trade,allowedSlippage,recipient,showAcceptChanges,onAcceptChanges}=_ref;const slippageAdjustedAmounts=useMemo(()=>computeSlippageAdjustedAmounts(trade,allowedSlippage),[trade,allowedSlippage]);const{priceImpactWithoutFee}=useMemo(()=>computeTradePriceBreakdown(trade),[trade]);const priceImpactSeverity=warningSeverity(priceImpactWithoutFee);const theme=useContext(ThemeContext);return/*#__PURE__*/_jsxs(AutoColumn,{gap:'md',style:{marginTop:'20px'},children:[/*#__PURE__*/_jsxs(RowBetween,{align:\"flex-end\",children:[/*#__PURE__*/_jsxs(RowFixed,{gap:'0px',children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:trade.inputAmount.currency,size:'24px',style:{marginRight:'12px'}}),/*#__PURE__*/_jsx(TruncatedText,{fontSize:24,fontWeight:500,color:showAcceptChanges&&trade.tradeType===TradeType.EXACT_OUTPUT?theme.primary1:'',children:trade.inputAmount.toSignificant(6)})]}),/*#__PURE__*/_jsx(RowFixed,{gap:'0px',children:/*#__PURE__*/_jsx(Text,{fontSize:24,fontWeight:500,style:{marginLeft:'10px'},children:trade.inputAmount.currency.symbol})})]}),/*#__PURE__*/_jsx(RowFixed,{children:/*#__PURE__*/_jsx(ArrowDown,{size:\"16\",color:theme.text2,style:{marginLeft:'4px',minWidth:'16px'}})}),/*#__PURE__*/_jsxs(RowBetween,{align:\"flex-end\",children:[/*#__PURE__*/_jsxs(RowFixed,{gap:'0px',children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:trade.outputAmount.currency,size:'24px',style:{marginRight:'12px'}}),/*#__PURE__*/_jsx(TruncatedText,{fontSize:24,fontWeight:500,color:priceImpactSeverity>2?theme.red1:showAcceptChanges&&trade.tradeType===TradeType.EXACT_INPUT?theme.primary1:'',children:trade.outputAmount.toSignificant(6)})]}),/*#__PURE__*/_jsx(RowFixed,{gap:'0px',children:/*#__PURE__*/_jsx(Text,{fontSize:24,fontWeight:500,style:{marginLeft:'10px'},children:trade.outputAmount.currency.symbol})})]}),showAcceptChanges?/*#__PURE__*/_jsx(SwapShowAcceptChanges,{justify:\"flex-start\",gap:'0px',children:/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(AlertTriangle,{size:20,style:{marginRight:'8px',minWidth:24}}),/*#__PURE__*/_jsx(TYPE.main,{color:theme.primary1,children:\" Price Updated\"})]}),/*#__PURE__*/_jsx(ButtonPrimary,{style:{padding:'.5rem',width:'fit-content',fontSize:'0.825rem',borderRadius:'12px'},onClick:onAcceptChanges,children:\"Accept\"})]})}):null,!(trade instanceof MoolaDirectTrade)&&/*#__PURE__*/_jsx(AutoColumn,{justify:\"flex-start\",gap:\"sm\",style:{padding:'12px 0 0 0px'},children:trade.tradeType===TradeType.EXACT_INPUT?/*#__PURE__*/_jsxs(TYPE.italic,{textAlign:\"left\",style:{width:'100%'},children:[\"Output is estimated. You will receive at least \",/*#__PURE__*/_jsxs(\"b\",{children:[(_slippageAdjustedAmou=slippageAdjustedAmounts[Field.OUTPUT])===null||_slippageAdjustedAmou===void 0?void 0:_slippageAdjustedAmou.toSignificant(6),\" \",trade.outputAmount.currency.symbol]}),' or the transaction will revert.']}):/*#__PURE__*/_jsxs(TYPE.italic,{textAlign:\"left\",style:{width:'100%'},children:[\"Input is estimated. You will sell at most \",/*#__PURE__*/_jsxs(\"b\",{children:[(_slippageAdjustedAmou2=slippageAdjustedAmounts[Field.INPUT])===null||_slippageAdjustedAmou2===void 0?void 0:_slippageAdjustedAmou2.toSignificant(6),\" \",trade.inputAmount.currency.symbol]}),' or the transaction will revert.']})}),recipient!==null?/*#__PURE__*/_jsx(AutoColumn,{justify:\"flex-start\",gap:\"sm\",style:{padding:'12px 0 0 0px'},children:/*#__PURE__*/_jsxs(TYPE.main,{children:[\"Output will be sent to\",' ',/*#__PURE__*/_jsx(\"b\",{title:recipient,children:isAddress(recipient)?shortenAddress(recipient):recipient})]})}):null]});}","map":null,"metadata":{},"sourceType":"module"}