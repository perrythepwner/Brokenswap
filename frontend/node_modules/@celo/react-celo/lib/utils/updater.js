"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.updater = void 0;
const common_1 = require("../connectors/common");
const logger_1 = require("./logger");
const updater = (connector, dispatch) => {
    const logger = (0, logger_1.getApplicationLogger)();
    connector.on(common_1.ConnectorEvents.ADDRESS_CHANGED, (address) => {
        dispatch('setAddress', address);
    });
    connector.on(common_1.ConnectorEvents.NETWORK_CHANGED, (networkName) => {
        logger.log('Network Changing to', networkName);
        dispatch('setNetworkByName', networkName);
    });
    connector.on(common_1.ConnectorEvents.CONNECTED, (params) => {
        logger.log('Updater witnessed connection');
        dispatch('connect', params);
    });
    connector.on(common_1.ConnectorEvents.WALLET_CHAIN_CHANGED, (chainId) => {
        logger.log(`Wallet Chain Id is ${chainId}`);
        dispatch('setWalletChainId', chainId);
    });
    connector.on(common_1.ConnectorEvents.DISCONNECTED, () => {
        logger.log('Updater witnessed disconnection');
        dispatch('disconnect');
    });
    connector.on(common_1.ConnectorEvents.WC_ERROR, (error) => {
        logger.log('Updater witnessed error', error);
        dispatch('setConnectorInitError', error);
    });
};
exports.updater = updater;
exports.default = exports.updater;
//# sourceMappingURL=updater.js.map